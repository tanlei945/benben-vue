(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eae6265","chunk-2d22d262","fail","result","chunk-84cf1716","chunk-37a58318","chunk-5c74bc3f","chunk-654b65e8","chunk-55189cd9","chunk-1ab4d2b6","chunk-7f7f282e","chunk-5b72f9ec","chunk-6db152e4","chunk-5e122c76","chunk-240b24b0","chunk-2d0e4e51","chunk-2d0c8bc6","chunk-2d0aecfc","chunk-2d209ae6","chunk-2d0ae949","chunk-2d0cef18","chunk-2d0d30b9","chunk-2d0d4043"],{"0039":function(e,t,n){},"00be":function(e,t,n){},"0159":function(e,t,n){},"0181":function(e,t,n){},"019b":function(e,t,n){"use strict";var r=n("985c"),o=n.n(r);o.a},"02f4":function(e,t,n){var r=n("4588"),o=n("be13");e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):i-56320+(a-55296<<10)+65536)}}},"030f":function(e,t){(function(){(function(e){"use strict";var t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},n=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e){return function(){return e}},a=function(e){return e};function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var s,u=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},c=function(e){return function(){throw new Error(e)}},l=o(!1),d=o(!0),f=l,m=d,p=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},a=function(){return null},i=function(){},s={fold:function(e,t){return e()},is:f,isSome:f,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a,getOrUndefined:i,or:n,orThunk:t,map:p,ap:p,each:r,bind:p,flatten:p,exists:f,forall:m,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(s),s}(),g=function(e){var t=function(){return e},n=function(){return a},r=function(t){return g(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(p,function(t){return g(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:h},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},v=function(e){return null===e||void 0===e?h:g(e)},b={some:g,none:p,from:v},y=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},w=function(e){return function(t){return y(t)===e}},x=w("string"),C=w("object"),S=w("array"),k=w("boolean"),_=w("function"),T=w("number"),O=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return H(e,t)};return void 0===e?n:t}(),E=function(e,t){var n=O(e,t);return-1===n?b.none():b.some(n)},D=function(e,t){return O(e,t)>-1},R=function(e,t){return j(e,t).isSome()},N=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},I=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o,e)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},M=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},B=function(e,t){for(var n=[],r=[],o=0,a=e.length;o<a;o++){var i=e[o],s=t(i,o,e)?n:r;s.push(i)}return{pass:n,fail:r}},L=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];t(a,r,e)&&n.push(a)}return n},P=function(e,t,n){return M(e,function(e){n=t(n,e)}),n},z=function(e,t,n){return A(e,function(e){n=t(n,e)}),n},F=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return b.some(o)}return b.none()},j=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return b.some(n)}return b.none()},H=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},V=Array.prototype.push,$=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);V.apply(t,e[n])}return t},U=function(e,t){var n=I(e,t);return $(n)},q=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n,e))return!1}return!0},W=Array.prototype.slice,K=function(e){var t=W.call(e,0);return t.reverse(),t},Y=function(e,t){return L(e,function(e){return!D(t,e)})},X=function(e){return[e]},G=function(e,t){var n=W.call(e,0);return n.sort(t),n},J=function(e){return 0===e.length?b.none():b.some(e[0])},Q=function(e){return 0===e.length?b.none():b.some(e[e.length-1])},Z=_(Array.from)?Array.from:function(e){return W.call(e)},ee=Object.keys,te=Object.hasOwnProperty,ne=function(e,t){for(var n=ee(e),r=0,o=n.length;r<o;r++){var a=n[r],i=e[a];t(i,a,e)}},re=function(e,t){return oe(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},oe=function(e,t){var n={};return ne(e,function(r,o){var a=t(r,o,e);n[a.k]=a.v}),n},ae=function(e,t){var n=[];return ne(e,function(e,r){n.push(t(e,r))}),n},ie=function(e,t){for(var n=ee(e),r=0,o=n.length;r<o;r++){var a=n[r],i=e[a];if(t(i,a,e))return b.some(i)}return b.none()},se=function(e){return ae(e,function(e){return e})},ue=function(e,t){return ce(e,t)?b.from(e[t]):b.none()},ce=function(e,t){return te.call(e,t)},le=function(e,t){var n={};return ne(e,function(e,r){D(t,r)||(n[r]=e)}),n},de=function(e){return function(t){return ce(t,e)?b.from(t[e]):b.none()}},fe=function(e,t){return function(n){return ce(n,e)?n[e]:t}},me=function(e,t){return de(t)(e)},pe=function(e,t){return ce(e,t)&&void 0!==e[t]&&null!==e[t]},he=function(e,t){var n={};return n[e]=t,n},ge=function(e){var t={};return A(e,function(e){t[e.key]=e.value}),t},ve=function(e){var t=function(t){return e===t},n=function(t){return ve(e)},r=function(t){return ve(e)},a=function(t){return ve(t(e))},i=function(t){return ve(e)},s=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},f=function(t){return t(e)},m=function(t){return t(e)},p=function(){return b.some(e)};return{is:t,isValue:d,isError:l,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:n,orThunk:r,fold:c,map:a,mapError:i,each:s,bind:u,exists:f,forall:m,toOption:p}},be=function(e){var n=function(e){return e()},r=function(){return c(String(e))()},o=function(e){return e},i=function(e){return e()},s=function(t){return be(e)},u=function(t){return be(t(e))},f=function(t){return be(e)},m=function(t,n){return t(e)};return{is:l,isValue:l,isError:d,getOr:a,getOrThunk:n,getOrDie:r,or:o,orThunk:i,fold:m,map:s,mapError:u,each:t,bind:f,exists:l,forall:d,toOption:b.none}},ye={value:ve,error:be},we=function(t){if(!S(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return A(t,function(o,a){var i=ee(o);if(1!==i.length)throw new Error("one and only one name per case");var s=i[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!S(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),i=0;i<o.length;i++)o[i]=arguments[i];var c=function(e){var t=ee(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=q(n,function(e){return D(t,e)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[a];return e.apply(null,o)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:o})}}}}),r},xe={generate:we},Ce=(xe.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return A(e,function(e){e.fold(function(e){t.push(e)},function(e){n.push(e)})}),{errors:t,values:n}}),Se=Object.prototype.hasOwnProperty,ke=function(e,t){return t},_e=function(e,t){var n=C(e)&&C(t);return n?Oe(e,t):t},Te=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var a=t[o];for(var i in a)Se.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},Oe=Te(_e),Ee=Te(ke),De=function(e,t){return le(e,t)},Re=function(e){return de(e)},Ne=function(e,t){return fe(e,t)},Ie=function(e,t){return me(e,t)},Ae=function(e,t){return he(e,t)},Me=function(e){return ge(e)},Be=function(e,t){return 0===e.length?ye.value(t):ye.value(Oe(t,Ee.apply(void 0,e)))},Le=function(e){return r(ye.error,$)(e)},Pe=function(e,t){var n=Ce(e);return n.errors.length>0?Le(n.errors):Be(n.values,t)},ze=function(e,t){return pe(e,t)},Fe=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return Fe(n())};return{get:n,set:r,clone:o}},je=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},He=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return b.none()},Ve=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return b.none();n.push(o.getOrDie())}return b.some(t.apply(null,n))},$e=o("touchstart"),Ue=o("touchmove"),qe=o("touchend"),We=o("mousedown"),Ke=o("mousemove"),Ye=o("mouseout"),Xe=o("mouseup"),Ge=o("mouseover"),Je=o("focusin"),Qe=o("focusout"),Ze=o("keydown"),et=o("keyup"),tt=o("input"),nt=o("change"),rt=o("click"),ot=o("transitionend"),at=o("selectstart"),it=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},st=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ut=function(e,t){var n=st(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return dt(r(1),r(2))},ct=function(e,t){var n=String(t).toLowerCase();return 0===e.length?lt():ut(e,n)},lt=function(){return dt(0,0)},dt=function(e,t){return{major:e,minor:t}},ft={nu:dt,detect:ct,unknown:lt},mt="Edge",pt="Chrome",ht="IE",gt="Opera",vt="Firefox",bt="Safari",yt=function(e,t){return function(){return t===e}},wt=function(){return xt({current:void 0,version:ft.unknown()})},xt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:yt(mt,t),isChrome:yt(pt,t),isIE:yt(ht,t),isOpera:yt(gt,t),isFirefox:yt(vt,t),isSafari:yt(bt,t)}},Ct={unknown:wt,nu:xt,edge:o(mt),chrome:o(pt),ie:o(ht),opera:o(gt),firefox:o(vt),safari:o(bt)},St="Windows",kt="iOS",_t="Android",Tt="Linux",Ot="OSX",Et="Solaris",Dt="FreeBSD",Rt=function(e,t){return function(){return t===e}},Nt=function(){return It({current:void 0,version:ft.unknown()})},It=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:Rt(St,t),isiOS:Rt(kt,t),isAndroid:Rt(_t,t),isOSX:Rt(Ot,t),isLinux:Rt(Tt,t),isSolaris:Rt(Et,t),isFreeBSD:Rt(Dt,t)}},At={unknown:Nt,nu:It,windows:o(St),ios:o(kt),android:o(_t),linux:o(Tt),osx:o(Ot),solaris:o(Et),freebsd:o(Dt)},Mt=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,u=r||i||s&&!0===/mobile/i.test(n),c=e.isiOS()||e.isAndroid(),l=c&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:o(r),isiPhone:o(a),isTablet:o(u),isPhone:o(l),isTouch:o(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(d)}},Bt=function(e,t){var n=String(t).toLowerCase();return F(e,function(e){return e.search(n)})},Lt=function(e,t){return Bt(e,t).map(function(e){var n=ft.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Pt=function(e,t){return Bt(e,t).map(function(e){var n=ft.detect(e.versionRegexes,t);return{current:e.name,version:n}})},zt={detectBrowser:Lt,detectOs:Pt},Ft=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;var r=e.substr(n,n+t.length);return r===t},jt=function(e,t){return-1!==e.indexOf(t)},Ht=function(e,t){return Ft(e,t,e.length-t.length)},Vt=function(e){return e.replace(/^\s+|\s+$/g,"")},$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ut=function(e){return function(t){return jt(t,e)}},qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=jt(e,"edge/")&&jt(e,"chrome")&&jt(e,"safari")&&jt(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(e){return jt(e,"chrome")&&!jt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return jt(e,"msie")||jt(e,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ut("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ut("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(jt(e,"safari")||jt(e,"mobile/"))&&jt(e,"applewebkit")}}],Wt=[{name:"Windows",search:Ut("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return jt(e,"iphone")||jt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ut("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ut("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ut("linux"),versionRegexes:[]},{name:"Solaris",search:Ut("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ut("freebsd"),versionRegexes:[]}],Kt={browsers:o(qt),oses:o(Wt)},Yt=function(e){var t=Kt.browsers(),n=Kt.oses(),r=zt.detectBrowser(t,e).fold(Ct.unknown,Ct.nu),o=zt.detectOs(n,e).fold(At.unknown,At.nu),a=Mt(o,r,e);return{browser:r,os:o,deviceType:a}},Xt={detect:Yt},Gt=it(function(){var t=e.navigator.userAgent;return Xt.detect(t)}),Jt={detect:Gt},Qt={tap:o("alloy.tap")},Zt=o("alloy.focus"),en=o("alloy.blur.post"),tn=o("alloy.paste.post"),nn=o("alloy.receive"),rn=o("alloy.execute"),on=o("alloy.focus.item"),an=Qt.tap,sn=Jt.detect().deviceType.isTouch()?Qt.tap:rt,un=o("alloy.longpress"),cn=o("alloy.sandbox.close"),ln=o("alloy.typeahead.cancel"),dn=o("alloy.system.init"),fn=o("alloy.system.scroll"),mn=o("alloy.system.resize"),pn=o("alloy.system.attached"),hn=o("alloy.system.detached"),gn=o("alloy.system.dismissRequested"),vn=o("alloy.focusmanager.shifted"),bn=o("alloy.slotcontainer.visibility"),yn=o("alloy.change.tab"),wn=o("alloy.dismiss.tab"),xn=o("alloy.highlight"),Cn=o("alloy.dehighlight"),Sn=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Tn(o.childNodes[0])},kn=function(t,n){var r=n||e.document,o=r.createElement(t);return Tn(o)},_n=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Tn(o)},Tn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},On=function(e,t,n){var r=e.dom();return b.from(r.elementFromPoint(t,n)).map(Tn)},En={fromHtml:Sn,fromTag:kn,fromText:_n,fromDom:Tn,fromPoint:On},Dn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return A(e,function(e,n){r[e]=o(t[n])}),r}},Rn=function(e){return e.slice(0).sort()},Nn=function(e,t){throw new Error("All required keys ("+Rn(e).join(", ")+") were not specified. Specified keys were: "+Rn(t).join(", ")+".")},In=function(e){throw new Error("Unsupported keys for object: "+Rn(e).join(", "))},An=function(e,t){if(!S(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");A(t,function(t){if(!x(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},Mn=function(e){var t=Rn(e),n=F(t,function(e,n){return n<t.length-1&&e===t[n+1]});n.each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Bn=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return An("required",e),An("optional",t),Mn(n),function(r){var a=ee(r),i=q(e,function(e){return D(a,e)});i||Nn(e,a);var s=L(a,function(e){return!D(n,e)});s.length>0&&In(s);var u={};return A(e,function(e){u[e]=o(r[e])}),A(t,function(e){u[e]=o(Object.prototype.hasOwnProperty.call(r,e)?b.some(r[e]):b.none())}),u}},Ln="undefined"!==typeof e.window?e.window:Function("return this;")(),Pn=function(e,t){for(var n=void 0!==t&&null!==t?t:Ln,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},zn=function(e,t){var n=e.split(".");return Pn(n,t)},Fn=function(e,t){return zn(e,t)},jn=function(e,t){var n=Fn(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},Hn={getOrDie:jn},Vn=function(){var e=Hn.getOrDie("Node");return e},$n=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Un=function(e,t){return $n(e,t,Vn().DOCUMENT_POSITION_PRECEDING)},qn=function(e,t){return $n(e,t,Vn().DOCUMENT_POSITION_CONTAINED_BY)},Wn={documentPositionPreceding:Un,documentPositionContainedBy:qn},Kn=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),Yn=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Xn=e.Node.TEXT_NODE,Gn=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Yn),Jn=Kn,Qn=function(e,t){var n=e.dom();if(n.nodeType!==Gn)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Zn=function(e){return e.nodeType!==Gn&&e.nodeType!==Jn||0===e.childElementCount},er=function(t,n){var r=void 0===n?e.document:n.dom();return Zn(r)?[]:I(r.querySelectorAll(t),En.fromDom)},tr=function(t,n){var r=void 0===n?e.document:n.dom();return Zn(r)?b.none():b.from(r.querySelector(t)).map(En.fromDom)},nr=function(e,t){return e.dom()===t.dom()},rr=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},or=function(e,t){return Wn.documentPositionContainedBy(e.dom(),t.dom())},ar=Jt.detect().browser,ir=(ar.isIE(),function(e){return En.fromDom(e.dom().ownerDocument)}),sr=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return En.fromDom(n)},ur=function(e){var t=e.dom();return b.from(t.parentNode).map(En.fromDom)},cr=function(e){var t=e.dom();return b.from(t.offsetParent).map(En.fromDom)},lr=function(e){var t=e.dom();return b.from(t.nextSibling).map(En.fromDom)},dr=function(e){var t=e.dom();return I(t.childNodes,En.fromDom)},fr=function(e,t){var n=e.dom().childNodes;return b.from(n[t]).map(En.fromDom)},mr=function(e){return fr(e,0)},pr=(Dn("element","offset"),function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,dr(En.fromDom(o))}),hr=function(e,t){var n=ur(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},gr=function(e,t){var n=lr(e);n.fold(function(){var n=ur(e);n.each(function(e){br(e,t)})},function(e){hr(e,t)})},vr=function(e,t){var n=mr(e);n.fold(function(){br(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},br=function(e,t){e.dom().appendChild(t.dom())},yr=function(e,t,n){fr(e,n).fold(function(){br(e,t)},function(e){hr(e,t)})},wr=function(e,t){A(t,function(t){br(e,t)})},xr=function(e){e.dom().textContent="",A(dr(e),function(e){Cr(e)})},Cr=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Sr=function(e){return e.dom().innerHTML},kr=function(e,t){var n=ir(e),r=n.dom(),o=En.fromDom(r.createDocumentFragment()),a=pr(t,r);wr(o,a),xr(e),br(e,o)},_r=function(e){var t=En.fromTag("div"),n=En.fromDom(e.dom().cloneNode(!0));return br(t,n),Sr(t)},Tr=function(e){var t=e.dom().nodeName;return t.toLowerCase()},Or=function(e){return e.dom().nodeType},Er=function(e){return function(t){return Or(t)===e}},Dr=Er(Yn),Rr=Er(Xn),Nr=Er(Kn),Ir=function(t,n,r){if(!(x(r)||k(r)||T(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Ar=function(e,t,n){Ir(e.dom(),t,n)},Mr=function(e,t){var n=e.dom();ne(t,function(e,t){Ir(n,t,e)})},Br=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Lr=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Pr=function(e,t){e.dom().removeAttribute(t)},zr=function(e,t){return En.fromDom(e.dom().cloneNode(t))},Fr=function(e){return zr(e,!1)},jr=function(e){var t=Fr(e);return _r(t)},Hr=function(e){return jr(e)},Vr="unknown",$r="__CHROME_INSPECTOR_CONNECTION_TO_ALLOY__";(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(s||(s={}));var Ur=Fe({}),qr=function(t,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var a=(new Date).getTime();D(["mousemove","mouseover","mouseout",dn()],t)||e.console.log(t,{event:t,time:a-o,target:n.dom(),sequence:I(r,function(e){return D(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Hr(e.target)+")":e.outcome})})}}},Wr=function(e,t,n){var r=Ie(Ur.get(),e).orThunk(function(){var t=ee(Ur.get());return He(t,function(t){return e.indexOf(t)>-1?b.some(Ur.get()[t]):b.none()})}).getOr(s.NORMAL);switch(r){case s.NORMAL:return n(eo());case s.LOGGING:var o=qr(e,t),a=n(o);return o.write(),a;case s.STOP:return!0}},Kr=["alloy/data/Fields","alloy/debugging/Debugging"],Yr=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return F(t,function(e){return e.indexOf("alloy")>0&&!R(Kr,function(t){return e.indexOf(t)>-1})}).getOr(Vr)}return Vr},Xr={logEventCut:t,logEventStopped:t,logNoParent:t,logEventNoHandlers:t,logEventResponse:t,write:t},Gr=function(e,t,n){return Wr(e,t,n)},Jr=function(e){var t=function(e){var n=e.spec();return{"(original.spec)":n,"(dom.ref)":e.element().dom(),"(element)":Hr(e.element()),"(initComponents)":I(void 0!==n.components?n.components:[],t),"(components)":I(e.components(),t),"(bound.events)":ae(e.events(),function(e,t){return[t]}).join(", "),"(behaviours)":void 0!==n.behaviours?re(n.behaviours,function(t,n){return void 0===t?"--revoked--":{config:t.configAsRaw(),"original-config":t.initialConfig,state:e.readState(n)}}):"none"}};return t(e)},Qr=function(){if(void 0!==e.window[$r])return e.window[$r];var t=function(e,t){var n=Ur.get();n[e]=t,Ur.set(n)};return e.window[$r]={systems:{},lookup:function(t){var n=e.window[$r].systems,r=ee(n);return He(r,function(e){var r=n[e];return r.getByUid(t).toOption().map(function(e){return Ae(Hr(e.element()),Jr(e))})}).orThunk(function(){return b.some({error:"Systems ("+r.join(", ")+") did not contain uid: "+t})})},events:{setToNormal:function(e){t(e,s.NORMAL)},setToLogging:function(e){t(e,s.LOGGING)},setToStop:function(e){t(e,s.STOP)}}},e.window[$r]},Zr=function(e,t){var n=Qr();n.systems[e]=t},eo=o(Xr),to=0,no=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return to++,e+"_"+r+to+String(n)},ro=tinymce.util.Tools.resolve("tinymce.ThemeManager"),oo=function(){return oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oo.apply(this,arguments)};function ao(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}var io,so=xe.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),uo=function(e){return so.defaultedThunk(o(e))},co=function(e){return so.mergeWithThunk(o(e))},lo=so.strict,fo=so.asOption,mo=so.defaultedThunk,po=(so.asDefaultedOptionThunk,so.mergeWithThunk);(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(io||(io={}));var ho=function(e,t,n){return e.stype===io.Error?t(e.serror):n(e.svalue)},go=function(e){var t=[],n=[];return A(e,function(e){ho(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},vo=function(e,t){return e.stype===io.Error?{stype:io.Error,serror:t(e.serror)}:e},bo=function(e,t){return e.stype===io.Value?{stype:io.Value,svalue:t(e.svalue)}:e},yo=function(e,t){return e.stype===io.Value?t(e.svalue):e},wo=function(e,t){return e.stype===io.Error?t(e.serror):e},xo=function(e){return{stype:io.Value,svalue:e}},Co=function(e){return{stype:io.Error,serror:e}},So=function(e){return ho(e,ye.error,ye.value)},ko=function(e){return e.fold(Co,xo)},_o={fromResult:ko,toResult:So,svalue:xo,partition:go,serror:Co,bind:yo,bindError:wo,map:bo,mapError:vo,fold:ho},To=function(e,t){return e.length>0?_o.svalue(Oe(t,Ee.apply(void 0,e))):_o.svalue(t)},Oo=function(e){return r(_o.serror,$)(e)},Eo=function(e,t){var n=_o.partition(e);return n.errors.length>0?Oo(n.errors):To(n.values,t)},Do=function(e){var t=_o.partition(e);return t.errors.length>0?Oo(t.errors):_o.svalue(t.values)},Ro={consolidateObj:Eo,consolidateArr:Do},No=xe.generate([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),Io=xe.generate([{field:["name","presence","type"]},{state:["name"]}]),Ao=function(){return Hn.getOrDie("JSON")},Mo=function(e){return Ao().parse(e)},Bo=function(e,t,n){return Ao().stringify(e,t,n)},Lo={parse:Mo,stringify:Bo},Po=function(e){return C(e)&&ee(e).length>100?" removed due to size":Lo.stringify(e,null,2)},zo=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return I(t,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})},Fo=function(e,t){return _o.serror([{path:e,getErrorInfo:t}])},jo=function(e,t,n){return Fo(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+Po(n)})},Ho=function(e,t){return Fo(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},Vo=function(e,t,n){return Fo(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Po(t)})},$o=function(e,t){return Fo(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},Uo=function(e,t){return Fo(e,function(){return t})},qo=xe.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Wo=function(e,t,n){return me(t,n).fold(function(){return jo(e,n,t)},_o.svalue)},Ko=function(e,t,n){var r=me(e,t).fold(function(){return n(e)},a);return _o.svalue(r)},Yo=function(e,t){return _o.svalue(me(e,t))},Xo=function(e,t,n){var r=me(e,t).map(function(t){return!0===t?n(e):t});return _o.svalue(r)},Go=function(e,t,n,r){return n.fold(function(n,a,i,s){var u=function(t){var o=s.extract(e.concat([n]),r,t);return _o.map(o,function(e){return he(a,r(e))})},c=function(t){return t.fold(function(){var e=he(a,r(b.none()));return _o.svalue(e)},function(t){var o=s.extract(e.concat([n]),r,t);return _o.map(o,function(e){return he(a,r(b.some(e)))})})};return function(){return i.fold(function(){return _o.bind(Wo(e,t,n),u)},function(e){return _o.bind(Ko(t,n,e),u)},function(){return _o.bind(Yo(t,n),c)},function(e){return _o.bind(Xo(t,n,e),c)},function(e){var r=e(t),a=_o.map(Ko(t,n,o({})),function(e){return Oe(r,e)});return _o.bind(a,u)})}()},function(e,n){var o=n(t);return _o.svalue(he(e,r(o)))})},Jo=function(e,t,n,r){var o=I(n,function(n){return Go(e,t,n,r)});return Ro.consolidateObj(o,{})},Qo=function(e){var t=function(t,n,r){return _o.bindError(e(r,n),function(e){return Uo(t,e)})},n=function(){return"val"},r=function(){return No.itemOf(e)};return{extract:t,toString:n,toDsl:r}},Zo=function(e){var t=ee(e);return L(t,function(t){return ze(e,t)})},ea=function(e){var t=ta(e),n=P(e,function(e,t){return t.fold(function(t){return Oe(e,Ae(t,!0))},o(e))},{}),r=function(e,r,o){var a=k(o)?[]:Zo(o),i=L(a,function(e){return!ze(n,e)});return 0===i.length?t.extract(e,r,o):$o(e,i)};return{extract:r,toString:t.toString,toDsl:t.toDsl}},ta=function(e){var t=function(t,n,r){return Jo(t,r,e,n)},n=function(){var t=I(e,function(e){return e.fold(function(e,t,n,r){return e+" -> "+r.toString()},function(e,t){return"state("+e+")"})});return"obj{\n"+t.join("\n")+"}"},r=function(){return No.objOf(I(e,function(e){return e.fold(function(e,t,n,r){return Io.field(e,n,r)},function(e,t){return Io.state(e)})}))};return{extract:t,toString:n,toDsl:r}},na=function(e){var t=function(t,n,r){var o=I(r,function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)});return Ro.consolidateArr(o)},n=function(){return"array("+e.toString()+")"},r=function(){return No.arrOf(e)};return{extract:t,toString:n,toDsl:r}},ra=function(e,t){var n=function(t,n){return na(Qo(e)).extract(t,a,n)},r=function(e,r,o){var a=ee(o),i=n(e,a);return _o.bind(i,function(n){var a=I(n,function(e){return qo.field(e,e,lo(),t)});return ta(a).extract(e,r,o)})},o=function(){return"setOf("+t.toString()+")"},i=function(){return No.setOf(e,t)};return{extract:r,toString:o,toDsl:i}},oa=o(Qo(_o.svalue)),aa=r(na,ta),ia=qo.state,sa=qo.field,ua=function(e,t,n,r,o){var a=Ie(r,o);return a.fold(function(){return Vo(e,r,o)},function(r){return ta(r).extract(e.concat(["branch: "+o]),t,n)})},ca=function(e,t){var n=function(n,r,o){var a=Ie(o,e);return a.fold(function(){return Ho(n,e)},function(e){return ua(n,r,o,t,e)})},r=function(){return"chooseOn("+e+"). Possible values: "+ee(t)},o=function(){return No.choiceOf(e,t)};return{extract:n,toString:r,toDsl:o}},la=Qo(_o.svalue),da=function(e){return aa(e)},fa=function(){return na(la)},ma=function(e){return Qo(function(t){return e(t).fold(_o.serror,_o.svalue)})},pa=function(e,t){return ra(function(t){return _o.fromResult(e(t))},t)},ha=function(e,t,n,r){var o=t.extract([e],n,r);return _o.mapError(o,function(e){return{input:r,errors:e}})},ga=function(e,t,n){return _o.toResult(ha(e,t,a,n))},va=function(e){return e.fold(function(e){throw new Error(ya(e))},a)},ba=function(e,t,n){return va(ga(e,t,n))},ya=function(e){return"Errors: \n"+zo(e.errors)+"\n\nInput object: "+Po(e.input)},wa=function(e,t){return ca(e,t)},xa=o(la),Ca=function(e,t){return Qo(function(n){var r=typeof n;return e(n)?_o.svalue(n):_o.serror("Expected type: "+t+" but got: "+r)})},Sa=Ca(T,"number"),ka=Ca(x,"string"),_a=Ca(k,"boolean"),Ta=Ca(_,"function"),Oa=function(e){return ma(function(t){return D(e,t)?ye.value(t):ye.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},Ea=function(e){return sa(e,e,lo(),oa())},Da=function(e,t){return sa(e,e,lo(),t)},Ra=function(e){return Da(e,Sa)},Na=function(e){return Da(e,ka)},Ia=function(e,t){return sa(e,e,lo(),Oa(t))},Aa=function(e){return Da(e,Ta)},Ma=function(e,t){return sa(e,e,fo(),Qo(function(n){return _o.serror("The field: "+e+" is forbidden. "+t)}))},Ba=function(e,t){return sa(e,e,lo(),ta(t))},La=function(e,t){return sa(e,e,lo(),aa(t))},Pa=function(e,t){return sa(e,e,lo(),na(t))},za=function(e){return sa(e,e,fo(),oa())},Fa=function(e,t){return sa(e,e,fo(),t)},ja=function(e){return Fa(e,ka)},Ha=function(e){return Fa(e,Ta)},Va=function(e,t){return sa(e,e,fo(),ta(t))},$a=function(e,t){return sa(e,e,fo(),ea(t))},Ua=function(e,t){return sa(e,e,uo(t),oa())},qa=function(e,t,n){return sa(e,e,uo(t),n)},Wa=function(e,t){return qa(e,t,Sa)},Ka=function(e,t){return qa(e,t,ka)},Ya=function(e,t,n){return qa(e,t,Oa(n))},Xa=function(e,t){return qa(e,t,_a)},Ga=function(e,t){return qa(e,t,Ta)},Ja=function(e,t,n){return sa(e,e,uo(t),ta(n))},Qa=function(e,t){return ia(e,t)},Za=function(e,t){return nr(e.element(),t.event().target())},ei=function(e){if(!ze(e,"can")&&!ze(e,"abort")&&!ze(e,"run"))throw new Error("EventHandler defined by: "+Lo.stringify(e,null,2)+" does not have can, abort, or run!");return ba("Extracting event.handler",ea([Ua("can",o(!0)),Ua("abort",o(!1)),Ua("run",t)]),e)},ti=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return z(e,function(e,r){return e&&t(r).apply(void 0,n)},!0)}},ni=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return z(e,function(e,r){return e||t(r).apply(void 0,n)},!1)}},ri=function(e){return _(e)?{can:o(!0),abort:o(!1),run:e}:e},oi=function(e){var t=ti(e,function(e){return e.can}),n=ni(e,function(e){return e.abort}),r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A(e,function(e){e.run.apply(void 0,t)})};return ei({can:t,abort:n,run:r})},ai=function(e,t){ci(e,e.element(),t,{})},ii=function(e,t,n){ci(e,e.element(),t,n)},si=function(e){ai(e,rn())},ui=function(e,t,n){ci(e,t,n,{})},ci=function(e,t,n,r){var a=oo({target:t},r);e.getSystem().triggerEvent(n,t,re(a,o))},li=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())};function di(e,t,n,r,o){return e(n,r)?b.some(n):_(o)&&o(n)?b.none():t(n,r,o)}var fi=function(e){var t=Rr(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},mi=it(function(){return pi(En.fromDom(e.document))}),pi=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return En.fromDom(t)},hi=function(e,t,n){var r=e.dom(),a=_(n)?n:o(!1);while(r.parentNode){r=r.parentNode;var i=En.fromDom(r);if(t(i))return b.some(i);if(a(i))break}return b.none()},gi=function(e,t,n){var r=function(e){return t(e)};return di(r,hi,e,t,n)},vi=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(En.fromDom(e.childNodes[r])))return b.some(En.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return b.none()};return n(e.dom())},bi=function(e,t,n){var r=gi(e,function(e){return t(e).isSome()},n);return r.bind(t)},yi=function(e){return Me(e)},wi=function(e,t){return{key:e,value:ei({abort:t})}},xi=function(e,t){return{key:e,value:ei({can:t})}},Ci=function(e){return{key:e,value:ei({run:function(e,t){t.event().prevent()}})}},Si=function(e,t){return{key:e,value:ei({run:t})}},ki=function(e,t,n){return{key:e,value:ei({run:function(e){t.apply(void 0,[e].concat(n))}})}},_i=function(e){return function(t){return Si(e,t)}},Ti=function(e){return function(t){return{key:e,value:ei({run:function(e,n){Za(e,n)&&t(e,n)}})}}},Oi=function(e,t){return Si(e,function(n,r){n.getSystem().getByUid(t).each(function(t){li(t,t.element(),e,r)})})},Ei=function(e,t,n){var r=t.partUids[n];return Oi(e,r)},Di=function(e,t){return Si(e,function(e,n){var r=n.event(),a=e.getSystem().getByDom(r.target()).fold(function(){var t=bi(r.target(),function(t){return e.getSystem().getByDom(t).toOption()},o(!1));return t.getOr(e)},function(e){return e});t(e,a,n)})},Ri=function(e){return Si(e,function(e,t){t.cut()})},Ni=function(e){return Si(e,function(e,t){t.stop()})},Ii=function(e,t){return Ti(e)(t)},Ai=Ti(pn()),Mi=Ti(hn()),Bi=Ti(dn()),Li=_i(rn()),Pi=function(e,t,n){return nr(t,e.element())&&!nr(t,n)},zi=yi([xi(Zt(),function(t,n){var r=n.event().originator(),o=n.event().target();return!Pi(t,r,o)||(e.console.warn(Zt()+" did not get interpreted by the desired target. \nOriginator: "+Hr(r)+"\nTarget: "+Hr(o)+"\nCheck the "+Zt()+" event handlers"),!1)})]),Fi=Object.freeze({events:zi}),ji=o("alloy-id-"),Hi=o("data-alloy-id"),Vi=ji(),$i=Hi(),Ui=function(e,t){var n=no(Vi+e);return qi(t,n),n},qi=function(e,t){Object.defineProperty(e.dom(),$i,{value:t,writable:!0})},Wi=function(e){var t=Dr(e)?e.dom()[$i]:null;return b.from(t)},Ki=function(e){return no(e)},Yi=a,Xi=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+"\n"+Hr(e().element())+" is not in context.")}};return{debugInfo:o("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:o(!1)}},Gi=Xi(),Ji=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,a=r.indexOf("("),i=r.substring(a+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Qi(i.slice(0,1).concat(i.slice(3)))}},e},Qi=function(e){return I(e,function(e){return Ht(e,"/*")?e.substring(0,e.length-"/*".length):e})},Zi=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),a=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:Qi(a)}},e},es=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),a=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Qi(a.slice(1))}},e},ts=no("alloy-premade"),ns=function(e){return Ae(ts,e)},rs=function(e){return Ie(e,ts)},os=function(e){return es(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,[t.getApis()].concat([t].concat(n)))},e)},as={init:function(){return is({readState:function(){return"No State required"}})}},is=function(e){return e},ss=function(e,t){var n=I(t,function(e){return Va(e.name(),[Ea("config"),Ua("state",as)])}),r=ga("component.behaviours",ta(n),e.behaviours).fold(function(t){throw new Error(ya(t)+"\nComplete spec:\n"+Lo.stringify(e,null,2))},function(e){return e});return{list:t,data:re(r,function(e){var t=e,n=t.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return n}})}},us=function(e){return e.list},cs=function(e){return e.data},ls=function(e,t){var n={};return ne(e,function(e,r){ne(e,function(e,o){var a=Ne(o,[])(n);n[o]=a.concat([t(r,e)])})}),n},ds=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},fs=function(e,t){return oo({},e,{attributes:oo({},e.attributes,t.attributes),styles:oo({},e.styles,t.styles),classes:e.classes.concat(t.classes)})},ms=function(e,t,n,r){var o=oo({},t);A(n,function(t){o[t.name()]=t.exhibit(e,r)});var a=function(e,t){return{name:e,modification:t}},i=ls(o,a),s=function(e){return P(e,function(e,t){return oo({},t.modification,e)},{})},u=P(i.classes,function(e,t){return t.modification.concat(e)},[]),c=s(i.attributes),l=s(i.styles);return ds({classes:u,attributes:c,styles:l})},ps=function(e,t,n,r){var o=n.slice(0);try{var a=o.sort(function(n,o){var a=n[t](),i=o[t](),s=r.indexOf(a),u=r.indexOf(i);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+Lo.stringify(r,null,2));if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+Lo.stringify(r,null,2));return s<u?-1:u<s?1:0});return ye.value(a)}catch(i){return ye.error([i])}},hs=function(e,t){return{handler:e,purpose:o(t)}},gs=function(e,t){return{cHandler:e,purpose:o(t)}},vs=function(e,t){return gs(i.apply(void 0,[e.handler].concat(t)),e.purpose())},bs=function(e){return e.cHandler},ys=function(e,t){return{name:o(e),handler:o(t)}},ws=function(e,t){var n={};return A(e,function(e){n[e.name()]=e.handlers(t)}),n},xs=function(e,t,n){var r=oo({},n,ws(t,e));return ls(r,ys)},Cs=function(e,t,n,r){var o=xs(e,n,r);return Ts(o,t)},Ss=function(e){var t=ri(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=[e,n].concat(r);t.abort.apply(void 0,a)?n.stop():t.can.apply(void 0,a)&&t.run.apply(void 0,a)}},ks=function(e,t){return ye.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+Lo.stringify(I(t,function(e){return e.name()}),null,2)])},_s=function(e,t,n){var r=t[n];return r?ps("Event: "+n,"name",e,r).map(function(e){var t=I(e,function(e){return e.handler()});return oi(t)}):ks(n,e)},Ts=function(e,t){var n=ae(e,function(e,n){var r=1===e.length?ye.value(e[0].handler()):_s(e,t,n);return r.map(function(r){var o=Ss(r),a=e.length>1?L(t,function(t){return D(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return Ae(n,hs(o,a))})});return Pe(n,{})},Os=function(e){return ga("custom.definition",ta([sa("dom","dom",lo(),ta([Ea("tag"),Ua("styles",{}),Ua("classes",[]),Ua("attributes",{}),za("value"),za("innerHtml")])),Ea("components"),Ea("uid"),Ua("events",{}),Ua("apis",{}),sa("eventOrder","eventOrder",co({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]}),xa()),za("domModification")]),e)},Es=function(e){return oo({},e.dom,{uid:e.uid,domChildren:I(e.components,function(e){return e.element()})})},Ds=function(e){return e.domModification.fold(function(){return ds({})},ds)},Rs=function(e){return e.events},Ns=function(e,t){var n=Br(e,t);return void 0===n||""===n?[]:n.split(" ")},Is=function(e,t,n){var r=Ns(e,t),o=r.concat([n]);return Ar(e,t,o.join(" ")),!0},As=function(e,t,n){var r=L(Ns(e,t),function(e){return e!==n});return r.length>0?Ar(e,t,r.join(" ")):Pr(e,t),!1},Ms=function(e){return void 0!==e.dom().classList},Bs=function(e){return Ns(e,"class")},Ls=function(e,t){return Is(e,"class",t)},Ps=function(e,t){return As(e,"class",t)},zs=function(e,t){Ms(e)?e.dom().classList.add(t):Ls(e,t)},Fs=function(e){var t=Ms(e)?e.dom().classList:Bs(e);0===t.length&&Pr(e,"class")},js=function(e,t){if(Ms(e)){var n=e.dom().classList;n.remove(t)}else Ps(e,t);Fs(e)},Hs=function(e,t){return Ms(e)&&e.dom().classList.contains(t)},Vs=function(e,t){A(t,function(t){zs(e,t)})},$s=function(e,t){A(t,function(t){js(e,t)})},Us=function(e){return void 0!==e.style},qs=function(t,n,r){if(!x(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Us(t)&&t.style.setProperty(n,r)},Ws=function(e,t){Us(e)&&e.style.removeProperty(t)},Ks=function(e,t,n){var r=e.dom();qs(r,t,n)},Ys=function(e,t){var n=e.dom();ne(t,function(e,t){qs(n,t,e)})},Xs=function(e,t){var n=e.dom();ne(t,function(e,t){e.fold(function(){Ws(n,t)},function(e){qs(n,t,e)})})},Gs=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),a=o.getPropertyValue(n),i=""!==a||fi(t)?a:Js(r,n);return null===i?void 0:i},Js=function(e,t){return Us(e)?e.style.getPropertyValue(t):""},Qs=function(e,t){var n=e.dom(),r=Js(n,t);return b.from(r).filter(function(e){return e.length>0})},Zs=function(e,t,n){var r=En.fromTag(e);Ks(r,t,n);var o=Qs(r,t);return o.isSome()},eu=function(e,t){var n=e.dom();Ws(n,t),Lr(e,"style")&&""===Vt(Br(e,"style"))&&Pr(e,"style")},tu=function(e){return e.dom().offsetWidth},nu=function(e){return e.dom().value},ru=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},ou=function(e){var t=En.fromTag(e.tag);Mr(t,e.attributes),Vs(t,e.classes),Ys(t,e.styles),e.innerHtml.each(function(e){return kr(t,e)});var n=e.domChildren;return wr(t,n),e.value.each(function(e){ru(t,e)}),e.uid,qi(t,e.uid),t},au=function(e){var t=Ne("behaviours",{})(e),n=L(ee(t),function(e){return void 0!==t[e]});return I(n,function(e){return t[e].me})},iu=function(e,t){return ss(e,t)},su=function(e){var t=au(e);return iu(e,t)},uu=function(e,t,n){var r=Es(e),o=Ds(e),a={"alloy.base.modification":o},i=t.length>0?ms(n,a,t,r):o;return fs(r,i)},cu=function(e,t,n){var r={"alloy.base.behaviour":Rs(e)};return Cs(n,e.eventOrder,t,r).getOrDie()},lu=function(e){var t=function(){return y},n=Fe(Gi),r=va(Os(e)),a=su(e),i=us(a),s=cs(a),u=uu(r,i,s),c=ou(u),l=cu(r,i,s),d=Fe(r.components),f=function(e){n.set(e)},m=function(){n.set(Xi(t))},p=function(){var e=dr(c),t=U(e,function(e){return n.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});d.set(t)},h=function(t){var n=s,r=_(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+Lo.stringify(e,null,2))};return r()},g=function(e){return _(s[e.name()])},v=function(){return r.apis},b=function(e){return s[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},y={getSystem:n.get,config:h,hasConfigured:g,spec:o(e),readState:b,getApis:v,connect:f,disconnect:m,element:o(c),syncComponents:p,components:d.get,events:o(l)};return y},du=function(e){var t=Ne("components",[])(e);return I(t,gu)},fu=function(e){var t=Yi(e),n=t.events,r=ao(t,["events"]),o=du(r),a=oo({},r,{events:oo({},Fi,n),components:o});return ye.value(lu(a))},mu=function(e){var t=En.fromText(e);return pu({element:t})},pu=function(e){var n=ba("external.component",ea([Ea("element"),za("uid")]),e),r=Fe(Xi()),a=function(e){r.set(e)},i=function(){r.set(Xi(function(){return s}))};n.uid.each(function(e){qi(n.element,e)});var s={getSystem:r.get,config:b.none,hasConfigured:o(!1),connect:a,disconnect:i,getApis:function(){return{}},element:o(n.element),spec:o(e),readState:o("No state"),syncComponents:t,components:o([]),events:o({})};return ns(s)},hu=Ki,gu=function(e){return rs(e).fold(function(){var t=e.hasOwnProperty("uid")?e:oo({uid:hu("")},e);return fu(t).getOrDie()},function(e){return e})},vu=ns,bu=function(e,t,n){return gi(e,t,n).isSome()},yu=function(e,t,n){return hi(e,function(e){return Qn(e,t)},n)},wu=function(e,t){return tr(t,e)},xu=function(e,t,n){return di(Qn,yu,e,t,n)},Cu=function(e){var t=gi(e,function(e){if(!Dr(e))return!1;var t=Br(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1});return t.bind(function(e){var t=Br(e,"id"),n=ir(e);return wu(n,'[aria-owns="'+t+'"]')})},Su=function(){var e=no("aria-owns"),t=function(t){Ar(t,"aria-owns",e)},n=function(e){Pr(e,"aria-owns")};return{id:o(e),link:t,unlink:n}},ku=function(e,t){return Cu(t).exists(function(t){return _u(e,t)})},_u=function(e,t){return bu(t,function(t){return nr(t,e.element())},o(!1))||ku(e,t)},Tu=o([Ea("menu"),Ea("selectedMenu")]),Ou=o([Ea("item"),Ea("selectedItem")]),Eu=(o(ta(Ou().concat(Tu()))),o(ta(Ou()))),Du=Ba("initSize",[Ea("numColumns"),Ea("numRows")]),Ru=function(){return Da("markers",Eu())},Nu=function(){return Ba("markers",[Ea("backgroundMenu")].concat(Tu()).concat(Ou()))},Iu=function(e){return Ba("markers",I(e,Ea))},Au=function(e,t,n){Yr();return sa(t,t,n,ma(function(e){return ye.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},Mu=function(e){return Au("onHandler",e,uo(t))},Bu=function(e){return Au("onKeyboardHandler",e,uo(b.none))},Lu=function(e){return Au("onHandler",e,lo())},Pu=function(e){return Au("onKeyboardHandler",e,lo())},zu=function(e,t){return Qa(e,o(t))},Fu=function(e){return Qa(e,a)},ju=o(Du),Hu=function(e,t,n){return Li(function(r){n(r,e,t)})},Vu=function(e,t,n){return Bi(function(r,o){n(r,e,t)})},$u=function(e,t,n,r,o,a){var i=ea(e),s=Va(t,[$a("config",e)]);return Ku(i,s,t,n,r,o,a)},Uu=function(e,t,n,r,o,a){var i=e,s=Va(t,[Fa("config",e)]);return Ku(i,s,t,n,r,o,a)},qu=function(e,t,n){var r=function(r){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var s=[r].concat(a);return r.config({name:o(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(s,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})};return Ji(r,n,t)},Wu=function(e){return{key:e,value:void 0}},Ku=function(e,t,n,r,o,a,s){var u=function(e){return ze(e,n)?e[n]():b.none()},c=re(o,function(e,t){return qu(n,e,t)}),l=re(a,function(e,t){return Zi(e,t)}),d=oo({},l,c,{revoke:i(Wu,n),config:function(t){var r=ba(n+"-config",e,t);return{key:n,value:{config:r,me:d,configAsRaw:it(function(){return ba(n+"-config",e,t)}),initialConfig:t,state:s}}},schema:function(){return t},exhibit:function(e,t){return u(e).bind(function(e){return Ie(r,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(ds({}))},name:function(){return n},handlers:function(e){return u(e).map(function(e){var t=Ne("events",function(e,t){return{}})(r);return t(e.config,e.state)}).getOr({})}});return d},Yu=function(e){return Me(e)},Xu=ea([Ea("fields"),Ea("name"),Ua("active",{}),Ua("apis",{}),Ua("state",as),Ua("extra",{})]),Gu=function(e){var t=ba("Creating behaviour: "+e.name,Xu,e);return $u(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Ju=ea([Ea("branchKey"),Ea("branches"),Ea("name"),Ua("active",{}),Ua("apis",{}),Ua("state",as),Ua("extra",{})]),Qu=function(e){var t=ba("Creating behaviour: "+e.name,Ju,e);return Uu(wa(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Zu=o(void 0),ec=function(e,t){return t.universal()?e:L(e,function(e){return D(t.channels(),e)})},tc=function(e){return yi([Si(nn(),function(t,n){var r=e.channels,o=ee(r),a=ec(o,n);A(a,function(e){var o=r[e],a=o.schema,i=ba("channel["+e+"] data\nReceiver: "+Hr(t.element()),a,n.data());o.onReceive(t,i)})})])},nc=Object.freeze({events:tc}),rc=[Da("channels",pa(ye.value,ea([Lu("onReceive"),Ua("schema",xa())])))],oc=Gu({fields:rc,name:"receiving",active:nc}),ac=function(e,t){return ds({classes:[],styles:t.useFixed?{}:{position:"relative"}})},ic=Object.freeze({exhibit:ac}),sc=function(t,n){var r=n||En.fromDom(e.document.documentElement);return hi(t,i(nr,r)).isSome()},uc=function(t){var n=t.dom();return n===n.window&&t instanceof e.Window?t:Nr(t)?n.defaultView||n.parentWindow:null},cc=function(e,t){var n=function(n,r){return cc(e+n,t+r)};return{left:o(e),top:o(t),translate:n}},lc=cc,dc=function(e){var t=e.getBoundingClientRect();return lc(t.left,t.top)},fc=function(e,t){return void 0!==e?e:void 0!==t?t:0},mc=function(e){var t=e.dom().ownerDocument,n=t.body,r=uc(En.fromDom(t)),o=t.documentElement,a=fc(r.pageYOffset,o.scrollTop),i=fc(r.pageXOffset,o.scrollLeft),s=fc(o.clientTop,n.clientTop),u=fc(o.clientLeft,n.clientLeft);return pc(e).translate(i-u,a-s)},pc=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body,o=En.fromDom(n.documentElement);return r===t?lc(r.offsetLeft,r.offsetTop):sc(e,o)?dc(t):lc(0,0)},hc=(Jt.detect().browser.isSafari(),function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return lc(r,o)});function gc(e,t){var n=function(t,n){if(!T(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Us(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Gs(n,e);return parseFloat(o)||0}return r},o=r,a=function(e,t){return z(t,function(t,n){var r=Gs(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)},i=function(e,t,n){var r=a(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:a,max:i}}var vc=gc("width",function(e){return e.dom().offsetWidth}),bc=function(e,t){vc.set(e,t)},yc=function(e){return vc.get(e)},wc=function(e){return vc.getOuter(e)},xc=gc("height",function(e){var t=e.dom();return fi(e)?t.getBoundingClientRect().height:t.offsetHeight}),Cc=function(e){return xc.get(e)},Sc=function(e){return xc.getOuter(e)},kc=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=xc.max(e,t,n);Ks(e,"max-height",r+"px")},_c=Bn(["x","y","width","height","maxHeight","direction","classes","label","candidateYforTest"],[]),Tc=Dn("position","left","top","right","bottom"),Oc=xe.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ec=function(e,t,n,r,o,a,i,s,u){return e.fold(t,n,r,o,a,i,s,u)},Dc=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},Rc=Oc.southeast,Nc=Oc.southwest,Ic=Oc.northeast,Ac=Oc.northwest,Mc=Oc.south,Bc=Oc.north,Lc=Oc.east,Pc=Oc.west,zc=Dn("point","width","height"),Fc=Dn("x","y","width","height"),jc=function(e,t,n,r){return{x:o(e),y:o(t),width:o(n),height:o(r),right:o(e+n),bottom:o(t+r)}},Hc=function(e){var t=mc(e),n=wc(e),r=Sc(e);return jc(t.left(),t.top(),n,r)},Vc=function(e,t){var n=e.view(t);return n.fold(o([]),function(t){var n=e.owner(t),r=Vc(e,n);return[t].concat(r)})},$c=function(e,t){var n=t.owner(e),r=Vc(t,n);return b.some(r)},Uc=function(t){var n=t.dom()===e.document?b.none():b.from(t.dom().defaultView.frameElement);return n.map(En.fromDom)},qc=function(e){return ir(e)},Wc=Object.freeze({view:Uc,owner:qc}),Kc=function(t){var n=En.fromDom(e.document),r=hc(n),o=$c(t,Wc);return o.fold(i(mc,t),function(e){var n=pc(t),o=P(e,function(e,t){var n=pc(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return lc(o.left+n.left()+r.left(),o.top+n.top()+r.top())})},Yc=function(){var t=e.window.innerWidth,n=e.window.innerHeight,r=En.fromDom(e.document),o=hc(r);return jc(o.left(),o.top(),t,n)},Xc=xe.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Gc=function(e,t,n,r,o,a){var i=t.x()-n,s=t.y()-r,u=t.width(),c=t.height(),l=o-(i+u),d=a-(s+c),f=b.some(i),m=b.some(s),p=b.some(l),h=b.some(d),g=b.none();return Ec(t.direction(),function(){return Tc(e,f,m,g,g)},function(){return Tc(e,g,m,p,g)},function(){return Tc(e,f,g,g,h)},function(){return Tc(e,g,g,p,h)},function(){return Tc(e,f,m,g,g)},function(){return Tc(e,f,g,g,h)},function(){return Tc(e,f,m,g,g)},function(){return Tc(e,g,m,p,g)})},Jc=function(e,t){return e.fold(function(){return Tc("absolute",b.some(t.x()),b.some(t.y()),b.none(),b.none())},function(e,n,r,o){return Gc("absolute",t,e,n,r,o)},function(e,n,r,o){return Gc("fixed",t,e,n,r,o)})},Qc=function(e,t){var n=i(Kc,t),r=e.fold(n,n,function(){var e=hc();return Kc(t).translate(-e.left(),-e.top())}),o=wc(t),a=Sc(t);return jc(r.left(),r.top(),o,a)},Zc=function(e,t){return t.fold(function(){return e.fold(Yc,Yc,jc)},function(t){return e.fold(t,t,jc)})},el=function(e,t,n,r){return e.fold(t,n,r)},tl=Xc.relative,nl=Xc.fixed,rl=Dn("anchorBox","origin"),ol=function(e,t){return rl(e,t)},al=xe.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),il=function(e,t,n,r){var a=e.x(),i=e.y(),s=e.bubble().offset().left(),u=e.bubble().offset().top(),c=r.x(),l=r.y(),d=r.width(),f=r.height(),m=a+s,p=i+u,h=m>=c,g=p>=l,v=h&&g,b=m+t<=c+d,y=p+n<=l+f,w=b&&y,x=h?Math.min(t,c+d-m):Math.abs(c-(m+t)),C=g?Math.min(n,l+f-p):Math.abs(l-(p+n)),S=r.x()+r.width(),k=Math.max(r.x(),m),_=Math.min(k,S),T=g?p:p+(n-C),O=o(T+C-l),E=o(l+f-T),D=Dc(e.direction(),E,E,O),R=_c({x:_,y:T,width:x,height:C,maxHeight:D,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:p});return v&&w?al.fit(R):al.nofit(R,x,C)},sl=function(e,t,n,r,o){var s=n.width(),u=n.height(),c=function(e,a,i,c){var l=e(t,n,r),d=il(l,s,u,o);return d.fold(al.fit,function(e,t,n){var r=n>c||t>i;return r?al.nofit(e,t,n):al.nofit(a,i,c)})},l=z(e,function(e,t){var n=i(c,t);return e.fold(al.fit,n)},al.nofit(_c({x:t.x(),y:t.y(),width:n.width(),height:n.height(),maxHeight:n.height(),direction:Rc(),classes:[],label:"none",candidateYforTest:t.y()}),-1,-1));return l.fold(a,a)},ul=function(e){return{width:o(wc(e)),height:o(Sc(e))}},cl=function(e,t,n,r){eu(t,"max-height");var o=ul(t);return sl(r.preference(),e,o,n,r.bounds())},ll=function(e,t){var n=t.classes();$s(e,n.off),Vs(e,n.on)},dl=function(e,t,n){var r=n.maxHeightFunction();r(e,t.maxHeight())},fl=function(e,t,n){var r=function(e){return e+"px"},o=Jc(n.origin(),t);Xs(e,{position:b.some(o.position()),left:o.left().map(r),top:o.top().map(r),right:o.right().map(r),bottom:o.bottom().map(r)})},ml=function(e,t){kc(e,Math.floor(t))},pl=o(function(e,t){ml(e,t),Ys(e,{"overflow-x":"hidden","overflow-y":"auto"})}),hl=o(function(e,t){ml(e,t)}),gl=Bn(["bounds","origin","preference","maxHeightFunction"],[]),vl=function(e,t,n){return void 0===e[t]?n:e[t]},bl=function(e,t,n,r,o,a){var i=vl(a,"maxHeightFunction",pl()),s=e.anchorBox(),u=e.origin(),c=gl({bounds:Zc(u,o),origin:u,preference:r,maxHeightFunction:i});yl(s,t,n,c)},yl=function(e,t,n,r){var o=cl(e,t,n,r);fl(t,o,r),ll(t,o),dl(t,o,r)},wl=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],xl=function(e,t,n){var r=function(e){return Ie(n,e).getOr([])},o=function(e,t,n){var o=Y(wl,n);return{offset:function(){return lc(e,t)},classesOn:function(){return U(n,r)},classesOff:function(){return U(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])}}},Cl=function(){return xl(0,0,{})},Sl=Dn("x","y","bubble","direction","label"),kl=function(e){return e.x()},_l=function(e,t){return e.x()+e.width()/2-t.width()/2},Tl=function(e,t){return e.x()+e.width()-t.width()},Ol=function(e,t){return e.y()-t.height()},El=function(e){return e.y()+e.height()},Dl=function(e,t){return e.y()+e.height()/2-t.height()/2},Rl=function(e){return e.x()+e.width()},Nl=function(e,t){return e.x()-t.width()},Il=function(e,t,n){return Sl(kl(e),El(e),n.southeast(),Rc(),"layout-se")},Al=function(e,t,n){return Sl(Tl(e,t),El(e),n.southwest(),Nc(),"layout-sw")},Ml=function(e,t,n){return Sl(kl(e),Ol(e,t),n.northeast(),Ic(),"layout-ne")},Bl=function(e,t,n){return Sl(Tl(e,t),Ol(e,t),n.northwest(),Ac(),"layout-nw")},Ll=function(e,t,n){return Sl(_l(e,t),Ol(e,t),n.north(),Bc(),"layout-n")},Pl=function(e,t,n){return Sl(_l(e,t),El(e),n.south(),Mc(),"layout-s")},zl=function(e,t,n){return Sl(Rl(e),Dl(e,t),n.east(),Lc(),"layout-e")},Fl=function(e,t,n){return Sl(Nl(e,t),Dl(e,t),n.west(),Pc(),"layout-w")},jl=function(){return[Il,Al,Ml,Bl,Pl,Ll,zl,Fl]},Hl=function(){return[Al,Il,Bl,Ml,Pl,Ll,zl,Fl]},Vl=function(e){return e},$l=function(e,t){return function(n){return"rtl"===Ul(n)?t:e}},Ul=function(e){return"rtl"===Gs(e,"direction")?"rtl":"ltr"},ql=function(){return Va("layouts",[Ea("onLtr"),Ea("onRtl")])},Wl=function(e,t,n,r){var o=t.layouts.map(function(t){return t.onLtr(e)}).getOr(n),a=t.layouts.map(function(t){return t.onRtl(e)}).getOr(r),i=$l(o,a);return i(e)},Kl=function(e,t,n){var r=t.hotspot,o=Qc(n,r.element()),a=Wl(e.element(),t,jl(),Hl());return b.some(Vl({anchorBox:o,bubble:t.bubble.getOr(Cl()),overrides:{},layouts:a,placer:b.none()}))},Yl=[Ea("hotspot"),za("bubble"),ql(),zu("placement",Kl)],Xl=function(e,t,n){var r=jc(t.x,t.y,t.width,t.height),o=Wl(e.element(),t,jl(),Hl());return b.some(Vl({anchorBox:r,bubble:t.bubble,overrides:{},layouts:o,placer:b.none()}))},Gl=[Ea("x"),Ea("y"),Ua("height",0),Ua("width",0),Ua("bubble",Cl()),ql(),zu("placement",Xl)],Jl=function(){return"\ufeff"},Ql=(xe.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xe.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),Zl=Dn("start","soffset","finish","foffset"),ed=function(e){return Ql.exact(e.start(),e.soffset(),e.finish(),e.foffset())},td=(Ql.domRange,Ql.relative,Ql.exact),nd=function(e,t,n,r){var o=ir(e),a=o.dom().createRange();return a.setStart(e.dom(),t),a.setEnd(n.dom(),r),a},rd=function(e,t,n,r){var o=nd(e,t,n,r),a=nr(e,n)&&t===r;return o.collapsed&&!a},od=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},ad=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},id=function(e,t,n){var r=e.document.createRange();return od(r,t),ad(r,n),r},sd=function(e,t,n,r,o){var a=e.document.createRange();return a.setStart(t.dom(),n),a.setEnd(r.dom(),o),a},ud=function(e){return{left:o(e.left),top:o(e.top),right:o(e.right),bottom:o(e.bottom),width:o(e.width),height:o(e.height)}},cd=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(ud):b.none()},ld=xe.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dd=function(e,t,n){return t(En.fromDom(n.startContainer),n.startOffset,En.fromDom(n.endContainer),n.endOffset)},fd=function(e,t){return t.match({domRange:function(e){return{ltr:o(e),rtl:b.none}},relative:function(t,n){return{ltr:it(function(){return id(e,t,n)}),rtl:it(function(){return b.some(id(e,n,t))})}},exact:function(t,n,r,o){return{ltr:it(function(){return sd(e,t,n,r,o)}),rtl:it(function(){return b.some(sd(e,r,o,t,n))})}}})},md=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter(function(e){return!1===e.collapsed});return r.map(function(e){return ld.rtl(En.fromDom(e.endContainer),e.endOffset,En.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return dd(e,ld.ltr,n)})}return dd(e,ld.ltr,n)},pd=function(e,t){var n=fd(e,t);return md(e,n)},hd=function(e,t){var n=pd(e,t);return n.match({ltr:function(t,n,r,o){var a=e.document.createRange();return a.setStart(t.dom(),n),a.setEnd(r.dom(),o),a},rtl:function(t,n,r,o){var a=e.document.createRange();return a.setStart(r.dom(),o),a.setEnd(t.dom(),n),a}})},gd=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var a=r,i=1;i<o;i++){var s=e(i),u=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||u>a)return i-1;a=u}}return 0},vd=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom};function bd(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return i(n).getOr("")},r=function(e){try{return o(e)}catch(t){return b.none()}},o=function(t){return e(t)?b.from(t.dom().nodeValue):b.none()},a=Jt.detect().browser,i=a.isIE()&&10===a.version.major?r:o,s=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:i,set:s}}var yd=bd(Rr,"text"),wd=function(e){return yd.get(e)},xd=function(e){return yd.getOption(e)},Cd=function(e,t,n,r,o){var a=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},i=function(e){var t=a(e);return t.getBoundingClientRect()},s=wd(t).length,u=gd(i,n,r,o.right,s);return a(u)},Sd=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getClientRects(),i=He(a,function(e){return vd(e,n,r)?b.some(e):b.none()});return i.map(function(o){return Cd(e,t,n,r,o)})},kd=function(e,t,n,r){var o=e.dom().createRange(),a=dr(t);return He(a,function(t){return o.selectNode(t.dom()),vd(o.getBoundingClientRect(),n,r)?_d(e,t,n,r):b.none()})},_d=function(e,t,n,r){var o=Rr(t)?Sd:kd;return o(e,t,n,r)},Td=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getBoundingClientRect(),i=Math.max(a.left,Math.min(a.right,n)),s=Math.max(a.top,Math.min(a.bottom,r));return _d(e,t,i,s)},Od=" ",Ed=function(e){return xd(e).filter(function(e){return 0!==e.trim().length||e.indexOf(Od)>-1}).isSome()},Dd=["img","br"],Rd=function(e){var t=Ed(e);return t||D(Dd,Tr(e))},Nd=function(e){return vi(e,Rd)},Id=function(e){return Ad(e,Rd)},Ad=function(e,t){var n=function(e){for(var r=dr(e),o=r.length-1;o>=0;o--){var a=r[o];if(t(a))return b.some(a);var i=n(a);if(i.isSome())return i}return b.none()};return n(e)},Md=!0,Bd=!1,Ld=function(e,t){return t-e.left<e.right-t?Md:Bd},Pd=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},zd=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),a=Ld(o,n),i=a===Md?Nd:Id;return i(t).map(function(t){return Pd(e,t,a)})},Fd=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Ld(r,n);return b.some(Pd(e,t,o))},jd=function(e,t,n){var r=0===dr(t).length?Fd:zd;return r(e,t,n)},Hd=function(e,t,n){return b.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return b.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),b.some(n)})},Vd=function(e,t,n){return b.from(e.dom().caretRangeFromPoint(t,n))},$d=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getBoundingClientRect(),i=Math.max(a.left,Math.min(a.right,n)),s=Math.max(a.top,Math.min(a.bottom,r));return Td(e,t,i,s)},Ud=function(e,t,n){return En.fromPoint(e,t,n).bind(function(r){var o=function(){return jd(e,r,t)};return 0===dr(r).length?o():$d(e,r,t,n).orThunk(o)})},qd=(document.caretPositionFromPoint||document.caretRangeFromPoint,function(e,t){return er(t,e)}),Wd=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return b.some(Zl(En.fromDom(t.startContainer),t.startOffset,En.fromDom(n.endContainer),n.endOffset))}return b.none()},Kd=function(e){var t=En.fromDom(e.anchorNode),n=En.fromDom(e.focusNode);return rd(t,e.anchorOffset,n,e.focusOffset)?b.some(Zl(t,e.anchorOffset,n,e.focusOffset)):Wd(e)},Yd=function(e){return b.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Kd)},Xd=function(e,t){var n=hd(e,t);return cd(n)},Gd=Dn("element","offset"),Jd=function(e,t){var n=dr(e);if(0===n.length)return Gd(e,t);if(t<n.length)return Gd(n[t],0);var r=n[n.length-1],o=Rr(r)?wd(r).length:dr(r).length;return Gd(r,o)},Qd=xe.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Zd=function(e){return e.fold(function(e){return e},function(e,t,n){return e.translate(-t,-n)})},ef=function(e){return e.fold(function(e){return e},function(e,t,n){return e})},tf=function(e){return z(e,function(e,t){return e.translate(t.left(),t.top())},lc(0,0))},nf=function(e){var t=I(e,Zd);return tf(t)},rf=function(e){var t=I(e,ef);return tf(t)},of=Qd.screen,af=Qd.absolute,sf=function(e,t,n){var r=sr(n.root).dom(),o=function(t){var n=ir(t),r=ir(e.element());return nr(n,r)};return b.from(r.frameElement).map(En.fromDom).filter(o).map(mc)},uf=function(e,t,n){var r=ir(e.element()),o=hc(r),a=sf(e,t,n).getOr(o);return af(a,o.left(),o.top())},cf=function(e,t,n,r){var o=e,a=t,i=n,s=r;e<0&&(o=0,i=n+e),t<0&&(a=0,s=r+t);var u=of(lc(o,a));return b.some(zc(u,i,s))},lf=function(e,t,n,r,o){return e.map(function(e){var a=[t,e.point()],i=el(r,function(){return rf(a)},function(){return rf(a)},function(){return nf(a)}),s=Fc(i.left(),i.top(),e.width(),e.height()),u=function(){return n.showAbove?[Ml,Bl,Il,Al,Ll,Pl]:[Il,Al,Ml,Bl,Pl,Pl]},c=function(){return n.showAbove?[Bl,Ml,Al,Il,Ll,Pl]:[Al,Il,Bl,Ml,Pl,Ll]},l=Wl(o,n,u(),c());return Vl({anchorBox:s,bubble:n.bubble.getOr(Cl()),overrides:n.overrides,layouts:l,placer:b.none()})})},df={capRect:cf,calcNewAnchor:lf},ff=Dn("element","offset"),mf=function(e,t){return Rr(e)?ff(e,t):Jd(e,t)},pf=function(e,t){var n=t.getSelection.getOrThunk(function(){return function(){return Yd(e)}});return n().map(function(e){var t=mf(e.start(),e.soffset()),n=mf(e.finish(),e.foffset());return Zl(t.element(),t.offset(),n.element(),n.offset())})},hf=function(e,t,n){var r=sr(t.root).dom(),o=uf(e,n,t),a=pf(r,t).bind(function(e){var t=Xd(r,ed(e)).orThunk(function(){var t=En.fromText(Jl());return hr(e.start(),t),Xd(r,td(t,0,t,1)).map(function(e){return Cr(t),e})});return t.bind(function(e){return df.capRect(e.left(),e.top(),e.width(),e.height())})}),i=pf(r,t).bind(function(e){return Dr(e.start())?b.some(e.start()):ur(e.start())}),s=i.getOr(e.element());return df.calcNewAnchor(a,o,t,n,s)},gf=[za("getSelection"),Ea("root"),za("bubble"),ql(),Ua("overrides",{}),Ua("showAbove",!1),zu("placement",hf)],vf=function(e,t,n){var r=uf(e,n,t);return t.node.bind(function(o){var a=o.dom().getBoundingClientRect(),i=df.capRect(a.left,a.top,a.width,a.height),s=t.node.getOr(e.element());return df.calcNewAnchor(i,r,t,n,s)})},bf=[Ea("node"),Ea("root"),za("bubble"),ql(),Ua("overrides",{}),Ua("showAbove",!1),zu("placement",vf)],yf=function(e){return e.x()+e.width()},wf=function(e,t){return e.x()-t.width()},xf=function(e,t){return e.y()-t.height()+e.height()},Cf=function(e){return e.y()},Sf=function(e,t,n){return Sl(yf(e),Cf(e),n.southeast(),Rc(),"link-layout-se")},kf=function(e,t,n){return Sl(wf(e,t),Cf(e),n.southwest(),Nc(),"link-layout-sw")},_f=function(e,t,n){return Sl(yf(e),xf(e,t),n.northeast(),Ic(),"link-layout-ne")},Tf=function(e,t,n){return Sl(wf(e,t),xf(e,t),n.northwest(),Ac(),"link-layout-nw")},Of=function(){return[Sf,kf,_f,Tf]},Ef=function(){return[kf,Sf,Tf,_f]},Df=function(e,t,n){var r=Qc(n,t.item.element()),o=Wl(e.element(),t,Of(),Ef());return b.some(Vl({anchorBox:r,bubble:Cl(),overrides:{},layouts:o,placer:b.none()}))},Rf=[Ea("item"),ql(),zu("placement",Df)],Nf=wa("anchor",{selection:gf,node:bf,hotspot:Yl,submenu:Rf,makeshift:Gl}),If=function(){return nl(0,0,e.window.innerWidth,e.window.innerHeight)},Af=function(e){var t=mc(e.element()),n=e.element().dom().getBoundingClientRect();return tl(t.left(),t.top(),n.width,n.height)},Mf=function(e,t,n,r,o){var a=ol(n.anchorBox,t);bl(a,o.element(),n.bubble,n.layouts,r,n.overrides)},Bf=function(e,t,n,r,o){var a=b.none();Lf(e,t,n,r,o,a)},Lf=function(e,t,n,r,o,a){var i=ba("positioning anchor.info",Nf,r);Ks(o.element(),"position","fixed");var s=Qs(o.element(),"visibility");Ks(o.element(),"visibility","hidden");var u=t.useFixed?If():Af(e),c=i.placement,l=a.map(function(e){return function(){return Hc(e)}}).or(t.getBounds);c(e,i,u).each(function(t){var n=t.placer.getOr(Mf);n(e,u,t,l,o)}),s.fold(function(){eu(o.element(),"visibility")},function(e){Ks(o.element(),"visibility",e)}),Qs(o.element(),"left").isNone()&&Qs(o.element(),"top").isNone()&&Qs(o.element(),"right").isNone()&&Qs(o.element(),"bottom").isNone()&&Qs(o.element(),"position").is("fixed")&&eu(o.element(),"position")},Pf=function(e,t,n){return t.useFixed?"fixed":"absolute"},zf=Object.freeze({position:Bf,positionWithin:Lf,getMode:Pf}),Ff=[Ua("useFixed",!1),za("getBounds")],jf=Gu({fields:Ff,name:"positioning",active:ic,apis:zf}),Hf=function(e){ai(e,hn());var t=e.components();A(t,Hf)},Vf=function(e){var t=e.components();A(t,Vf),ai(e,pn())},$f=function(e,t){Uf(e,t,br)},Uf=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),fi(e.element())&&Vf(t),e.syncComponents()},qf=function(e){Hf(e),Cr(e.element()),e.getSystem().removeFromWorld(e)},Wf=function(e){var t=ur(e.element()).bind(function(t){return e.getSystem().getByDom(t).fold(b.none,b.some)});qf(e),t.each(function(e){e.syncComponents()})},Kf=function(e){var t=e.components();A(t,qf),xr(e.element()),e.syncComponents()},Yf=function(e,t){Gf(e,t,br)},Xf=function(e,t){Gf(e,t,gr)},Gf=function(e,t,n){n(e,t.element());var r=dr(t.element());A(r,function(e){t.getByDom(e).each(Vf)})},Jf=function(e){var t=dr(e.element());A(t,function(t){e.getByDom(t).each(Hf)}),Cr(e.element())},Qf=function(e,t,n,r){n.get().each(function(t){Kf(e)});var o=t.getAttachPoint(e);$f(o,e);var a=e.getSystem().build(r);return $f(e,a),n.set(a),a},Zf=function(e,t,n,r){var o=Qf(e,t,n,r);return t.onOpen(e,o),o},em=function(e,t,n,r,o){sm(e,t,n),Zf(e,t,n,r),o(),cm(e,t,n)},tm=function(e,t,n){n.get().each(function(r){Kf(e),Wf(e),t.onClose(e,r),n.clear()})},nm=function(e,t,n){return n.isOpen()},rm=function(e,t,n,r){return nm(e,t,n)&&n.get().exists(function(n){return t.isPartOf(e,n,r)})},om=function(e,t,n){return n.get()},am=function(e,t,n,r){Qs(e.element(),t).fold(function(){Pr(e.element(),n)},function(t){Ar(e.element(),n,t)}),Ks(e.element(),t,r)},im=function(e,t,n){if(Lr(e.element(),n)){var r=Br(e.element(),n);Ks(e.element(),t,r)}else eu(e.element(),t)},sm=function(e,t,n){var r=t.getAttachPoint(e);Ks(e.element(),"position",jf.getMode(r)),am(e,"visibility",t.cloakVisibilityAttr,"hidden")},um=function(e){return R(["top","left","right","bottom"],function(t){return Qs(e,t).isSome()})},cm=function(e,t,n){um(e.element())||eu(e.element(),"position"),im(e,"visibility",t.cloakVisibilityAttr)},lm=Object.freeze({cloak:sm,decloak:cm,open:Zf,openWhileCloaked:em,close:tm,isOpen:nm,isPartOf:rm,getState:om}),dm=function(e,t){return yi([Si(cn(),function(n,r){tm(n,e,t)})])},fm=Object.freeze({events:dm}),mm=[Mu("onOpen"),Mu("onClose"),Ea("isPartOf"),Ea("getAttachPoint"),Ua("cloakVisibilityAttr","data-precloak-visibility")],pm=function(){var e=Fe(b.none()),t=o("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(b.some(t))},a=function(t){return e.get()},i=function(){e.set(b.none())};return is({readState:t,isOpen:n,clear:i,set:r,get:a})},hm=Object.freeze({init:pm}),gm=Gu({fields:mm,name:"sandboxing",active:fm,apis:lm,state:hm}),vm=o("dismiss.popups"),bm=o("mouse.released"),ym=ea([Ua("isExtraPart",o(!1)),Va("fireEventInstead",[Ua("event",gn())])]),wm=function(e){var t=xm(e);return oc.config(t)},xm=function(e){var t=ba("Dismissal",ym,e);return{channels:Ae(vm(),{schema:ea([Ea("target")]),onReceive:function(e,n){if(gm.isOpen(e)){var r=gm.isPartOf(e,n.target)||t.isExtraPart(e,n.target);r||t.fireEventInstead.fold(function(){return gm.close(e)},function(t){return ai(e,t.event)})}}})}},Cm=function(e,t){return Ja(e,{},I(t,function(t){return Ma(t.name(),"Cannot configure "+t.name()+" for "+e)}).concat([Qa("dump",a)]))},Sm=function(e){return e.dump},km=function(e,t){return oo({},e.dump,Yu(t))},_m={field:Cm,augment:km,get:Sm},Tm="placeholder",Om=xe.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Em=function(e,t,n,r){return e.exists(function(e){return e!==n.owner})?Om.single(!0,o(n)):Ie(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+ee(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+Lo.stringify(n,null,2))},function(e){return e.replace()})},Dm=function(e,t,n,r){return n.uiType===Tm?Em(e,t,n,r):Om.single(!1,o(n))},Rm=function(e,t,n,r){var o=Dm(e,t,n,r);return o.fold(function(o,a){var i=a(t,n.config,n.validated),s=Ie(i,"components").getOr([]),u=U(s,function(n){return Rm(e,t,n,r)});return[oo({},i,{components:u})]},function(e,r){var o=r(t,n.config,n.validated),i=n.validated.preprocess.getOr(a);return i(o)})},Nm=function(e,t,n,r){return U(n,function(n){return Rm(e,t,n,r)})},Im=function(e,t){var n=!1,r=function(){return n},a=function(){if(!0===n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=function(){return t.fold(function(e,t){return e},function(e,t){return e})};return{name:o(e),required:i,used:r,replace:a}},Am=function(e,t,n,r){var o=re(r,function(e,t){return Im(t,e)}),a=Nm(e,t,n,o);return ne(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+Lo.stringify(t.components,null,2))}),a},Mm=Om.single,Bm=Om.multiple,Lm=o(Tm),Pm=xe.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),zm=Ua("factory",{sketch:a}),Fm=Ua("schema",[]),jm=Ea("name"),Hm=sa("pname","pname",mo(function(e){return"<alloy."+no(e.name)+">"}),xa()),Vm=Qa("schema",function(){return[za("preprocess")]}),$m=Ua("defaults",o({})),Um=Ua("overrides",o({})),qm=ta([zm,Fm,jm,Hm,$m,Um]),Wm=ta([zm,Fm,jm,$m,Um]),Km=ta([zm,Fm,jm,Hm,$m,Um]),Ym=ta([zm,Vm,jm,Ea("unit"),Hm,$m,Um]),Xm=function(e){return e.fold(b.some,b.none,b.some,b.some)},Gm=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Jm=function(e){return e.fold(a,a,a,a)},Qm=function(e,t){return function(n){var r=ba("Converting part type",t,n);return e(r)}},Zm=Qm(Pm.required,qm),ep=Qm(Pm.external,Wm),tp=Qm(Pm.optional,Km),np=Qm(Pm.group,Ym),rp=o("entirety"),op=Object.freeze({required:Zm,external:ep,optional:tp,group:np,asNamedPart:Xm,name:Gm,asCommon:Jm,original:rp}),ap=function(e,t,n,r){return Oe(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},ip=function(e,t,n){var r={},a={};return A(n,function(e){e.fold(function(e){r[e.pname]=Mm(!0,function(t,n,r){return e.factory.sketch(ap(t,e,n,r))})},function(e){var n=t.parts[e.name];a[e.name]=o(e.factory.sketch(ap(t,e,n[rp()]),n))},function(e){r[e.pname]=Mm(!1,function(t,n,r){return e.factory.sketch(ap(t,e,n,r))})},function(e){r[e.pname]=Bm(!0,function(t,n,r){var o=t[e.name];return I(o,function(n){return e.factory.sketch(Oe(e.defaults(t,n,r),n,e.overrides(t,n)))})})})}),{internals:o(r),externals:o(a)}},sp=function(e,t){var n={};return A(t,function(t){Xm(t).each(function(t){var r=up(e,t.pname);n[t.name]=function(n){var o=ba("Part: "+t.name+" in "+e,ta(t.schema),n);return oo({},r,{config:n,validated:o})}})}),n},up=function(e,t){return{uiType:Lm(),owner:e,name:t}},cp=function(e,t,n){return{uiType:Lm(),owner:e,name:t,config:n,validated:{}}},lp=function(e){return U(e,function(e){return e.fold(b.none,b.some,b.none,b.none).map(function(e){return Ba(e.name,e.schema.concat([Fu(rp())]))}).toArray()})},dp=function(e){return I(e,Gm)},fp=function(e,t,n){return ip(e,t,n)},mp=function(e,t,n){return Am(b.some(e),t,t.components,n)},pp=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},hp=function(e,t,n){return pp(e,t,n).getOrDie("Could not find part: "+n)},gp=function(e,t,n){var r={},a=t.partUids,i=e.getSystem();return A(n,function(e){r[e]=i.getByUid(a[e])}),re(r,o)},vp=function(e,t){var n=e.getSystem();return re(t.partUids,function(e,t){return o(n.getByUid(e))})},bp=function(e){return ee(e.partUids)},yp=function(e,t,n){var r={},a=t.partUids,i=e.getSystem();return A(n,function(e){r[e]=i.getByUid(a[e]).getOrDie()}),re(r,o)},wp=function(e,t){var n=dp(t);return Me(I(n,function(t){return{key:t,value:e+"-"+t}}))},xp=function(e){return sa("partUids","partUids",po(function(t){return wp(t.uid,e)}),xa())},Cp=Object.freeze({generate:sp,generateOne:cp,schemas:lp,names:dp,substitutes:fp,components:mp,defaultUids:wp,defaultUidsSchema:xp,getAllParts:vp,getAllPartNames:bp,getPart:pp,getPartOrDie:hp,getParts:gp,getPartsOrDie:yp}),Sp=function(e,t,n,r){var o=t.length>0?[Ba("parts",t)]:[];return o.concat([Ea("uid"),Ua("dom",{}),Ua("components",[]),Fu("originalSpec"),Ua("debug.sketcher",{})]).concat(n)},kp=function(e,t,n,r,o){var a=Sp(e,r,o,n);return ba(e+" [SpecSchema]",ea(a.concat(t)),n)},_p=function(e,t,n,r){var o=Op(r),a=kp(e,t,o,[],[]);return n(a,o)},Tp=function(e,t,n,r,o){var a=Op(o),i=lp(n),s=xp(n),u=kp(e,t,a,i,[s]),c=fp(e,u,n),l=mp(e,u,c.internals());return r(u,l,a,c.externals())},Op=function(e){return e.hasOwnProperty("uid")?e:oo({},e,{uid:Ki("uid")})};function Ep(e){return void 0!==e.uid}var Dp,Rp=ea([Ea("name"),Ea("factory"),Ea("configFields"),Ua("apis",{}),Ua("extraApis",{})]),Np=ea([Ea("name"),Ea("factory"),Ea("configFields"),Ea("partFields"),Ua("apis",{}),Ua("extraApis",{})]),Ip=function(e){var t=ba("Sketcher for "+e.name,Rp,e),n=function(e){return _p(t.name,t.configFields,t.factory,e)},r=re(t.apis,os),a=re(t.extraApis,function(e,t){return Zi(e,t)});return oo({name:o(t.name),partFields:o([]),configFields:o(t.configFields),sketch:n},r,a)},Ap=function(e){var t=ba("Sketcher for "+e.name,Np,e),n=function(e){return Tp(t.name,t.configFields,t.partFields,t.factory,e)},r=sp(t.name,t.partFields),a=re(t.apis,os),i=re(t.extraApis,function(e,t){return Zi(e,t)});return oo({name:o(t.name),partFields:o(t.partFields),configFields:o(t.configFields),sketch:n,parts:o(r)},a,i)},Mp=function(e){return"input"===Tr(e)&&"radio"!==Br(e,"type")||"textarea"===Tr(e)},Bp=function(e,t,n){return t.find(e)},Lp=Object.freeze({getCurrent:Bp}),Pp=[Ea("find")],zp=Gu({fields:Pp,name:"composing",apis:Lp}),Fp=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},jp=function(e,t,n){return e<=t?t:e>=n?n:e},Hp=function(e,t,n,r){var o=qd(e.element(),"."+t.highlightClass);A(o,function(n){R(r,function(e){return e.element()===n})||(js(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),ai(n,Cn())}))})},Vp=function(e,t,n){return Hp(e,t,n,[])},$p=function(e,t,n,r){Xp(e,t,n,r)&&(js(r.element(),t.highlightClass),t.onDehighlight(e,r),ai(r,Cn()))},Up=function(e,t,n,r){Hp(e,t,n,[r]),Xp(e,t,n,r)||(zs(r.element(),t.highlightClass),t.onHighlight(e,r),ai(r,xn()))},qp=function(e,t,n){Qp(e,t,n).each(function(r){Up(e,t,n,r)})},Wp=function(e,t,n){Zp(e,t,n).each(function(r){Up(e,t,n,r)})},Kp=function(e,t,n,r){Jp(e,t,n,r).fold(function(e){throw new Error(e)},function(r){Up(e,t,n,r)})},Yp=function(e,t,n,r){var o=rh(e,t,n),a=F(o,r);a.each(function(r){Up(e,t,n,r)})},Xp=function(e,t,n,r){return Hs(r.element(),t.highlightClass)},Gp=function(e,t,n){return wu(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Jp=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return b.from(o[r]).fold(function(){return ye.error("No element found with index "+r)},e.getSystem().getByDom)},Qp=function(e,t,n){return wu(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Zp=function(e,t,n){var r=qd(e.element(),"."+t.itemClass),o=r.length>0?b.some(r[r.length-1]):b.none();return o.bind(function(t){return e.getSystem().getByDom(t).toOption()})},eh=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass),a=j(o,function(e){return Hs(e,t.highlightClass)});return a.bind(function(t){var n=Fp(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()})},th=function(e,t,n){return eh(e,t,n,-1)},nh=function(e,t,n){return eh(e,t,n,1)},rh=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return je(I(r,function(t){return e.getSystem().getByDom(t).toOption()}))},oh=Object.freeze({dehighlightAll:Vp,dehighlight:$p,highlight:Up,highlightFirst:qp,highlightLast:Wp,highlightAt:Kp,highlightBy:Yp,isHighlighted:Xp,getHighlighted:Gp,getFirst:Qp,getLast:Zp,getPrevious:th,getNext:nh,getCandidates:rh}),ah=[Ea("highlightClass"),Ea("itemClass"),Mu("onHighlight"),Mu("onDehighlight")],ih=Gu({fields:ah,name:"highlighting",apis:oh}),sh=function(){return[8]},uh=function(){return[9]},ch=function(){return[13]},lh=function(){return[27]},dh=function(){return[32]},fh=function(){return[37]},mh=function(){return[38]},ph=function(){return[39]},hh=function(){return[40]},gh=function(e,t,n){var r=K(e.slice(0,t)),o=K(e.slice(t+1));return F(r.concat(o),n)},vh=function(e,t,n){var r=K(e.slice(0,t));return F(r,n)},bh=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return F(o.concat(r),n)},yh=function(e,t,n){var r=e.slice(t+1);return F(r,n)},wh=function(e){return function(t){var n=t.raw();return D(e,n.which)}},xh=function(e){return function(t){return q(e,function(e){return e(t)})}},Ch=function(e){var t=e.raw();return!0===t.shiftKey},Sh=function(e){var t=e.raw();return!0===t.ctrlKey},kh=u(Ch),_h=function(e,t){return{matches:e,classification:t}},Th=function(e,t){var n=F(e,function(e){return e.matches(t)});return n.map(function(e){return e.classification})},Oh=function(e){e.dom().focus()},Eh=function(e){e.dom().blur()},Dh=function(e){var t=ir(e).dom();return e.dom()===t.activeElement},Rh=function(t){var n=void 0!==t?t.dom():e.document;return b.from(n.activeElement).map(En.fromDom)},Nh=function(e){return Rh(ir(e)).filter(function(t){return e.dom().contains(t.dom())})},Ih=function(e,t,n){var r=t.exists(function(e){return n.exists(function(t){return nr(t,e)})});r||ii(e,vn(),{prevFocus:t,newFocus:n})},Ah=function(){var e=function(e){return Nh(e.element())},t=function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);Ih(t,r,o)};return{get:e,set:t}},Mh=function(){var e=function(e){return ih.getHighlighted(e).map(function(e){return e.element()})},n=function(n,r){var o=e(n);n.getSystem().getByDom(r).fold(t,function(e){ih.highlight(n,e)});var a=e(n);Ih(n,o,a)};return{get:e,set:n}};(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(Dp||(Dp={}));var Bh=function(e,t,n,r,o){var a=function(){return e.concat([Ua("focusManager",Ah()),qa("focusInside","onFocus",ma(function(e){return D(["onFocus","onEnterOrSpace","onApi"],e)?ye.value(e):ye.error("Invalid value for focusInside")})),zu("handler",u),zu("state",t),zu("sendFocusIn",o)])},i=function(e,t,n,r,o){var a=n(e,t,r,o);return Th(a,t.event()).bind(function(n){return n(e,t,r,o)})},s=function(e,t){var a=e.focusInside!==Dp.OnFocusMode?b.none():o(e).map(function(n){return Si(Zt(),function(r,o){n(r,e,t),o.stop()})}),s=function(n,r){var a=wh(dh().concat(ch()))(r.event());e.focusInside===Dp.OnEnterOrSpaceMode&&a&&Za(n,r)&&o(e).each(function(o){o(n,e,t),r.stop()})};return yi(a.toArray().concat([Si(Ze(),function(r,o){i(r,o,n,e,t).fold(function(){s(r,o)},function(e){o.stop()})}),Si(et(),function(n,o){i(n,o,r,e,t).each(function(e){o.stop()})})]))},u={schema:a,processKey:i,toEvents:s};return u},Lh=function(e){var t=[za("onEscape"),za("onEnter"),Ua("selector",'[data-alloy-tabstop="true"]'),Ua("firstTabstop",0),Ua("useTabstopAt",o(!0)),za("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind(function(e){return xu(t,e)}).getOr(t);return Cc(n)>0},r=function(e,t){var r=qd(e.element(),t.selector),o=L(r,function(e){return n(t,e)});return b.from(o[t.firstTabstop])},a=function(e,t){return t.focusManager.get(e).bind(function(e){return xu(e,t.selector)})},s=function(e,t){return n(e,t)&&e.useTabstopAt(t)},u=function(e,t){r(e,t).each(function(n){t.focusManager.set(e,n)})},c=function(e,t,n,r,o){return o(t,n,function(e){return s(r,e)}).fold(function(){return r.cyclic?b.some(!0):b.none()},function(t){return r.focusManager.set(e,t),b.some(!0)})},l=function(e,t,n,r){var o=qd(e.element(),n.selector);return a(e,n).bind(function(t){var a=j(o,i(nr,t));return a.bind(function(t){return c(e,o,t,n,r)})})},d=function(e,t,n,r){var o=n.cyclic?gh:vh;return l(e,t,n,o)},f=function(e,t,n,r){var o=n.cyclic?bh:yh;return l(e,t,n,o)},m=function(e,t,n,r){return n.onEnter.bind(function(n){return n(e,t)})},p=function(e,t,n,r){return n.onEscape.bind(function(n){return n(e,t)})},h=o([_h(xh([Ch,wh(uh())]),d),_h(wh(uh()),f),_h(wh(lh()),p),_h(xh([kh,wh(ch())]),m)]),g=o([]);return Bh(t,as.init,h,g,function(){return b.some(u)})},Ph=Lh(Qa("cyclic",o(!1))),zh=Lh(Qa("cyclic",o(!0))),Fh=function(e,t,n){return ui(e,n,rn()),b.some(!0)},jh=function(e,t,n){return Mp(n)&&wh(dh())(t.event())?b.none():Fh(e,t,n)},Hh=function(e,t){return b.some(!0)},Vh=[Ua("execute",jh),Ua("useSpace",!1),Ua("useEnter",!0),Ua("useControlEnter",!1),Ua("useDown",!1)],$h=function(e,t,n){return n.execute(e,t,e.element())},Uh=function(e,t,n,r){var o=n.useSpace&&!Mp(e.element())?dh():[],a=n.useEnter?ch():[],i=n.useDown?hh():[],s=o.concat(a).concat(i);return[_h(wh(s),$h)].concat(n.useControlEnter?[_h(xh([Sh,wh(ch())]),$h)]:[])},qh=function(e,t,n,r){return n.useSpace&&!Mp(e.element())?[_h(wh(dh()),Hh)]:[]},Wh=Bh(Vh,as.init,Uh,qh,function(){return b.none()}),Kh=function(e){var t=Fe(b.none()),n=function(e,n){t.set(b.some({numRows:o(e),numColumns:o(n)}))},r=function(){return t.get().map(function(e){return e.numRows()})},a=function(){return t.get().map(function(e){return e.numColumns()})};return is({readState:function(){return t.get().map(function(e){return{numRows:e.numRows(),numColumns:e.numColumns()}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:r,getNumColumns:a})},Yh=function(e){return e.state(e)},Xh=Object.freeze({flatgrid:Kh,init:Yh}),Gh=function(e){return function(t,n,r,o){var a=e(t.element());return eg(a,t,n,r,o)}},Jh=function(e,t){var n=$l(e,t);return Gh(n)},Qh=function(e,t){var n=$l(t,e);return Gh(n)},Zh=function(e){return function(t,n,r,o){return eg(e,t,n,r,o)}},eg=function(e,t,n,r,o){var a=r.focusManager.get(t).bind(function(n){return e(t.element(),n,r,o)});return a.map(function(e){return r.focusManager.set(t,e),!0})},tg=Zh,ng=Zh,rg=Zh,og=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},ag=function(e){var t=e.dom();return!og(t)},ig=Bn(["index","candidates"],[]),sg=function(e,t){return j(e,t).map(function(t){return ig({index:t,candidates:e})})},ug=function(e,t,n){var r=ag;return cg(e,t,n,r)},cg=function(e,t,n,r){var o=i(nr,t),a=qd(e,n),s=L(a,ag);return sg(s,o)},lg=function(e,t){return j(e,function(e){return nr(t,e)})},dg=function(e,t,n,r){var o=Math.floor(t/n),a=t%n;return r(o,a).bind(function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?b.some(e[r]):b.none()})},fg=function(e,t,n,r,a){return dg(e,t,r,function(t,i){var s=t===n-1,u=s?e.length-t*r:r,c=Fp(i,a,0,u-1);return b.some({row:o(t),column:o(c)})})},mg=function(e,t,n,r,a){return dg(e,t,r,function(t,i){var s=Fp(t,a,0,n-1),u=s===n-1,c=u?e.length-s*r:r,l=jp(i,0,c-1);return b.some({row:o(s),column:o(l)})})},pg=function(e,t,n,r){return fg(e,t,n,r,1)},hg=function(e,t,n,r){return fg(e,t,n,r,-1)},gg=function(e,t,n,r){return mg(e,t,n,r,-1)},vg=function(e,t,n,r){return mg(e,t,n,r,1)},bg=[Ea("selector"),Ua("execute",jh),Bu("onEscape"),Ua("captureTab",!1),ju()],yg=function(e,t,n){wu(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},wg=function(e,t){return t.focusManager.get(e).bind(function(e){return xu(e,t.selector)})},xg=function(e,t,n,r){return wg(e,n).bind(function(r){return n.execute(e,t,r)})},Cg=function(e){return function(t,n,r,o){return ug(t,n,r.selector).bind(function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},Sg=function(e,t,n,r){return n.captureTab?b.some(!0):b.none()},kg=function(e,t,n,r){return n.onEscape(e,t)},_g=Cg(hg),Tg=Cg(pg),Og=Cg(gg),Eg=Cg(vg),Dg=o([_h(wh(fh()),Jh(_g,Tg)),_h(wh(ph()),Qh(_g,Tg)),_h(wh(mh()),tg(Og)),_h(wh(hh()),ng(Eg)),_h(xh([Ch,wh(uh())]),Sg),_h(xh([kh,wh(uh())]),Sg),_h(wh(lh()),kg),_h(wh(dh().concat(ch())),xg)]),Rg=o([_h(wh(dh()),Hh)]),Ng=Bh(bg,Kh,Dg,Rg,function(){return b.some(yg)}),Ig=function(e,t,n,r){var o=function(e){return"button"===Tr(e)&&"disabled"===Br(e,"disabled")},a=function(e,t,n){var i=Fp(t,r,0,n.length-1);return i===e?b.none():o(n[i])?a(e,i,n):b.from(n[i])};return ug(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return a(t,t,n)})},Ag=[Ea("selector"),Ua("getInitial",b.none),Ua("execute",jh),Bu("onEscape"),Ua("executeOnMove",!1),Ua("allowVertical",!0)],Mg=function(e,t){return t.focusManager.get(e).bind(function(e){return xu(e,t.selector)})},Bg=function(e,t,n){return Mg(e,n).bind(function(r){return n.execute(e,t,r)})},Lg=function(e,t){t.getInitial(e).orThunk(function(){return wu(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},Pg=function(e,t,n){return Ig(e,n.selector,t,-1)},zg=function(e,t,n){return Ig(e,n.selector,t,1)},Fg=function(e){return function(t,n,r){return e(t,n,r).bind(function(){return r.executeOnMove?Bg(t,n,r):b.some(!0)})}},jg=function(e,t,n,r){return n.onEscape(e,t)},Hg=function(e,t,n,r){var o=fh().concat(n.allowVertical?mh():[]),a=ph().concat(n.allowVertical?hh():[]);return[_h(wh(o),Fg(Jh(Pg,zg))),_h(wh(a),Fg(Qh(Pg,zg))),_h(wh(ch()),Bg),_h(wh(dh()),Bg),_h(wh(lh()),jg)]},Vg=o([_h(wh(dh()),Hh)]),$g=Bh(Ag,as.init,Hg,Vg,function(){return b.some(Lg)}),Ug=Bn(["rowIndex","columnIndex","cell"],[]),qg=function(e,t,n){return b.from(e[t]).bind(function(e){return b.from(e[n]).map(function(e){return Ug({rowIndex:t,columnIndex:n,cell:e})})})},Wg=function(e,t,n,r){var o=e[t],a=o.length,i=Fp(n,r,0,a-1);return qg(e,t,i)},Kg=function(e,t,n,r){var o=Fp(n,r,0,e.length-1),a=e[o].length,i=jp(t,0,a-1);return qg(e,o,i)},Yg=function(e,t,n,r){var o=e[t],a=o.length,i=jp(n+r,0,a-1);return qg(e,t,i)},Xg=function(e,t,n,r){var o=jp(n+r,0,e.length-1),a=e[o].length,i=jp(t,0,a-1);return qg(e,o,i)},Gg=function(e,t,n){return Wg(e,t,n,1)},Jg=function(e,t,n){return Wg(e,t,n,-1)},Qg=function(e,t,n){return Kg(e,n,t,-1)},Zg=function(e,t,n){return Kg(e,n,t,1)},ev=function(e,t,n){return Yg(e,t,n,-1)},tv=function(e,t,n){return Yg(e,t,n,1)},nv=function(e,t,n){return Xg(e,n,t,-1)},rv=function(e,t,n){return Xg(e,n,t,1)},ov=[Ba("selectors",[Ea("row"),Ea("cell")]),Ua("cycles",!0),Ua("previousSelector",b.none),Ua("execute",jh)],av=function(e,t){var n=t.previousSelector(e).orThunk(function(){var n=t.selectors;return wu(e.element(),n.cell)});n.each(function(n){t.focusManager.set(e,n)})},iv=function(e,t,n){return Nh(e.element()).bind(function(r){return n.execute(e,t,r)})},sv=function(e,t){return I(e,function(e){return qd(e,t.selectors.cell)})},uv=function(e,t){return function(n,r,o){var a=o.cycles?e:t;return xu(r,o.selectors.row).bind(function(e){var t=qd(e,o.selectors.cell);return lg(t,r).bind(function(t){var r=qd(n,o.selectors.row);return lg(r,e).bind(function(e){var n=sv(r,o);return a(n,e,t).map(function(e){return e.cell()})})})})}},cv=uv(Jg,ev),lv=uv(Gg,tv),dv=uv(Qg,nv),fv=uv(Zg,rv),mv=o([_h(wh(fh()),Jh(cv,lv)),_h(wh(ph()),Qh(cv,lv)),_h(wh(mh()),tg(dv)),_h(wh(hh()),ng(fv)),_h(wh(dh().concat(ch())),iv)]),pv=o([_h(wh(dh()),Hh)]),hv=Bh(ov,as.init,mv,pv,function(){return b.some(av)}),gv=[Ea("selector"),Ua("execute",jh),Ua("moveOnTab",!1)],vv=function(e,t,n){return n.focusManager.get(e).bind(function(r){return n.execute(e,t,r)})},bv=function(e,t){wu(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},yv=function(e,t,n){return Ig(e,n.selector,t,-1)},wv=function(e,t,n){return Ig(e,n.selector,t,1)},xv=function(e,t,n){return n.moveOnTab?rg(yv)(e,t,n):b.none()},Cv=function(e,t,n){return n.moveOnTab?rg(wv)(e,t,n):b.none()},Sv=o([_h(wh(mh()),rg(yv)),_h(wh(hh()),rg(wv)),_h(xh([Ch,wh(uh())]),xv),_h(xh([kh,wh(uh())]),Cv),_h(wh(ch()),vv),_h(wh(dh()),vv)]),kv=o([_h(wh(dh()),Hh)]),_v=Bh(gv,as.init,Sv,kv,function(){return b.some(bv)}),Tv=[Bu("onSpace"),Bu("onEnter"),Bu("onShiftEnter"),Bu("onLeft"),Bu("onRight"),Bu("onTab"),Bu("onShiftTab"),Bu("onUp"),Bu("onDown"),Bu("onEscape"),Ua("stopSpaceKeyup",!1),za("focusIn")],Ov=function(e,t,n){return[_h(wh(dh()),n.onSpace),_h(xh([kh,wh(ch())]),n.onEnter),_h(xh([Ch,wh(ch())]),n.onShiftEnter),_h(xh([Ch,wh(uh())]),n.onShiftTab),_h(xh([kh,wh(uh())]),n.onTab),_h(wh(mh()),n.onUp),_h(wh(hh()),n.onDown),_h(wh(fh()),n.onLeft),_h(wh(ph()),n.onRight),_h(wh(dh()),n.onSpace),_h(wh(lh()),n.onEscape)]},Ev=function(e,t,n){return n.stopSpaceKeyup?[_h(wh(dh()),Hh)]:[]},Dv=Bh(Tv,as.init,Ov,Ev,function(e){return e.focusIn}),Rv=Ph.schema(),Nv=zh.schema(),Iv=$g.schema(),Av=Ng.schema(),Mv=hv.schema(),Bv=Wh.schema(),Lv=_v.schema(),Pv=Dv.schema(),zv=Object.freeze({acyclic:Rv,cyclic:Nv,flow:Iv,flatgrid:Av,matrix:Mv,execution:Bv,menu:Lv,special:Pv}),Fv=Qu({branchKey:"mode",branches:zv,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(r){r(e,t,n)})},setGridSize:function(t,n,r,o,a){ze(r,"setGridSize")?r.setGridSize(o,a):e.console.error("Layout does not support setGridSize")}},state:Xh}),jv=function(e,n){var r=ir(n),o=Rh(r).bind(function(e){var t=function(t){return nr(e,t)};return t(n)?b.some(n):vi(n,t)}),a=e(n);return o.each(function(e){Rh(r).filter(function(t){return nr(t,e)}).fold(function(){Oh(e)},t)}),a},Hv=function(e,t,n,r){Kf(e),jv(function(){var t=I(r,e.getSystem().build);A(t,function(t){$f(e,t)})},e.element())},Vv=function(e,t,n,r){var o=e.getSystem().build(r);Uf(e,o,n)},$v=function(e,t,n,r){Vv(e,t,br,r)},Uv=function(e,t,n,r){Vv(e,t,vr,r)},qv=function(e,t,n,r){var o=Wv(e,t),a=F(o,function(e){return nr(r.element(),e.element())});a.each(Wf)},Wv=function(e,t){return e.components()},Kv=function(e,t,n,r,o){var a=Wv(e,t);return b.from(a[r]).map(function(a){return qv(e,t,n,a),o.each(function(n){Vv(e,t,function(e,t){yr(e,t,r)},n)}),a})},Yv=function(e,t,n,r,o){var a=Wv(e,t);return j(a,r).bind(function(r){return Kv(e,t,n,r,o)})},Xv=Object.freeze({append:$v,prepend:Uv,remove:qv,replaceAt:Kv,replaceBy:Yv,set:Hv,contents:Wv}),Gv=Gu({fields:[],name:"replacing",apis:Xv}),Jv=function(e,t,n){t.store.manager.onLoad(e,t,n)},Qv=function(e,t,n){t.store.manager.onUnload(e,t,n)},Zv=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},eb=function(e,t,n){return t.store.manager.getValue(e,t,n)},tb=function(e,t,n){return n},nb=Object.freeze({onLoad:Jv,onUnload:Qv,setValue:Zv,getValue:eb,getState:tb}),rb=function(e,t){var n=e.resetOnDom?[Ai(function(n,r){Jv(n,e,t)}),Mi(function(n,r){Qv(n,e,t)})]:[Vu(e,t,Jv)];return yi(n)},ob=Object.freeze({events:rb}),ab=function(){var e=Fe(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return is({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},ib=function(){var e=function(){};return is({readState:e})},sb=function(){var e=Fe({}),t=Fe({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})},o=function(n){return Ie(e.get(),n).orThunk(function(){return Ie(t.get(),n)})},a=function(n){var r=e.get(),o=t.get(),a={},i={};A(n,function(e){a[e.value]=e,Ie(e,"meta").each(function(t){Ie(t,"text").each(function(t){i[t]=e})})}),e.set(oo({},r,a)),t.set(oo({},o,i))};return is({readState:n,lookup:o,update:a,clear:r})},ub=function(e){return e.store.manager.state(e)},cb=Object.freeze({memory:ab,dataset:sb,manual:ib,init:ub}),lb=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},db=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold(function(){return r.getFallbackEntry(o)},function(e){return e})},fb=function(e,t,n){var r=t.store;r.initialValue.each(function(r){lb(e,t,n,r)})},mb=function(e,t,n){n.clear()},pb=[za("initialValue"),Ea("getFallbackEntry"),Ea("getDataKey"),Ea("setValue"),zu("manager",{setValue:lb,getValue:db,onLoad:fb,onUnload:mb,state:sb})],hb=function(e,t,n){return t.store.getValue(e)},gb=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},vb=function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},bb=[Ea("getValue"),Ua("setValue",t),za("initialValue"),zu("manager",{setValue:gb,getValue:hb,onLoad:vb,onUnload:t,state:as.init})],yb=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},wb=function(e,t,n){return n.get()},xb=function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},Cb=function(e,t,n){n.clear()},Sb=[za("initialValue"),zu("manager",{setValue:yb,getValue:wb,onLoad:xb,onUnload:Cb,state:ab})],kb=[qa("store",{mode:"memory"},wa("mode",{memory:Sb,manual:bb,dataset:pb})),Mu("onSetValue"),Ua("resetOnDom",!1)],_b=Gu({fields:kb,name:"representing",active:ob,apis:nb,extra:{setValueFrom:function(e,t){var n=_b.getValue(t);_b.setValue(e,n)}},state:cb}),Tb=function(e,t){t.ignore||(Oh(e.element()),t.onFocus(e))},Ob=function(e,t){t.ignore||Eh(e.element())},Eb=function(e){return Dh(e.element())},Db=Object.freeze({focus:Tb,blur:Ob,isFocused:Eb}),Rb=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return ds(n)},Nb=function(e){return yi([Si(Zt(),function(t,n){Tb(t,e),n.stop()})].concat(e.stopMousedown?[Si(We(),function(e,t){t.event().prevent()})]:[]))},Ib=Object.freeze({exhibit:Rb,events:Nb}),Ab=[Mu("onFocus"),Ua("stopMousedown",!1),Ua("ignore",!1)],Mb=Gu({fields:Ab,name:"focusing",active:Ib,apis:Db}),Bb=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},Lb=function(e,t,n){t.toggleClass.each(function(t){n.get()?zs(e.element(),t):js(e.element(),t)})},Pb=function(e,t,n){jb(e,t,n,!n.get())},zb=function(e,t,n){n.set(!0),Lb(e,t,n),Bb(e,t,n)},Fb=function(e,t,n){n.set(!1),Lb(e,t,n),Bb(e,t,n)},jb=function(e,t,n,r){var o=r?zb:Fb;o(e,t,n)},Hb=function(e,t,n){return n.get()},Vb=function(e,t,n){jb(e,t,n,t.selected)},$b=Object.freeze({onLoad:Vb,toggle:Pb,isOn:Hb,on:zb,off:Fb,set:jb}),Ub=function(e,t,n){return ds({})},qb=function(e,t){var n=Hu(e,t,Pb),r=Vu(e,t,Vb);return yi($([e.toggleOnExecute?[n]:[],[r]]))},Wb=Object.freeze({exhibit:Ub,events:qb}),Kb=function(e){var t=Fe(!1),n=function(e){return t.set(e)},r=function(){return t.set(!1)},o=function(){return t.get()},a=function(){return t.get()};return{readState:a,get:o,set:n,clear:r}},Yb=Object.freeze({init:Kb}),Xb=function(e,t,n){Ar(e.element(),"aria-pressed",n),t.syncWithExpanded&&Qb(e,t,n)},Gb=function(e,t,n){Ar(e.element(),"aria-selected",n)},Jb=function(e,t,n){Ar(e.element(),"aria-checked",n)},Qb=function(e,t,n){Ar(e.element(),"aria-expanded",n)},Zb=[Ua("selected",!1),za("toggleClass"),Ua("toggleOnExecute",!0),qa("aria",{mode:"none"},wa("mode",{pressed:[Ua("syncWithExpanded",!1),zu("update",Xb)],checked:[zu("update",Jb)],expanded:[zu("update",Qb)],selected:[zu("update",Gb)],none:[zu("update",t)]}))],ey=Gu({fields:Zb,name:"toggling",active:Wb,apis:$b,state:Yb}),ty="alloy.item-hover",ny="alloy.item-focus",ry=function(e){(Nh(e.element()).isNone()||Mb.isFocused(e))&&(Mb.isFocused(e)||Mb.focus(e),ii(e,ty,{item:e}))},oy=function(e){ii(e,ny,{item:e})},ay=o(ty),iy=o(ny),sy=function(e,t){var n=yi(t);return Gu({fields:[Ea("enabled")],name:e,active:{events:o(n)}})},uy=function(e,t){var n=sy(e,t);return{key:e,value:{config:{},me:n,configAsRaw:o({}),initialConfig:{},state:as}}},cy=function(e){return{dom:e.dom,domModification:oo({},e.domModification,{attributes:oo({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes,{"aria-haspopup":e.hasSubmenu},e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:_m.augment(e.itemBehaviours,[e.toggling.fold(ey.revoke,function(e){return ey.config(oo({aria:{mode:"checked"}},e))}),Mb.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){oy(e)}}),Fv.config({mode:"execution"}),_b.config({store:{mode:"memory",initialValue:e.data}}),uy("item-type-events",[Si(sn(),si),Ri(We()),Si(Ge(),ry),Si(on(),Mb.focus)])]),components:e.components,eventOrder:e.eventOrder}},ly=[Ea("data"),Ea("components"),Ea("dom"),Ua("hasSubmenu",!1),za("toggling"),_m.field("itemBehaviours",[ey,Mb,Fv,_b]),Ua("ignoreFocus",!1),Ua("domModification",{}),zu("builder",cy),Ua("eventOrder",{})],dy=function(e){return{dom:e.dom,components:e.components,events:yi([Ni(on())])}},fy=[Ea("dom"),Ea("components"),zu("builder",dy)],my=function(){return"item-widget"},py=o([Zm({name:"widget",overrides:function(e){return{behaviours:Yu([_b.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),hy=function(e){var t=fp(my(),e,py()),n=mp(my(),e,t.internals()),r=function(t){return pp(t,e,"widget").map(function(e){return Fv.focusIn(e),e})},o=function(t,n){return Mp(n.event().target())?b.none():function(){return e.autofocus?(n.setSource(t.element()),b.none()):b.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:yi([Li(function(e,t){r(e).each(function(e){t.stop()})}),Si(Ge(),ry),Si(on(),function(t,n){e.autofocus?r(t):Mb.focus(t)})]),behaviours:_m.augment(e.widgetBehaviours,[_b.config({store:{mode:"memory",initialValue:e.data}}),Mb.config({ignore:e.ignoreFocus,onFocus:function(e){oy(e)}}),Fv.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Zu(),onLeft:o,onRight:o,onEscape:function(t,n){return Mb.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),b.none()):b.none():(Mb.focus(t),b.some(!0))}})])}},gy=[Ea("uid"),Ea("data"),Ea("components"),Ea("dom"),Ua("autofocus",!1),Ua("ignoreFocus",!1),_m.field("widgetBehaviours",[_b,Mb,Fv]),Ua("domModification",{}),xp(py()),zu("builder",hy)],vy=wa("type",{widget:gy,item:ly,separator:fy}),by=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},yy=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},wy=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},xy=o([np({factory:{sketch:function(e){var t=ba("menu.spec item",vy,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:oo({},t,{uid:Ki("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),Cy=o([Ea("value"),Ea("items"),Ea("dom"),Ea("components"),Ua("eventOrder",{}),Cm("menuBehaviours",[ih,_b,zp,Fv]),qa("movement",{mode:"menu",moveOnTab:!0},wa("mode",{grid:[ju(),zu("config",by)],matrix:[zu("config",yy),Ea("rowSelector")],menu:[Ua("moveOnTab",!0),zu("config",wy)]})),Ru(),Ua("fakeFocus",!1),Ua("focusManager",Ah()),Mu("onHighlight")]),Sy=o("alloy.menu-focus"),ky=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:km(e.menuBehaviours,[ih.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),_b.config({store:{mode:"memory",initialValue:e.value}}),zp.config({find:b.some}),Fv.config(e.movement.config(e,e.movement))]),events:yi([Si(iy(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){ih.highlight(e,n),t.stop(),ii(e,Sy(),{menu:e,item:n})})}),Si(ay(),function(e,t){var n=t.event().item();ih.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},_y=Ap({name:"Menu",configFields:Cy(),partFields:xy(),factory:ky}),Ty=function(e){return oe(e,function(e,t){return{k:e,v:t}})},Oy=function(e,t,n,r){return Ie(n,r).bind(function(r){return Ie(e,r).bind(function(r){var o=Oy(e,t,n,r);return b.some([r].concat(o))})}).getOr([])},Ey=function(e,t){var n={};ne(e,function(e,t){A(e,function(e){n[e]=t})});var r=t,o=Ty(t),a=re(o,function(e,t){return[t].concat(Oy(n,r,o,t))});return re(n,function(e){return Ie(a,e).getOr([e])})},Dy=function(){var e=Fe({}),t=Fe({}),n=Fe({}),r=Fe(b.none()),o=Fe({}),a=function(){e.set({}),t.set({}),n.set({}),r.set(b.none())},i=function(){return r.get().isNone()},s=function(e,n){var r;t.set(oo({},t.get(),(r={},r[e]={type:"prepared",menu:n},r)))},u=function(a,i,s,u){r.set(b.some(a)),e.set(s),t.set(i),o.set(u);var c=Ey(u,s);n.set(c)},c=function(t){return Ie(e.get(),t).map(function(e){var r=Ie(n.get(),t).getOr([]);return[e].concat(r)})},l=function(e){return Ie(n.get(),e).bind(function(e){return e.length>1?b.some(e.slice(1)):b.none()})},d=function(e){return Ie(n.get(),e)},f=function(e){return Ie(t.get(),e)},m=function(e){var t=o.get();return Y(ee(t),e)},p=function(){return r.get().bind(function(e){return f(e).bind(function(e){return"prepared"===e.type?b.some(e.menu):b.none()})})},h=function(){return t.get()};return{setMenuBuilt:s,setContents:u,expand:c,refresh:d,collapse:l,lookupMenu:f,otherMenus:m,getPrimary:p,getMenus:h,clear:a,isClear:i}},Ry={init:Dy},Ny=function(e,t){var n,r=Fe(b.none()),o=function(t,n,r){return re(r,function(r,o){var a=function(){return _y.sketch(oo({dom:r.dom},r,{value:o,items:r.items,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?Mh():Ah()}))};return o===n?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}})},a=Ry.init(),i=function(t){var n=o(t,e.data.primary,e.data.menus),r=u(t);return a.setContents(e.data.primary,n,e.data.expansions,r),a.getPrimary()},s=function(e){return _b.getValue(e).value},u=function(t){return re(e.data.menus,function(e,t){return U(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},c=function(e,t){ih.highlight(e,t),ih.getHighlighted(t).orThunk(function(){return ih.getFirst(t)}).each(function(t){ui(e,t.element(),on())})},l=function(e,t){return je(I(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?b.some(e.menu):b.none()})}))},d=function(t,n,r){var o=l(n,n.otherMenus(r));A(o,function(n){$s(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Gv.remove(t,n)})},f=function(t){return r.get().getOrThunk(function(){var n={},o=qd(t.element(),"."+e.markers.item),a=L(o,function(e){return"true"===Br(e,"aria-haspopup")});return A(a,function(e){t.getSystem().getByDom(e).each(function(e){var t=s(e);n[t]=e})}),r.set(b.some(n)),n})},m=function(e,t){var n=f(e);ne(n,function(e,n){var r=D(t,n);Ar(e.element(),"aria-expanded",r)})},p=function(t,n,r){return b.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return b.none();var a=o.menu,i=l(n,r.slice(1));return A(i,function(t){zs(t.element(),e.markers.backgroundMenu)}),fi(a.element())||Gv.append(t,vu(a)),$s(a.element(),[e.markers.backgroundMenu]),c(t,a),d(t,n,r),b.some(a)})})};(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var h=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return a.setMenuBuilt(t,r),r}return n.menu},g=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var i=s(r);return a.expand(i).bind(function(i){return m(t,i),b.from(i[0]).bind(function(s){return a.lookupMenu(s).bind(function(u){var c=h(t,s,u);return fi(c.element())||Gv.append(t,vu(c)),e.onOpenSubmenu(t,r,c),o===n.HighlightSubmenu?(ih.highlightFirst(c),p(t,a,i)):(ih.dehighlightAll(c),b.some(r))})})})},v=function(t,n){var r=s(n);return a.collapse(r).bind(function(r){return m(t,r),p(t,a,r).map(function(r){return e.onCollapseMenu(t,n,r),r})})},y=function(e,t){var n=s(t);return a.refresh(n).bind(function(t){return m(e,t),p(e,a,t)})},w=function(e,t){return Mp(t.element())?b.none():g(e,t,n.HighlightSubmenu)},x=function(e,t){return Mp(t.element())?b.none():v(e,t)},C=function(t,n){return v(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})},S=function(t){return function(n,r){return xu(r.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},k=yi([Si(Sy(),function(e,t){var n=t.event().menu();ih.highlight(e,n);var r=s(t.event().item());a.refresh(r).each(function(t){return d(e,a,t)})}),Li(function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each(function(r){var o=s(r);0===o.indexOf("collapse-item")&&v(t,r),g(t,r,n.HighlightSubmenu).fold(function(){e.onExecute(t,r)},function(){})})}),Ai(function(t,n){i(t).each(function(n){Gv.append(t,vu(n)),e.onOpenMenu(t,n),e.highlightImmediately&&c(t,n)})})].concat(e.navigateOnHover?[Si(ay(),function(t,r){var o=r.event().item();y(t,o),g(t,o,n.HighlightParent),e.onHover(t,o)})]:[])),_=function(e){ih.getHighlighted(e).each(function(t){ih.getHighlighted(t).each(function(t){v(e,t)})})},T=function(e){a.getPrimary().each(function(t){c(e,t)})},O={collapseMenu:_,highlightPrimary:T};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:km(e.tmenuBehaviours,[Fv.config({mode:"special",onRight:S(w),onLeft:S(x),onEscape:S(C),focusIn:function(e,t){a.getPrimary().each(function(t){ui(e,t.element(),on())})}}),ih.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),zp.config({find:function(e){return ih.getHighlighted(e)}}),Gv.config({})]),eventOrder:e.eventOrder,apis:O,events:k}},Iy=o("collapse-item"),Ay=function(e,t,n){return{primary:e,menus:t,expansions:n}},My=function(e,t){return{primary:e,menus:Ae(e,t),expansions:{}}},By=function(e){return{value:no(Iy()),meta:{text:e}}},Ly=Ip({name:"TieredMenu",configFields:[Pu("onExecute"),Pu("onEscape"),Lu("onOpenMenu"),Lu("onOpenSubmenu"),Mu("onCollapseMenu"),Ua("highlightImmediately",!0),Ba("data",[Ea("primary"),Ea("menus"),Ea("expansions")]),Ua("fakeFocus",!1),Mu("onHighlight"),Mu("onHover"),Nu(),Ea("dom"),Ua("navigateOnHover",!0),Ua("stayInDom",!1),Cm("tmenuBehaviours",[Fv,ih,zp,Gv]),Ua("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)}},factory:Ny,extraApis:{tieredData:Ay,singleData:My,collapseItem:By}}),Py=function(e,t,n,r){var o=function(){return e.lazySink(t)};return Ly.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,onEscape:function(){return gm.close(t),e.onEscape.map(function(e){return e(t)}),b.some(!0)},onExecute:function(){return b.some(!0)},onOpenMenu:function(e,t){jf.position(o().getOrDie(),n,t)},onOpenSubmenu:function(e,t,n){var r=o().getOrDie();jf.position(r,{anchor:"submenu",item:t},n)}})},zy=function(e,t){var n=function(t,n){var r=e.getRelated(t);return r.exists(function(e){return _u(e,n)})},r=function(e,t){gm.open(e,t)},a=function(e,t,n){var r=b.none();i(e,t,n,r)},i=function(t,n,r,o){var a=e.lazySink(t).getOrDie();gm.openWhileCloaked(t,r,function(){return jf.positionWithin(a,n,t,o)}),e.onShow(t)},s=function(t,n,r){var o=Py(e,t,n,r);gm.open(t,o),e.onShow(t)},u=function(t){gm.close(t),e.onHide(t)},c=function(e){return gm.getState(e)},l={setContent:r,showAt:a,showWithin:i,showMenuAt:s,hide:u,getContent:c,isOpen:gm.isOpen};return{uid:e.uid,dom:e.dom,behaviours:km(e.inlineBehaviours,[gm.config({isPartOf:function(e,t,r){return _u(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()}}),wm(oo({isExtraPart:o(!1)},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))]),eventOrder:e.eventOrder,apis:l}},Fy=Ip({name:"InlineView",configFields:[Ea("lazySink"),Mu("onShow"),Mu("onHide"),Ha("onEscape"),Cm("inlineBehaviours",[gm,oc]),Va("fireDismissalEventInstead",[Ua("event",gn())]),Ua("getRelated",b.none),Ua("eventOrder",b.none)],factory:zy,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)}}}),jy=function(e){var t=function(e){return Si(rn(),function(t,n){e(t),n.stop()})},n=function(e,t){t.stop(),si(e)},r=function(e,t){t.cut()},o=Jt.detect().deviceType.isTouch()?[Si(an(),n)]:[Si(rt(),n),Si(We(),r)];return yi($([e.map(t).toArray(),o]))},Hy=function(e){var t=jy(e.action),n=e.dom.tag,r=function(t){return Ie(e.dom,"attributes").bind(function(e){return Ie(e,t)})},o=function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map(function(e){return{role:e}}).getOr({});return oo({type:e},t)}var o=r("role").getOr("button");return{role:o}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:_m.augment(e.buttonBehaviours,[Mb.config({}),Fv.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:e.eventOrder}},Vy=Ip({name:"Button",factory:Hy,configFields:[Ua("uid",void 0),Ea("dom"),Ua("components",[]),_m.field("buttonBehaviours",[Mb,Fv]),za("action"),za("role"),Ua("eventOrder",{})]}),$y=function(e){var t=Ep(e)&&ze(e,"uid")?e.uid:Ki("memento"),n=function(e){return e.getSystem().getByUid(t).getOrDie()},r=function(e){return e.getSystem().getByUid(t).fold(b.none,b.some)},o=function(){return oo({},e,{uid:t})};return{get:n,getOpt:r,asSpec:o}},Uy=function(e){return b.from(e()["temporary-placeholder"]).getOr("!not found!")},qy=function(e,t){return b.from(t()[e]).getOrThunk(function(){return Uy(t)})},Wy=function(e,t,n){return b.from(t()[e]).or(n).getOrThunk(function(){return Uy(t)})},Ky=function(e,t){return He(e,function(e){return b.from(t()[e])}).getOrThunk(function(){return Uy(t)})},Yy={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Xy=function(e){var t=$y({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Yu([Gv.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=$y({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Yu([Gv.config({})])}),a=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each(function(e){Gv.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},i=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Gv.set(r,[mu(n)])}},s={updateProgress:a,updateText:i},u=$([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return b.from(Yy[e])}).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:Ky(u,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Yu([Gv.config({})])}].concat(e.progress?[o.asSpec()]:[]).concat(Vy.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:qy("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),apis:s}},Gy=Ip({name:"Notification",factory:Xy,configFields:[za("level"),Ea("progress"),Ea("icon"),Ea("onAction"),Ea("text"),Ea("iconProvider"),Ea("translationProvider")],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),Jy=tinymce.util.Tools.resolve("tinymce.util.Delay");function Qy(e,t,n){var r=t.backstage,o=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},a=function(e){A(e,function(e){e.moveTo(0,0)})},i=function(t){if(t.length>0){var n=t.slice(0,1)[0],r=o(e);n.moveRel(r,"tc-tc"),A(t,function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})}},s=function(e){a(e),i(e)},u=function(e,o){var a=function(){o(),Fy.hide(s)},i=gu(Gy.sketch({text:e.text,level:D(["success","error","warning","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:b.from(e.icon),onAction:a,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),s=gu(Fy.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}}));return n.add(s),e.timeout&&Jy.setTimeout(function(){a()},e.timeout),{close:a,moveTo:function(e,t){Fy.showAt(s,{anchor:"makeshift",x:e,y:t},vu(i))},moveRel:function(e,n){Fy.showAt(s,t.backstage.shared.anchors.banner(),vu(i))},text:function(e){Gy.updateText(i,e)},settings:e,getEl:function(){},progressBar:{value:function(e){Gy.updateProgress(i,e)}}}},c=function(e){e.close()},l=function(e){return e.settings};return{open:u,close:c,reposition:s,getArgs:l}}var Zy,ew=function(t,n){var r=null,o=function(){null!==r&&(e.clearTimeout(r),r=null)},a=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)};return{cancel:o,throttle:a}},tw=function(e){return e.collapsed&&3===e.startContainer.nodeType},nw=/[\u00a0 \t\r\n]/,rw=function(e,t,n,r){var o;for(o=t-1;o>=0;o--){if(nw.test(e.charAt(o)))return b.none();if(e.charAt(o)===n)break}return-1===o||t-o<r?b.none():b.some(e.substring(o+1,t))},ow=function(e,t,n,r,o){return void 0===o&&(o=0),tw(e)?rw(n,r,t,o).map(function(t){var n=e.cloneRange();return n.setStart(e.startContainer,e.startOffset-t.length-1),n.setEnd(e.startContainer,e.startOffset),{text:t,rng:n}}):b.none()},aw=function(e,t){t.on("keypress",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){ii(e,Ze(),{raw:t})};t.on("keydown",function(t){var r=function(){return e.getView().bind(ih.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which?e.closeIfNecessary():32===t.which?e.closeIfNecessary():13===t.which?(r().each(si),t.preventDefault()):40===t.which?(r().fold(function(){e.getView().each(ih.highlightFirst)},function(e){n(e,t)}),t.preventDefault()):37!==t.which&&38!==t.which&&39!==t.which||r().each(function(e){n(e,t),t.preventDefault()}))})},iw={setup:aw},sw=tinymce.util.Tools.resolve("tinymce.util.Promise"),uw=function(e,t){return 0===e.startOffset||/\s/.test(t.charAt(e.startOffset-1))},cw=function(e,t,n){return He(n.triggerChars,function(n){return ow(e,n,t,e.startOffset).map(function(e){var t=e.rng,r=e.text;return{range:t,text:r,triggerChar:n}})})},lw=function(e,t){var n=t(),r=e.selection.getRng(),o=r.startContainer.nodeValue;return cw(r,o,n).map(function(e){var t=L(n.lookupByChar(e.triggerChar),function(t){return e.text.length>=t.minChars&&t.matches.getOr(uw)(e.range,o,e.text)}),r=sw.all(I(t,function(t){var n=t.fetch(e.text,t.maxResults);return n.then(function(e){return{items:e,columns:t.columns,onAction:t.onAction}})}));return{lookupData:r,triggerChar:e.triggerChar,range:e.range}})},dw=ta([Qa("type",function(){return"autocompleteitem"}),Qa("active",function(){return!1}),Qa("disabled",function(){return!1}),Ua("meta",{}),Na("value"),ja("text"),ja("icon")]),fw=ta([Na("type"),Na("ch"),Wa("minChars",1),Ua("columns",1),Wa("maxResults",10),Ha("matches"),Aa("fetch"),Aa("onAction")]),mw=function(e){return ga("Autocompleter.Item",dw,e)},pw=function(e){return ga("Autocompleter",fw,e)},hw=function(e){var t={};return A(e,function(e){t[e]={}}),ee(t)},gw=function(e){var t=e.ui.registry.getAll().popups,n=re(t,function(e){return pw(e).fold(function(e){throw new Error(ya(e))},function(e){return e})}),r=hw(ae(n,function(e){return e.ch})),o=se(n),a=function(e){return L(o,function(t){return t.ch===e})};return{dataset:n,triggerChars:r,lookupByChar:a}},vw=[Xa("disabled",!1),ja("text"),ja("shortcut"),sa("value","value",mo(function(){return no("menuitem-value")}),xa()),Ua("meta",{})],bw=ta([Na("type"),Ga("onSetup",function(){return t}),Ga("onAction",t),ja("icon")].concat(vw)),yw=function(e){return ga("menuitem",bw,e)},ww=ta([Na("type"),Aa("getSubmenuItems"),Ga("onSetup",function(){return t}),ja("icon")].concat(vw)),xw=function(e){return ga("nestedmenuitem",ww,e)},Cw=ta([Na("type"),Xa("active",!1),Ga("onSetup",function(){return t}),Aa("onAction")].concat(vw)),Sw=function(e){return ga("togglemenuitem",Cw,e)},kw=ta([Na("type"),Xa("active",!1),ja("icon")].concat(vw)),_w=function(e){return ga("choicemenuitem",kw,e)},Tw=ta([Na("type"),ja("text")]),Ow=function(e){return ga("separatormenuitem",Tw,e)},Ew=ta([Na("type"),Ia("fancytype",["inserttable"]),Ga("onAction",t)]),Dw=function(e){return ga("fancymenuitem",Ew,e)},Rw=function(e,t,n){var r=qd(e.element(),"."+n);if(r.length>0){var o=j(r,function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t}).getOr(r.length);return b.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return b.none()},Nw=function(e,t){return Yu([uy(e,t)])},Iw=function(e){return Nw(no("unnamed-events"),e)},Aw={namedEvents:Nw,unnamedEvents:Iw},Mw=[Ea("lazySink"),Ea("tooltipDom"),Ua("exclusive",!0),Ua("tooltipComponents",[]),Ua("delay",300),Ya("mode","normal",["normal","follow-highlight"]),Ua("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:o([Pl,Ll,Il,Ml,Al,Bl]),onRtl:o([Pl,Ll,Il,Ml,Al,Bl])}}}),Mu("onHide"),Mu("onShow")],Bw=function(){var t=Fe(b.none()),n=Fe(b.none()),r=function(){return n.get()},a=function(e){n.set(b.some(e))},i=function(){n.set(b.none())},s=function(){t.get().each(function(t){e.clearTimeout(t)})},u=function(n,r){s(),t.set(b.some(e.setTimeout(function(){n()},r)))},c=function(){return n.get().isSome()},l=o("not-implemented");return is({getTooltip:r,isShowing:c,setTooltip:a,clearTooltip:i,clearTimer:s,resetTimer:u,readState:l})},Lw=Object.freeze({init:Bw}),Pw=no("tooltip.exclusive"),zw=no("tooltip.show"),Fw=no("tooltip.hide"),jw=function(e,t,n){e.getSystem().broadcastOn([Pw],{})},Hw=function(e,t,n,r){n.getTooltip().each(function(e){e.getSystem().isConnected()&&Gv.set(e,r)})},Vw=Object.freeze({hideAllExclusive:jw,setComponents:Hw}),$w=function(e,t){var n=function(n){t.getTooltip().each(function(r){Wf(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=function(n){if(!t.isShowing()){jw(n,e,t);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:yi("normal"===e.mode?[Si(Ge(),function(e){ai(n,zw)}),Si(Ye(),function(e){ai(n,Fw)})]:[]),behaviours:Yu([Gv.config({})])});t.setTooltip(o),$f(r,o),e.onShow(n,o),jf.position(r,e.anchor(n),o)}};return yi($([[Si(zw,function(n){t.resetTimer(function(){r(n)},e.delay)}),Si(Fw,function(r){t.resetTimer(function(){n(r)},e.delay)}),Si(nn(),function(e,t){var r=t;D(r.channels(),Pw)&&n(e)}),Mi(function(e){n(e)})],"normal"===e.mode?[Si(Je(),function(e){ai(e,zw)}),Si(en(),function(e){ai(e,Fw)}),Si(Ge(),function(e){ai(e,zw)}),Si(Ye(),function(e){ai(e,Fw)})]:[Si(xn(),function(e,t){ai(e,zw)}),Si(Cn(),function(e){ai(e,Fw)})]]))},Uw=Object.freeze({events:$w}),qw=Gu({fields:Mw,name:"tooltipping",active:Uw,state:Lw,apis:Vw}),Ww=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return z(t,function(e,t){var n;return"class"===t.name?e:oo({},e,(n={},n[t.name]=t.value,n))},{})},Kw=function(e){return Array.prototype.slice.call(e.dom().classList,0)},Yw=function(e){var t=En.fromHtml(e),n=dr(t),r=Ww(t),o=Kw(t),a=0===n.length?{}:{innerHtml:Sr(t)};return oo({tag:Tr(t),classes:o,attributes:r},a)},Xw=tinymce.util.Tools.resolve("tinymce.util.I18n"),Gw="tox-menu-nav__js",Jw="tox-collection__item",Qw="tox-swatch",Zw={normal:Gw,color:Qw},ex="tox-collection__item--enabled",tx="tox-collection__group-heading",nx="tox-collection__item-icon",rx="tox-collection__item-label",ox="tox-collection__item-accessory",ax="tox-collection__item-caret",ix="tox-collection__item-checkmark",sx="tox-collection__item--active",ux=function(e){return Ie(Zw,e).getOr(Gw)},cx=tinymce.util.Tools.resolve("tinymce.Env"),lx=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=cx.mac?t:n,o=e.split("+"),a=I(o,function(e){var t=e.toLowerCase().trim();return ce(r,t)?r[t]:e});return cx.mac?a.join(""):a.join("+")},dx={convertText:lx},fx=function(e){return{dom:{tag:"div",classes:[nx],innerHtml:e}}},mx=function(e){return{dom:{tag:"div",classes:[rx]},components:[mu(Xw.translate(e))]}},px=function(e,t){return{dom:{tag:"div",classes:[rx]},components:[{dom:{tag:e.tag,attributes:{style:e.styleAttr}},components:[mu(Xw.translate(t))]}]}},hx=function(e){return{dom:{tag:"div",classes:[ox],innerHtml:dx.convertText(e)}}},gx=function(e){return{dom:{tag:"div",classes:[nx,ix],innerHtml:qy("checkmark",e)}}},vx=function(e){return{dom:{tag:"div",classes:[ax],innerHtml:qy("chevron-right",e)}}},bx=function(e,t,n){var r="custom",o="remove",a=function(){var a=Qw,i=n.getOr(""),s=e.map(function(e){return' title="'+e+'"'}).getOr("");return Yw(t===r?'<button class="'+a+' tox-swatches__picker-btn"'+s+">"+i+"</button>":t===o?'<div class="'+a+' tox-swatch--remove"'+s+">"+i+"</div>":'<div class="'+a+'" style="background-color: '+t+'" data-mce-color="'+t+'"'+s+"></div>")};return{dom:a(),optComponents:[]}},yx=function(e,t,n,r){var o=n?e.checkMark.orThunk(function(){return t.or(b.some("")).map(fx)}):b.none(),a=e.ariaLabel.map(function(e){return{attributes:{title:Xw.translate(e)}}}).getOr({}),i=Ee({tag:"div",classes:[Gw,Jw]},a),s={dom:i,optComponents:[o,e.textContent.map(r),e.shortcutContent.map(hx),e.caret]};return s},wx=function(e,t,n,r){void 0===r&&(r=b.none());var o=e.iconContent.map(function(e){return Wy(e,t.icons,r)}),a=b.from(e.meta).fold(function(){return mx},function(e){return ce(e,"style")?i(px,e.style):mx});return"color"===e.presets?bx(e.ariaLabel,e.value,o):yx(e,o,n,a)},xx=["input","button","textarea"],Cx=function(e,t,n){t.disabled&&Rx(e,t,n)},Sx=function(e){return D(xx,Tr(e.element()))},kx=function(e){return Lr(e.element(),"disabled")},_x=function(e){Ar(e.element(),"disabled","disabled")},Tx=function(e){Pr(e.element(),"disabled")},Ox=function(e){return"true"===Br(e.element(),"aria-disabled")},Ex=function(e){Ar(e.element(),"aria-disabled","true")},Dx=function(e){Ar(e.element(),"aria-disabled","false")},Rx=function(e,t,n){t.disableClass.each(function(t){zs(e.element(),t)});var r=Sx(e)?_x:Ex;r(e)},Nx=function(e,t,n){t.disableClass.each(function(t){js(e.element(),t)});var r=Sx(e)?Tx:Dx;r(e)},Ix=function(e){return Sx(e)?kx(e):Ox(e)},Ax=Object.freeze({enable:Nx,disable:Rx,isDisabled:Ix,onLoad:Cx}),Mx=function(e,t,n){return ds({classes:t.disabled?t.disableClass.map(X).getOr([]):[]})},Bx=function(e,t){return yi([wi(rn(),function(e,t){return Ix(e)}),Vu(e,t,Cx)])},Lx=Object.freeze({exhibit:Mx,events:Bx}),Px=[Ua("disabled",!1),za("disableClass")],zx=Gu({fields:Px,name:"disabling",active:Lx,apis:Ax}),Fx=function(e){return zx.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},jx=function(e){return zx.config({disabled:e})},Hx=function(e){return zx.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Vx={item:Fx,button:jx,splitButton:Hx},$x=function(e,t){var n=e.getApi(t);return function(e){e(n)}},Ux=function(e,t){return Ai(function(n){var r=$x(e,n);r(function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)})})},qx=function(e,t){return Mi(function(n){return $x(e,n)(t.get())})};(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(Zy||(Zy={}));var Wx=Zy,Kx=function(e,t){return Li(function(n,r){$x(e,n)(e.onAction),e.triggersSubmenu||t!==Wx.CLOSE_ON_EXECUTE||(ai(n,cn()),r.stop())})},Yx={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Xx=function(e){return U(e,function(e){return e.toArray()})},Gx=function(e,n,r){var o=Fe(t);return{type:"item",dom:n.dom,components:Xx(n.optComponents),data:e.data,eventOrder:Yx,hasSubmenu:e.triggersSubmenu,itemBehaviours:Yu([uy("item-events",[Kx(e,r),Ux(e,o),qx(e,o)]),Vx.item(e.disabled),Gv.config({})].concat(e.itemBehaviours))}},Jx=function(e){return{value:e.value,meta:Ee({text:e.text.getOr("")},e.meta)}},Qx=function(e,t){return ue(e,"tooltipWorker").map(function(e){return[qw.config({lazySink:t.getSink,tooltipDom:{tag:"div"},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e}},mode:"follow-highlight",onShow:function(t,n){e(function(e){qw.setComponents(t,[pu({element:En.fromDom(e)})])})}})]}).getOr([])},Zx=function(e,t,n,r,o,a,i){void 0===i&&(i=!0);var s=wx({presets:n,textContent:t?e.text:b.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:b.none(),checkMark:b.none(),caret:b.none(),value:e.value},a.providers,i,e.icon);return Gx({data:Jx(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return r(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:Qx(e.meta,a)},s,o)},eC=function(e,t,n,r,o,a,i){var s=function(e){return{setActive:function(t){ey.set(e,t)},isActive:function(){return ey.isOn(e)},isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},u=wx({presets:n,textContent:t?e.text:b.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:b.none(),checkMark:t?b.some(gx(i.icons)):b.none(),caret:b.none(),value:e.value},i,!0);return Oe(Gx({data:Jx(e),disabled:e.disabled,getApi:s,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,a),{toggling:{toggleClass:ex,toggleOnExecute:!1,selected:e.active}})},tC=o(sp(my(),py())),nC=no("cell-over"),rC=no("cell-execute"),oC=function(e,t,n){var r,o=function(n){return ii(n,nC,{row:e,col:t})},a=function(n){return ii(n,rC,{row:e,col:t})};return gu({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Yu([uy("insert-table-picker-cell",[Si(Ge(),Mb.focus),Si(rn(),a),Si(sn(),a)]),ey.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Mb.config({onFocus:o})])})},aC=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var a=[],i=0;i<n;i++)a.push(oC(o,i,e));r.push(a)}return r},iC=function(e,t,n,r,o){for(var a=0;a<r;a++)for(var i=0;i<o;i++)ey.set(e[a][i],a<=t&&i<=n)},sC=function(e){return U(e,function(e){return I(e,vu)})},uC=function(e,t){return mu(t+1+"x"+(e+1))};function cC(e){var t=10,n=10,r=no("size-label"),o=aC(r,t,n),a=$y({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[mu("0x0")],behaviours:Yu([Gv.config({})])});return{type:"widget",data:{value:no("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[tC().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:sC(o).concat(a.asSpec()),behaviours:Yu([uy("insert-table-picker",[Di(nC,function(e,r,i){var s=i.event().row(),u=i.event().col();iC(o,s,u,t,n),Gv.set(a.get(e),[uC(s,u)])}),Di(rC,function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),ai(t,cn())})]),Fv.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}}var lC,dC={inserttable:cC},fC=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?b.some(e[t]):b.none()},mC=function(e){return fC(dC,e.fancytype).map(function(t){return t(e)})},pC=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},a=wx({presets:"normal",iconContent:e.icon,textContent:e.text,ariaLabel:e.text,caret:b.none(),checkMark:b.none(),shortcutContent:e.shortcut},n,r);return Gx({data:Jx(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},a,t)},hC=function(e,n,r,o){void 0===o&&(o=!0);var a=vx(r.icons),i=function(e){return{isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},s=wx({presets:"normal",iconContent:e.icon,textContent:e.text,ariaLabel:e.text,caret:b.some(a),checkMark:b.none(),shortcutContent:e.shortcut},r,o);return Gx({data:Jx(e),getApi:i,disabled:e.disabled,onAction:t,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},s,n)},gC=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:oo({tag:"div",classes:[Jw,tx]},t),components:[]}},vC=function(e,t,n){var r=function(e){return{setActive:function(t){ey.set(e,t)},isActive:function(){return ey.isOn(e)},isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},o=wx({iconContent:b.none(),textContent:e.text,ariaLabel:e.text,checkMark:b.some(gx(n.icons)),caret:b.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,!0);return Oe(Gx({data:Jx(e),disabled:e.disabled,getApi:r,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,t),{toggling:{toggleClass:ex,toggleOnExecute:!1,selected:e.active}})},bC=eC,yC=Zx,wC=gC,xC=pC,CC=hC,SC=vC,kC=mC,_C=function(e){return"color"===e?"tox-swatches":"tox-menu"},TC=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:_C(e),tieredMenu:"tox-tiered-menu"}},OC=function(e){var t=TC(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:ux(e)}},EC=function(e,t,n){var r=TC(n);return{tag:"div",classes:$([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},DC=[_y.parts().items({})],RC=function(e,t,n){var r=TC(n),o={tag:"div",classes:$([[r.tieredMenu]])};return{dom:o,markers:OC(n)}},NC=function(e,t){var n=OC(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},IC=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?"."+Qw:"."+Jw}}},AC=function(e,t){return function(n){var r=N(n,t);return I(r,function(t){return{dom:e,components:t}})}},MC=function(e){return{dom:{tag:"div",classes:["tox-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[_y.parts().items({preprocess:"auto"!==e?AC({tag:"div",classes:["tox-swatches__row"]},e):a})]}]}},BC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[_y.parts().items({preprocess:AC({tag:"div",classes:["tox-collection__group"]},e)})]}},LC=function(e,t){var n=[],r=[];return A(e,function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],ce(e.dom,"innerHtml")&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),I(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},PC=function(e,t,n){return void 0===n&&(n=!0),{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[_y.parts().items({preprocess:function(n){return"auto"!==e&&e>1?AC({tag:"div",classes:["tox-collection__group"]},e)(n):LC(n,function(e,n){return"separator"===t[n].type})}})]}};(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(lC||(lC={}));var zC=function(t){return e.console.error(ya(t)),e.console.log(t),b.none()},FC=function(e){return void 0!==e.icon||"togglemenuitem"===e.type||"choicemenuitem"===e.type},jC=function(e){return R(e,FC)},HC=function(t,n,r,o){switch(void 0===o&&(o=!0),t.type){case"menuitem":return yw(t).fold(zC,function(e){return b.some(xC(e,n,r,o))});case"nestedmenuitem":return xw(t).fold(zC,function(e){return b.some(CC(e,n,r,o))});case"togglemenuitem":return Sw(t).fold(zC,function(e){return b.some(SC(e,n,r))});case"separator":return Ow(t).fold(zC,function(e){return b.some(wC(e))});case"fancymenuitem":return Dw(t).fold(zC,function(e){return kC(e)});default:return e.console.error("Unknown item in general menu",t),b.none()}},VC=function(e,t,n,r,o){if("color"===o){var a=MC(r);return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o&&"auto"===r){a=PC(r,n);return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o&&1===r){a=PC(1,n);return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o){a=PC(r,n);return{value:e,dom:a.dom,components:a.components,items:n}}if("listpreview"===o&&"auto"!==r){a=BC(r);return{value:e,dom:a.dom,components:a.components,items:n}}return{value:e,dom:EC(t,r,o),components:DC,items:n}},$C=function(e,t,n,r,o,a,i){return je(I(e,function(e){return"choiceitem"===e.type?_w(e).fold(zC,function(s){return b.some(bC(s,1===n,r,t,a(e.value),o,i))}):b.none()}))},UC=function(e,t,n,r,o){var a=1===n,i=!a||jC(e);return je(I(e,function(e){return mw(e).fold(zC,function(e){return b.some(yC(e,a,"normal",t,r,o,i))})}))},qC=function(e,t,n,r,o,a,i,s){var u=jC(t),c="color"!==o?"normal":"color",l=$C(t,n,r,c,a,i,s);return VC(e,u,l,r,o)},WC=function(e,t,n,r){var o=jC(t),a=je(I(t,function(e){var t=function(e){return HC(e,n,r,o)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t(Ee(e,{disabled:!0})):t(e)}));return VC(e,o,a,1,"normal")},KC=function(e){return Ly.singleData(e.value,e)},YC=function(e,t,n,r){var o=n===lC.ContentFocus?Mh():Ah(),a=NC(t,r),i=OC(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===lC.ContentFocus,focusManager:o,menuBehaviours:Aw.unnamedEvents("auto"!==t?[]:[Ai(function(e,t){Rw(e,4,i.item).each(function(t){var n=t.numColumns,r=t.numRows;Fv.setGridSize(e,r,n)})})])}},XC=function(t,n){var r=gu(Fy.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],lazySink:n.getSink})),o=function(){return Fy.isOpen(r)},a=function(){o()&&Fy.hide(r)},i=it(function(){return gw(t)}),s=function(r,o){var i=He(o,function(e){return b.from(e.columns)}).getOr(1);return U(o,function(o){var s=o.items;return UC(s,function(n,i){var s=t.selection.getRng(),u=s.startContainer;ow(s,r,u.data,s.startOffset).fold(function(){return e.console.error("Lost context. Cursor probably moved")},function(e){var t=e.rng,r={hide:a};o.onAction(r,t,n,i)})},i,Wx.BUBBLE_TO_SANDBOX,n)})},u=ew(function(e){var n=" "===e.key?b.none():lw(t,i);n.fold(a,function(e){e.lookupData.then(function(n){var o=s(e.triggerChar,n);if(o.length>0){var i=He(n,function(e){return b.from(e.columns)}).getOr(1);Fy.showAt(r,{anchor:"selection",root:En.fromDom(t.getBody()),getSelection:function(){return b.some({start:function(){return En.fromDom(e.range.startContainer)},soffset:function(){return e.range.startOffset},finish:function(){return En.fromDom(e.range.endContainer)},foffset:function(){return e.range.endOffset}})}},_y.sketch(YC(VC("autocompleter-value",!0,o,i,"normal"),i,lC.ContentFocus,"normal"))),Fy.getContent(r).each(ih.highlightFirst)}else a()})})},50),c={onKeypress:u,closeIfNecessary:a,isActive:o,getView:function(){return Fy.getContent(r)}};iw.setup(c,t)},GC={register:XC},JC=function(e,t,n,r,a,i,s){return{target:o(e),x:o(t),y:o(n),stop:r,prevent:a,kill:i,raw:o(s)}},QC=function(e,t){return function(n){if(e(n)){var o=En.fromDom(n.target),a=function(){n.stopPropagation()},i=function(){n.preventDefault()},s=r(i,a),u=JC(o,n.clientX,n.clientY,a,i,s,n);t(u)}}},ZC=function(e,t,n,r,o){var a=QC(n,r);return e.dom().addEventListener(t,a,o),{unbind:i(nS,e,t,a,o)}},eS=function(e,t,n,r){return ZC(e,t,n,r,!1)},tS=function(e,t,n,r){return ZC(e,t,n,r,!0)},nS=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},rS=o(!0),oS=function(e,t,n){return eS(e,t,rS,n)},aS=function(e,t,n){return tS(e,t,rS,n)},iS=function(e,t,n){return xu(e,t,n).isSome()};function sS(t,n){var r=null,o=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];r=e.setTimeout(function(){t.apply(null,o),r=null},n)},a=function(){null!==r&&(e.clearTimeout(r),r=null)};return{cancel:a,schedule:o}}var uS=5,cS=400,lS=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?b.none():b.some(t.touches[0])},dS=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>uS||r>uS},fS=function(e){var t=Fe(b.none()),n=sS(function(n){t.set(b.none()),e.triggerEvent(un(),n)},cS),r=function(e){return lS(e).each(function(r){n.cancel();var a={x:o(r.clientX),y:o(r.clientY),target:e.target};n.schedule(e),t.set(b.some(a))}),b.none()},a=function(e){return n.cancel(),lS(e).each(function(e){t.get().each(function(n){dS(e,n)&&t.set(b.none())})}),b.none()},i=function(r){n.cancel();var o=function(e){return nr(e.target(),r.target())};return t.get().filter(o).map(function(t){return e.triggerEvent(an(),r)})},s=Me([{key:$e(),value:r},{key:Ue(),value:a},{key:qe(),value:i}]),u=function(e,t){return Ie(s,t).bind(function(t){return t(e)})};return{fireIfReady:u}},mS=function(e){var t=e.raw();return t.which===sh()[0]&&!D(["input","textarea"],Tr(e.target()))&&!iS(e.target(),'[contenteditable="true"]')},pS=Jt.detect().browser.isFirefox(),hS=ea([Aa("triggerEvent"),Ua("stopBackspace",!0)]),gS=function(e,t){return pS?aS(e,"focus",t):oS(e,"focusin",t)},vS=function(e,t){return pS?aS(e,"blur",t):oS(e,"focusout",t)},bS=function(t,n){var r=ba("Getting GUI events settings",hS,n),o=Jt.detect().deviceType.isTouch()?["touchstart","touchmove","touchend","gesturestart"]:["mousedown","mouseup","mouseover","mousemove","mouseout","click"],a=fS(r),i=I(o.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(e){return oS(t,e,function(t){a.fireIfReady(t,e).each(function(e){e&&t.kill()});var n=r.triggerEvent(e,t);n&&t.kill()})}),s=Fe(b.none()),u=oS(t,"paste",function(t){a.fireIfReady(t,"paste").each(function(e){e&&t.kill()});var n=r.triggerEvent("paste",t);n&&t.kill(),s.set(b.some(e.setTimeout(function(){r.triggerEvent(tn(),t)},0)))}),c=oS(t,"keydown",function(e){var t=r.triggerEvent("keydown",e);t?e.kill():!0===r.stopBackspace&&mS(e)&&e.prevent()}),l=gS(t,function(e){var t=r.triggerEvent("focusin",e);t&&e.kill()}),d=Fe(b.none()),f=vS(t,function(t){var n=r.triggerEvent("focusout",t);n&&t.kill(),d.set(b.some(e.setTimeout(function(){r.triggerEvent(en(),t)},0)))}),m=function(){A(i,function(e){e.unbind()}),c.unbind(),l.unbind(),f.unbind(),u.unbind(),s.get().each(e.clearTimeout),d.get().each(e.clearTimeout)};return{unbind:m}},yS=function(e,t){var n=Ie(e,"target").map(function(e){return e()}).getOr(t);return Fe(n)},wS=function(e,t){var n=Fe(!1),r=Fe(!1),a=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:a,cut:i,isStopped:n.get,isCut:r.get,event:o(e),setSource:t.set,getSource:t.get}},xS=function(e){var n=Fe(!1),r=function(){n.set(!0)};return{stop:r,cut:t,isStopped:n.get,isCut:o(!1),event:o(e),setSource:c("Cannot set source of a broadcasted event"),getSource:c("Cannot get source of a broadcasted event")}},CS=xe.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),SS=function(e,t,n,r,o,a){var i=e(t,r),s=wS(n,o);return i.fold(function(){return a.logEventNoHandlers(t,r),CS.complete()},function(e){var n=e.descHandler(),r=bs(n);return r(s),s.isStopped()?(a.logEventStopped(t,e.element(),n.purpose()),CS.stopped()):s.isCut()?(a.logEventCut(t,e.element(),n.purpose()),CS.complete()):ur(e.element()).fold(function(){return a.logNoParent(t,e.element(),n.purpose()),CS.complete()},function(r){return a.logEventResponse(t,e.element(),n.purpose()),CS.resume(r)})})},kS=function(e,t,n,r,o,a){return SS(e,t,n,r,o,a).fold(function(){return!0},function(r){return kS(e,t,n,r,o,a)},function(){return!1})},_S=function(e,t,n,r,o){var a=yS(n,r);return SS(e,t,n,r,a,o)},TS=function(e,t,n){var r=xS(t);return A(e,function(e){var t=e.descHandler(),n=bs(t);n(r)}),r.isStopped()},OS=function(e,t,n,r){var o=n.target();return ES(e,t,n,o,r)},ES=function(e,t,n,r,o){var a=yS(n,r);return kS(e,t,n,r,a,o)},DS=Dn("element","descHandler"),RS=function(e,t){return{id:o(e),descHandler:o(t)}};function NS(){var e={},t=function(t,n,r){ne(r,function(r,o){var a=void 0!==e[o]?e[o]:{};a[n]=vs(r,t),e[o]=a})},n=function(e,t){return Wi(t).fold(function(){return b.none()},function(n){var r=Re(n);return e.bind(r).map(function(e){return DS(t,e)})})},r=function(t){return Ie(e,t).map(function(e){return ae(e,function(e,t){return RS(t,e)})}).getOr([])},o=function(t,r,o){var a=Re(r),i=a(e);return bi(o,function(e){return n(i,e)},t)},a=function(t){ne(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})};return{registerId:t,unregisterId:a,filterByType:r,find:o}}function IS(){var e=NS(),t={},n=function(e){var t=e.element();return Wi(t).fold(function(){return Ui("uid-",e.element())},function(e){return e})},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Hr(r.element())+"\nCannot use it for: "+Hr(e.element())+"\nThe conflicting element is"+(fi(r.element())?" ":" not ")+"already in the DOM");a(e)},o=function(o){var a=n(o);ze(t,a)&&r(o,a);var i=[o];e.registerId(i,a,o.events()),t[a]=o},a=function(n){Wi(n.element()).each(function(n){delete t[n],e.unregisterId(n)})},i=function(t){return e.filterByType(t)},s=function(t,n,r){return e.find(t,n,r)},u=function(e){return Re(e)(t)};return{find:s,filter:i,register:o,unregister:a,getById:u}}var AS,MS=function(e){var t=e.dom,n=t.attributes,r=ao(t,["attributes"]);return{uid:e.uid,dom:oo({tag:"div",attributes:oo({role:"presentation"},n)},r),components:e.components,behaviours:Sm(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},BS=Ip({name:"Container",factory:MS,configFields:[Ua("components",[]),Cm("containerBehaviours",[]),Ua("events",{}),Ua("domModification",{}),Ua("eventOrder",{})]}),LS=function(e){var n=function(t){return ur(e.element()).fold(function(){return!0},function(e){return nr(t,e)})},r=IS(),a=function(e,t){return r.find(n,e,t)},i=bS(e.element(),{triggerEvent:function(e,t){return Gr(e,t.target(),function(n){return OS(a,e,t,n)})}}),s={debugInfo:o("real"),triggerEvent:function(e,t,n){Gr(e,t,function(r){ES(a,e,n,t,r)})},triggerFocus:function(e,n){Wi(e).fold(function(){Oh(e)},function(r){Gr(Zt(),e,function(r){_S(a,Zt(),{originator:o(n),kill:t,prevent:t,target:o(e)},e,r)})})},triggerEscape:function(e,t){s.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return v(e)},getByDom:function(e){return b(e)},build:gu,addToGui:function(e){l(e)},removeFromGui:function(e){d(e)},addToWorld:function(e){u(e)},removeFromWorld:function(e){c(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){h(e,t)},broadcastEvent:function(e,t){g(e,t)},isConnected:o(!0)},u=function(e){e.connect(s),Rr(e.element())||(r.register(e),A(e.components(),u),s.triggerEvent(dn(),e.element(),{target:o(e.element())}))},c=function(e){Rr(e.element())||(A(e.components(),c),r.unregister(e)),e.disconnect()},l=function(t){$f(e,t)},d=function(e){Wf(e)},f=function(){i.unbind(),Cr(e.element())},m=function(e){var t=r.filter(nn());A(t,function(t){var n=t.descHandler(),r=bs(n);r(e)})},p=function(e){m({universal:o(!0),data:o(e)})},h=function(e,t){m({universal:o(!1),channels:o(e),data:o(t)})},g=function(e,t){var n=r.filter(e);return TS(n,t)},v=function(e){return r.getById(e).fold(function(){return ye.error(new Error('Could not find component with uid: "'+e+'" in system.'))},ye.value)},b=function(e){var t=Wi(e).getOr("not found");return v(t)};return u(e),{root:o(e),element:e.element,destroy:f,add:l,remove:d,getByUid:v,getByDom:b,addToWorld:u,removeFromWorld:c,broadcast:p,broadcastOn:h,broadcastEvent:g}},PS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),zS=tinymce.util.Tools.resolve("tinymce.EditorManager"),FS=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"oxide";r=r?e.documentBaseURI.toAbsolute(r):zS.baseURL+"/skins/ui/"+o}return r},jS=function(e){return e.getParam("readonly",!1,"boolean")},HS=function(e){return!1===e.getParam("skin")},VS=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},$S=function(e){return b.from(e.settings.min_width).filter(T)},US=function(e){return b.from(e.settings.min_height).filter(T)},qS=function(e){return b.from(e.getParam("max_width")).filter(T)},WS=function(e){return b.from(e.getParam("max_height")).filter(T)},KS=function(e){return b.from(e.getParam("style_formats")).filter(S)},YS=function(e){return e.getParam("style_formats_merge",!1,"boolean")},XS=function(e){return e.getParam("removed_menuitems","")},GS=function(e){return!1!==e.getParam("menubar",!0,"boolean")},JS=function(e){var t=e.getParam("toolbar");return S(t)?t.length>0:!1!==e.getParam("toolbar",!0,"boolean")},QS=function(e){var t=ee(e.settings),n=L(t,function(e){return/^toolbar([1-9])$/.test(e)}),r=I(n,function(t){return e.getParam(t,!1,"string")}),o=L(r,function(e){return"string"===typeof e});return o.length>0?b.some(o):b.none()};(function(e){e["default"]="",e["floating"]="floating",e["sliding"]="sliding"})(AS||(AS={}));var ZS,ek=function(e){return e.getParam("toolbar_drawer","","string")},tk=function(e){return e.getParam("fixed_toolbar_container","","string")},nk=function(e){var t=tk(e),n=e.getParam("inline",!1,"boolean");return t.length>0&&n?wu(mi(),t):b.none()},rk=function(e){return e.getParam("inline",!1,"boolean")&&nk(e).isSome()},ok=function(e){var t=nk(e);return t.getOr(mi())},ak=no("form-component-change"),ik=no("form-close"),sk=no("form-cancel"),uk=no("form-action"),ck=no("form-submit"),lk=no("form-block"),dk=no("form-unblock"),fk=no("form-tabchange"),mk=no("form-resize"),pk=function(e,t){return BS.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Vy.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:qy(e.icon,t.icons),attributes:{title:t.translate(e.actionLabel)}},action:function(t){ii(t,uk,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},hk=o([Ua("prefix","form-field"),Cm("fieldBehaviours",[zp,_b])]),gk=o([tp({schema:[Ea("dom")],name:"label"}),tp({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Ea("text")],name:"aria-descriptor"}),Zm({factory:{sketch:function(e){var t=De(e,["factory"]);return e.factory.sketch(t)}},schema:[Ea("factory")],name:"field"})]),vk=function(e,t,n,r){var o=km(e.fieldBehaviours,[zp.config({find:function(t){return pp(t,e,"field")}}),_b.config({store:{mode:"manual",getValue:function(e){return zp.getCurrent(e).bind(_b.getValue)},setValue:function(e,t){zp.getCurrent(e).each(function(e){_b.setValue(e,t)})}}})]),a=yi([Ai(function(t,n){var r=gp(t,e,["label","field","aria-descriptor"]);r.field().each(function(t){var n=no(e.prefix);r.label().each(function(e){Ar(e.element(),"for",n),Ar(t.element(),"id",n)}),r["aria-descriptor"]().each(function(n){var r=no(e.prefix);Ar(n.element(),"id",r),Ar(t.element(),"aria-describedby",r)})})})]),i={getField:function(t){return pp(t,e,"field")},getLabel:function(t){return pp(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:a,apis:i}},bk=Ap({name:"FormField",configFields:hk(),partFields:gk(),factory:vk,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),yk=function(e,t,n,r){return n.getOrCreate(e,t,r)},wk=Object.freeze({getCoupled:yk}),xk=[Da("others",pa(ye.value,xa()))],Ck=function(e){var t={},n=function(e,n,r){var o=ee(n.others);if(o)return Ie(t,r).getOrThunk(function(){var o=Ie(n.others,r).getOrDie("No information found for coupled component: "+r),a=o(e),i=e.getSystem().build(a);return t[r]=i,i});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+Lo.stringify(o,null,2))},r=o({});return is({readState:r,getOrCreate:n})},Sk=Object.freeze({init:Ck}),kk=Gu({fields:xk,name:"coupling",apis:wk,state:Sk}),_k=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return yi([Si(e.event,r),Mi(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[Si(e,function(){return t.cancel()})]}).getOr([])))},Tk=Object.freeze({events:_k}),Ok=function(e){var t=Fe(null),n=function(){return{timer:null!==t.get()?"set":"unset"}},r=function(e){t.set(e)},o=function(){var e=t.get();null!==e&&e.cancel()};return is({readState:n,setTimer:r,cancel:o})},Ek=function(e){return e.stream.streams.state(e)},Dk=Object.freeze({throttle:Ok,init:Ek}),Rk=function(e,t){var n=e.stream,r=ew(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},Nk=[Da("stream",wa("mode",{throttle:[Ea("delay"),Ua("stopEvent",!0),zu("streams",{setup:Rk,state:Ok})]})),Ua("event","input"),za("cancelEvent"),Lu("onStream")],Ik=Gu({fields:Nk,name:"streaming",active:Tk,state:Dk}),Ak=function(t){var n=b.none(),r=[],o=function(e){return Ak(function(t){a(function(n){t(e(n))})})},a=function(e){s()?c(e):r.push(e)},i=function(e){n=b.some(e),u(r),r=[]},s=function(){return n.isSome()},u=function(e){A(e,c)},c=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(i),{get:a,map:o,isReady:s}},Mk=function(e){return Ak(function(t){t(e)})},Bk={nu:Ak,pure:Mk},Lk=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;e.setTimeout(function(){t.apply(o,n)},0)}},Pk=function(e){var t=function(t){e(Lk(t))},n=function(e){return Pk(function(n){t(function(t){var r=e(t);n(r)})})},r=function(e){return Pk(function(n){t(function(t){e(t).get(n)})})},o=function(e){return Pk(function(n){t(function(t){e.get(n)})})},a=function(){return Bk.nu(t)},i=function(){var e=null;return Pk(function(t){null===e&&(e=a()),e.get(t)})};return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,get:t}},zk=function(e){return Pk(function(t){t(e)})},Fk={nu:Pk,pure:zk},jk=o("sink"),Hk=o(tp({name:jk(),overrides:o({dom:{tag:"div"},behaviours:Yu([jf.config({useFixed:!0})]),events:yi([Ri(Ze()),Ri(We()),Ri(rt())])})}));(function(e){e[e["HighlightFirst"]=0]="HighlightFirst",e[e["HighlightNone"]=1]="HighlightNone"})(ZS||(ZS={}));var Vk=function(e,t){var n=e.getHotspot(t).getOr(t),r="hotspot";return e.layouts.fold(function(){return{anchor:r,hotspot:n}},function(e){return{anchor:r,hotspot:n,layouts:e}})},$k=function(e,t,n){var r=e.fetch;return r(n).map(t)},Uk=function(e,t,n,r,o,a,i){var s=$k(e,t,r),u=Xk(r,e);return s.map(function(e){return e.bind(function(e){return b.from(Ly.sketch(oo({},a.menu(),{uid:Ki(""),data:e,highlightImmediately:i===ZS.HighlightFirst,onOpenMenu:function(e,t){var r=u().getOrDie();jf.position(r,n,t),gm.decloak(o)},onOpenSubmenu:function(e,t,n){var r=u().getOrDie();jf.position(r,{anchor:"submenu",item:t},n),gm.decloak(o)},onEscape:function(){return Mb.focus(r),gm.close(o),b.some(!0)}})))})})},qk=function(e,t,n,r,o,a,i){var s=Vk(e,n),u=Uk(e,t,s,n,r,o,i);return u.map(function(e){return e.fold(function(){gm.isOpen(r)&&gm.close(r)},function(e){gm.cloak(r),gm.open(r,e),a(r)}),r})},Wk=function(e,t,n,r,o,a,i){return gm.close(r),Fk.pure(r)},Kk=function(e,t,n,r,o,a){var i=kk.getCoupled(n,"sandbox"),s=gm.isOpen(i),u=s?Wk:qk;return u(e,t,n,i,r,o,a)},Yk=function(e,t,n){var r=zp.getCurrent(t).getOr(t),o=yc(e.element());n?Ks(r.element(),"min-width",o+"px"):bc(r.element(),o)},Xk=function(e,t){return e.getSystem().getByUid(t.uid+"-"+jk()).map(function(e){return function(){return ye.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return ye.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},Gk=function(e,t,n){var r=Su(),a=function(o,a){var i=Vk(e,t);r.link(t.element()),e.matchWidth&&Yk(i.hotspot,a,e.useMinWidth),e.onOpen(i,o,a),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,a)},i=function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},s=Xk(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id()}},behaviours:_m.augment(e.sandboxBehaviours,[_b.config({store:{mode:"memory",initialValue:t}}),gm.config({onOpen:a,onClose:i,isPartOf:function(e,n,r){return _u(n,r)||_u(t,r)},getAttachPoint:function(){return s().getOrDie()}}),zp.config({find:function(e){return gm.getState(e).bind(function(e){return zp.getCurrent(e)})}}),wm({isExtraPart:o(!1)})])}},Jk=function(e,t,n){var r=_b.getValue(n);_b.setValue(t,r),Zk(t)},Qk=function(e,t){var n=e.element(),r=nu(n),o=n.dom();"number"!==Br(n,"type")&&t(o,r)},Zk=function(e){Qk(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},e_=function(e,t){Qk(e,function(e,n){return e.setSelectionRange(t,n.length)})},t_=function(e,t,n){if(e.selectsOver){var r=_b.getValue(t),o=e.getDisplayText(r),a=_b.getValue(n),i=e.getDisplayText(a);return 0===i.indexOf(o)?b.some(function(){Jk(e,t,n),e_(t,o.length)}):b.none()}return b.none()},n_=o([za("data"),Ua("inputAttributes",{}),Ua("inputStyles",{}),Ua("tag","input"),Ua("inputClasses",[]),Mu("onSetValue"),Ua("styles",{}),Ua("eventOrder",{}),Cm("inputBehaviours",[_b,Mb]),Ua("selectOnFocus",!0)]),r_=function(e){return Yu([Mb.config({onFocus:!1===e.selectOnFocus?t:function(e){var t=e.element(),n=nu(t);t.dom().setSelectionRange(0,n.length)}})])},o_=function(e){return oo({},r_(e),km(e.inputBehaviours,[_b.config({store:{mode:"manual",initialValue:e.data.getOr(void 0),getValue:function(e){return nu(e.element())},setValue:function(e,t){var n=nu(e.element());n!==t&&ru(e.element(),t)}},onSetValue:e.onSetValue})]))},a_=function(e){return{tag:e.tag,attributes:oo({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},i_=o("alloy.typeahead.itemexecute"),s_=function(e,n,r,o){var i=function(n,r,a){e.previewing.set(!1);var i=kk.getCoupled(n,"sandbox");if(gm.isOpen(i))zp.getCurrent(i).each(function(e){ih.getHighlighted(e).fold(function(){a(e)},function(){li(i,e.element(),"keydown",r)})});else{var s=function(e){zp.getCurrent(e).each(a)};qk(e,u(n),n,i,o,s,ZS.HighlightFirst).get(t)}},s=r_(e),u=function(e){return function(t){return t.map(function(t){var n=se(t.menus),r=U(n,function(e){return L(e.items,function(e){return"item"===e.type})}),o=_b.getState(e);return o.update(I(r,function(e){return e.data})),t})}},c=[Mb.config({}),_b.config({onSetValue:e.onSetValue,store:oo({mode:"dataset",getDataKey:function(e){return nu(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){ru(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return Ae("initialValue",e)}).getOr({}))}),Ik.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(n,r){var a=kk.getCoupled(n,"sandbox"),i=Mb.isFocused(n);if(i&&nu(n.element()).length>=e.minChars){var s=zp.getCurrent(a).bind(function(e){return ih.getHighlighted(e).map(_b.getValue)});e.previewing.set(!0);var c=function(t){zp.getCurrent(a).each(function(t){s.fold(function(){e.model.selectsOver&&ih.highlightFirst(t)},function(e){ih.highlightBy(t,function(t){var n=_b.getValue(t);return n.value===e.value}),ih.getHighlighted(t).orThunk(function(){return ih.highlightFirst(t),b.none()})})})};qk(e,u(n),n,a,o,c,ZS.HighlightFirst).get(t)}},cancelEvent:ln()}),Fv.config({mode:"special",onDown:function(e,t){return i(e,t,ih.highlightFirst),b.some(!0)},onEscape:function(e){var t=kk.getCoupled(e,"sandbox");return gm.isOpen(t)?(gm.close(t),b.some(!0)):b.none()},onUp:function(e,t){return i(e,t,ih.highlightLast),b.some(!0)},onEnter:function(t){var n=kk.getCoupled(t,"sandbox"),r=gm.isOpen(n);if(r&&!e.previewing.get())return zp.getCurrent(n).bind(function(e){return ih.getHighlighted(e)}).map(function(e){return ii(t,i_(),{item:e}),!0});var o=_b.getValue(t);return ai(t,ln()),e.onExecute(n,t,o),r&&gm.close(n),b.some(!0)}}),ey.config({toggleClass:e.markers.openClass,aria:{mode:"pressed",syncWithExpanded:!0}}),kk.config({others:{sandbox:function(t){return Gk(e,t,{onOpen:a,onClose:a})}}}),uy("typeaheadevents",[Li(function(n){var r=t;Kk(e,u(n),n,o,r,ZS.HighlightFirst).get(t)}),Si(i_(),function(t,n){var r=kk.getCoupled(t,"sandbox");Jk(e.model,t,n.event().item()),ai(t,ln()),e.onItemExecute(t,r,n.event().item(),_b.getValue(t)),gm.close(r),Zk(t)})].concat(e.dismissOnBlur?[Si(en(),function(e){var t=kk.getCoupled(e,"sandbox");Nh(t.element()).isNone()&&gm.close(t)})]:[]))];return{uid:e.uid,dom:a_(e),behaviours:oo({},s,km(e.typeaheadBehaviours,c)),eventOrder:e.eventOrder}},u_=function(){return[Ua("sandboxClasses",[]),_m.field("sandboxBehaviours",[zp,oc,gm,_b])]},c_=o([za("lazySink"),Ea("fetch"),Ua("minChars",5),Ua("responseTime",1e3),Mu("onOpen"),Ua("getHotspot",b.some),Ua("layouts",b.none()),Ua("eventOrder",{}),Ja("model",{},[Ua("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Ua("selectsOver",!0),Ua("populateFromBrowse",!0)]),Mu("onSetValue"),Bu("onExecute"),Mu("onItemExecute"),Ua("inputClasses",[]),Ua("inputAttributes",{}),Ua("inputStyles",{}),Ua("matchWidth",!0),Ua("useMinWidth",!1),Ua("dismissOnBlur",!0),Iu(["openClass"]),za("initialData"),Cm("typeaheadBehaviours",[Mb,_b,Ik,Fv,ey,kk]),Qa("previewing",function(){return Fe(!0)})].concat(n_()).concat(u_())),l_=o([ep({schema:[Nu()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(r){t_(e.model,r,n).fold(function(){return ih.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&Jk(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return ii(e,i_(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&Jk(e.model,t,n)})}}}})]),d_=Ap({name:"Typeahead",configFields:c_(),partFields:l_(),factory:s_}),f_=function(e,t,n){var r=p_(e,t,n);return bk.sketch(r)},m_=function(e,t){return f_(e,t,[])},p_=function(e,t,n){return{dom:g_(n),components:e.toArray().concat([t])}},h_=function(){return g_([])},g_=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},v_=function(e,t){return bk.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},b_=function(e){return x(e)},y_=function(e){return"separator"===e.type},w_=function(e){return ce(e,"getSubmenuItems")},x_={type:"separator"},C_=function(e,t){var n=z(e,function(e,n){return b_(n)?""===n?e:"|"===n?e.length>0&&!y_(e[e.length-1])?e.concat([x_]):e:ce(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return n.length>0&&y_(n[n.length-1])&&n.pop(),n},S_=function(e,t){var n=e.getSubmenuItems(),r=T_(n,t),o=Oe(r.menus,Ae(e.value,r.items)),a=Oe(r.expansions,Ae(e.value,e.value));return{item:e,menus:o,expansions:a}},k_=function(e,t){return w_(e)?S_(e,t):{item:e,menus:{},expansions:{}}},__=function(e){if(y_(e))return e;var t=Ie(e,"value").getOrThunk(function(){return no("generated-menu-item")});return Oe({value:t},e)},T_=function(e,t){var n=C_(x(e)?e.split(" "):e,t);return P(n,function(e,n){var r=__(n),o=k_(r,t);return{menus:Oe(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Oe(e.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},O_=function(e,t,n){var r=no("primary-menu"),o=T_(e,n.menuItems());if(0===o.items.length)return b.none();var a=WC(r,o.items,t,n),i=re(o.menus,function(e,r){return WC(r,e,t,n)}),s=Oe(i,Ae(r,a));return b.from(Ly.tieredData(r,s,o.expansions))},E_=function(e,t){var n=v_(e.label.getOr("?"),t.providers),r=bk.parts().field({factory:d_,dismissOnBlur:!1,inputClasses:["tox-textfield"],minChars:1,fetch:function(n){var r=_b.getValue(n),o=e.getItems(r),a=O_(o,Wx.BUBBLE_TO_SANDBOX,t.providers);return Fk.pure(a)},markers:{openClass:"dog"},lazySink:t.getSink,parts:{menu:RC(!1,1,"normal")}});return m_(b.some(n),r)},D_=function(e,t){return{dom:{tag:"div",classes:["tox-bar"]},components:I(e.items,t.interpreter)}},R_=function(e,t){return{uid:e.uid,dom:a_(e),components:[],behaviours:o_(e),eventOrder:e.eventOrder}},N_=Ip({name:"Input",configFields:n_(),factory:R_}),I_=Jt.detect().browser.isFirefox(),A_={position:"absolute",left:"-9999px"},M_=function(e,t){var n=En.fromTag("span",e.dom());Ar(n,"role","presentation");var r=En.fromText(t,e.dom());return br(n,r),n},B_=function(e,t){var n=no("ephox-alloy-aria-voice");Ar(t,"id",n),Ar(e,"aria-describedby",n)},L_=function(t,n,r){var o=ir(n),a=M_(o,r);I_&&B_(n,a),Mr(a,t(r)),Ys(a,A_),br(n,a),e.setTimeout(function(){Pr(a,"aria-live"),Cr(a)},1e3)},P_=function(e){return{"aria-live":"assertive","aria-atomic":"true",role:"alert"}},z_=function(e,t){return L_(P_,e,t)},F_=["input","textarea"],j_=function(e){var t=Tr(e);return D(F_,t)},H_=function(e,t){var n=t.getRoot(e).getOr(e.element());js(n,t.invalidClass),t.notify.each(function(t){j_(e.element())&&Pr(n,"title"),t.getContainer(e).each(function(e){kr(e,t.validHtml)}),t.onValid(e)})},V_=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());zs(o,t.invalidClass),t.notify.each(function(t){j_(e.element())&&Ar(e.element(),"title",r),z_(mi(),r),t.getContainer(e).each(function(e){kr(e,r)}),t.onInvalid(e,r)})},$_=function(e,t,n){return t.validator.fold(function(){return Fk.pure(ye.value(!0))},function(t){return t.validate(e)})},U_=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),$_(e,t,n).map(function(r){return e.getSystem().isConnected()?r.fold(function(r){return V_(e,t,n,r),ye.error(r)},function(n){return H_(e,t),ye.value(n)}):ye.error("No longer in system")})},q_=function(e,t){var n=t.getRoot(e).getOr(e.element());return Hs(n,t.invalidClass)},W_=Object.freeze({markValid:H_,markInvalid:V_,query:$_,run:U_,isInvalid:q_}),K_=function(e,n){return e.validator.map(function(r){return yi([Si(r.onEvent,function(t){U_(t,e,n).get(a)})].concat(r.validateOnLoad?[Ai(function(r){U_(r,e,n).get(t)})]:[]))}).getOr({})},Y_=Object.freeze({events:K_}),X_=[Ea("invalidClass"),Ua("getRoot",b.none),Va("notify",[Ua("aria","alert"),Ua("getContainer",b.none),Ua("validHtml",""),Mu("onValid"),Mu("onInvalid"),Mu("onValidate")]),Va("validator",[Ea("validate"),Ua("onEvent","input"),Ua("validateOnLoad",!0)])],G_=Gu({fields:X_,name:"invalidating",active:Y_,apis:W_,extra:{validation:function(e){return function(t){var n=_b.getValue(t);return Fk.pure(e(n))}}}}),J_=function(e,t){return ds({attributes:Me([{key:t.tabAttr,value:"true"}])})},Q_=Object.freeze({exhibit:J_}),Z_=[Ua("tabAttr","data-alloy-tabstop")],eT=Gu({fields:Z_,name:"tabstopping",active:Q_}),tT=function(e){return{value:o(e)}},nT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oT=function(e){return nT.test(e)||rT.test(e)},aT=function(e){var t=e.value().replace(nT,function(e,t,n,r){return t+t+n+n+r+r});return{value:o(t)}},iT=function(e){var t=aT(e);return rT.exec(t.value())},sT=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},uT=function(e){var t=sT(e.red())+sT(e.green())+sT(e.blue());return tT(t)},cT=Math.min,lT=Math.max,dT=Math.round,fT=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,mT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,pT=function(e,t,n,r){return{red:o(e),green:o(t),blue:o(n),alpha:o(r)}},hT=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},gT=function(e){var t,n,r,o,a,i,s,u,c,l;if(a=(e.hue()||0)%360,i=e.saturation()/100,s=e.value()/100,i=lT(0,cT(i,1)),s=lT(0,cT(s,1)),0===i)return u=c=l=dT(255*s),pT(u,c,l,1);switch(t=a/60,n=s*i,r=n*(1-Math.abs(t%2-1)),o=s-n,Math.floor(t)){case 0:u=n,c=r,l=0;break;case 1:u=r,c=n,l=0;break;case 2:u=0,c=n,l=r;break;case 3:u=0,c=r,l=n;break;case 4:u=r,c=0,l=n;break;case 5:u=n,c=0,l=r;break;default:u=c=l=0}return u=dT(255*(u+o)),c=dT(255*(c+o)),l=dT(255*(l+o)),pT(u,c,l,1)},vT=function(e){var t=iT(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return pT(n,r,o,1)},bT=function(e,t,n,r){var o=parseInt(e,10),a=parseInt(t,10),i=parseInt(n,10),s=parseFloat(r);return pT(o,a,i,s)},yT=function(e){if("transparent"===e)return b.some(pT(0,0,0,0));if(fT.test(e)){var t=fT.exec(e);return b.some(bT(t[1],t[2],t[3],"1"))}if(mT.test(e)){var n=fT.exec(e);return b.some(bT(n[1],n[2],n[3],n[4]))}return b.none()},wT=function(e){return"rgba("+e.red()+","+e.green()+","+e.blue()+","+e.alpha()+")"},xT=o(pT(255,0,0,1)),CT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ST="tinymce-custom-colors";function kT(e){void 0===e&&(e=10);var t=CT.getItem(ST),n=x(t)?JSON.parse(t):[],r=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},o=r(n),a=function(t){E(o,t).each(i),o.unshift(t),o.length>e&&o.pop(),CT.setItem(ST,JSON.stringify(o))},i=function(e){o.splice(e,1)},s=function(){return o.slice(0)};return{add:a,state:s}}var _T="choiceitem",TT=[{type:_T,text:"Turquoise",value:"#18BC9B"},{type:_T,text:"Green",value:"#2FCC71"},{type:_T,text:"Blue",value:"#3598DB"},{type:_T,text:"Purple",value:"#9B59B6"},{type:_T,text:"Navy Blue",value:"#34495E"},{type:_T,text:"Dark Turquoise",value:"#18A085"},{type:_T,text:"Dark Green",value:"#27AE60"},{type:_T,text:"Medium Blue",value:"#2880B9"},{type:_T,text:"Medium Purple",value:"#8E44AD"},{type:_T,text:"Midnight Blue",value:"#2B3E50"},{type:_T,text:"Yellow",value:"#F1C40F"},{type:_T,text:"Orange",value:"#E67E23"},{type:_T,text:"Red",value:"#E74C3C"},{type:_T,text:"Light Gray",value:"#ECF0F1"},{type:_T,text:"Gray",value:"#95A5A6"},{type:_T,text:"Dark Yellow",value:"#F29D12"},{type:_T,text:"Dark Orange",value:"#D35400"},{type:_T,text:"Dark Red",value:"#E74C3C"},{type:_T,text:"Medium Gray",value:"#BDC3C7"},{type:_T,text:"Dark Gray",value:"#7E8C8D"},{type:_T,text:"Black",value:"#000000"},{type:_T,text:"White",value:"#ffffff"}],OT=kT(10),ET=function(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push({text:e[t+1],value:"#"+e[t],type:"choiceitem"});return n},DT=function(e,t){return e.getParam("color_cols",t,"number")},RT=function(e){return!1!==e.getParam("custom_colors")},NT=function(e){return e.getParam("color_map")},IT=function(e){var t=NT(e);return void 0!==t?ET(t):TT},AT=function(){return I(OT.state(),function(e){return{type:_T,text:e,value:e}})},MT=function(e){OT.add(e)},BT={mapColors:ET,getColorCols:DT,hasCustomColors:RT,getColorMap:NT,getColors:IT,getCurrentColors:AT,addColor:MT},LT=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}),n},PT=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},zT=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},FT=function(e){e.addCommand("mceApplyTextcolor",function(t,n){PT(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){zT(e,t)})},jT=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},HT=function(e){var t=BT.getColors(e),n=jT(t.length);return BT.getColorCols(e,n)},VT=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,r]:[n]},$T=function(e,t,n,r){if("custom"===n){var o=KT(e);o(function(n){n.each(function(n){BT.addColor(n),e.execCommand("mceApplyTextcolor",t,n),r(n)})},"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},UT=function(e,t){return function(n){n(e.concat(BT.getCurrentColors().concat(VT(t))))}},qT=function(e,t,n){var r=function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)},o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r(o,n)},WT=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r=b.from(LT(e,n));return r.bind(function(e){return yT(e).map(function(e){var n=uT(e).value();return jt(t.toLowerCase(),n)})}).getOr(!1)},columns:HT(e),fetch:UT(BT.getColors(e),BT.hasCustomColors(e)),onAction:function(t){null!==o.get()&&$T(e,n,o.get(),function(){})},onItemAction:function(r,a){$T(e,n,a,function(e){o.set(e),qT(r,t,e)})},onSetup:function(e){return null!==o.get()&&qT(e,t,o.get()),function(){}}})},KT=function(e){return function(t,n){var r=function(e){return function(t){var n=t.getData();e(b.from(n.colorpicker)),t.close()}},o=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},a={colorpicker:n},i=r(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:o,onSubmit:i,onClose:function(){},onCancel:function(){t(b.none())}})}},YT=function(e){FT(e);var t=Fe(null),n=Fe(null);WT(e,"forecolor","forecolor","Text color",t),WT(e,"backcolor","hilitecolor","Background color",n)},XT={register:YT,getFetch:UT,colorPickerDialog:KT,getCurrentColor:LT,getColorCols:HT,calcCols:jT},GT=o([Ea("dom"),Ea("fetch"),Mu("onOpen"),Bu("onExecute"),Ua("getHotspot",b.some),Ua("layouts",b.none()),Cm("dropdownBehaviours",[ey,kk,Fv,Mb]),Ea("toggleClass"),Ua("eventOrder",{}),za("lazySink"),Ua("matchWidth",!1),Ua("useMinWidth",!1),za("role")].concat(u_())),JT=o([ep({schema:[Nu()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),Hk()]),QT=function(e,n,r,o){var a,i=function(t){return Ie(e.dom,"attributes").bind(function(e){return Ie(e,t)})},s=function(e){gm.getState(e).each(function(e){Ly.highlightPrimary(e)})},u=function(n){var r=s;Kk(e,function(e){return e},n,o,r,ZS.HighlightFirst).get(t)},c={expand:function(n){ey.isOn(n)||Kk(e,function(e){return e},n,o,t,ZS.HighlightNone).get(t)},open:function(n){ey.isOn(n)||Kk(e,function(e){return e},n,o,t,ZS.HighlightFirst).get(t)},isOpen:ey.isOn,close:function(n){ey.isOn(n)&&Kk(e,function(e){return e},n,o,t,ZS.HighlightFirst).get(t)}},l=function(e,t){return si(e),b.some(!0)};return{uid:e.uid,dom:e.dom,components:n,behaviours:km(e.dropdownBehaviours,[ey.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),kk.config({others:{sandbox:function(t){return Gk(e,t,{onOpen:function(){ey.on(t)},onClose:function(){ey.off(t)}})}}}),Fv.config({mode:"special",onSpace:l,onEnter:l,onDown:function(e,t){if(ZT.isOpen(e)){var n=kk.getCoupled(e,"sandbox");s(n)}else ZT.open(e);return b.some(!0)},onEscape:function(e,t){return ZT.isOpen(e)?(ZT.close(e),b.some(!0)):b.none()}}),Mb.config({})]),events:jy(b.some(u)),eventOrder:oo({},e.eventOrder,(a={},a[rn()]=["disabling","toggling","alloy.base.behaviour"],a)),apis:c,domModification:{attributes:oo({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}}),"button"===e.dom.tag?{type:i("type").getOr("button")}:{})}}},ZT=Ap({name:"Dropdown",configFields:GT(),partFields:JT(),factory:QT,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)}}}),eO=function(e,t){return ds({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},tO=function(e){return yi([wi(at(),o(!0))])},nO=Object.freeze({events:tO,exhibit:eO}),rO=Gu({fields:[],name:"unselecting",active:nO}),oO=function(e,t){return ZT.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Yu([rO.config({}),eT.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(){return Fk.nu(function(t){return e.fetch(t)}).map(function(n){return b.from(KC(Oe(qC(no("menu-value"),n,function(t){e.onItemAction(t)},5,"color",Wx.CLOSE_ON_EXECUTE,function(){return!1},t.providers),{movement:NC(5,"color")})))})},parts:{menu:RC(!1,1,"color")}})},aO=no("color-input-change"),iO=no("color-swatch-change"),sO=no("color-picker-cancel"),uO=function(e,t,n){var r=bk.parts().field({factory:N_,inputClasses:["tox-textfield"],onSetValue:function(e){return G_.run(e).get(function(){})},inputBehaviours:Yu([eT.config({}),G_.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ur(e.element())},notify:{onValid:function(e){var t=_b.getValue(e);ii(e,aO,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=_b.getValue(e);if(0===t.length)return Fk.pure(ye.value(!0));var n=En.fromTag("span");Ks(n,"background-color",t);var r=Qs(n,"background-color").fold(function(){return ye.error("blah")},function(e){return ye.value(t)});return Fk.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map(function(e){return v_(e,t.providers)}),a=function(e,t){ii(e,iO,{value:t})},i=function(e){t.getSink().each(function(t){s.getOpt(t).each(function(t){"custom"===e?n.colorPicker(function(e){e.fold(function(){return ai(t,sO)},function(e){a(t,e),BT.addColor(e)})},"#ffffff"):a(t,"remove"===e?"":e)})})},s=$y(oO({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:b.some({onRtl:function(){return[Il]},onLtr:function(){return[Al]}}),components:[],fetch:XT.getFetch(n.getColors(),n.hasCustomColors()),onItemAction:i},t));return bk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:Yu([uy("form-field-events",[Si(aO,function(e,t){s.getOpt(e).each(function(e){Ks(e.element(),"background-color",t.event().color())})}),Si(iO,function(e,t){bk.getField(e).each(function(n){_b.setValue(n,t.event().value()),zp.getCurrent(e).each(Mb.focus)})}),Si(sO,function(e,t){bk.getField(e).each(function(t){zp.getCurrent(e).each(Mb.focus)})})])])})},cO=Jt.detect(),lO=cO.deviceType.isTouch(),dO=tp({schema:[Ea("dom")],name:"label"}),fO=function(e){return tp({name:e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold(function(){return{}},function(e){var n=yi([ki($e(),e,[t])]),r=yi([ki(We(),e,[t]),ki(Ke(),function(t,n){n.mouseIsDown.get()&&e(t,n)},[t])]);return{events:lO?n:r}})}})},mO=fO("top-left"),pO=fO("top"),hO=fO("top-right"),gO=fO("right"),vO=fO("bottom-right"),bO=fO("bottom"),yO=fO("bottom-left"),wO=fO("left"),xO=Zm({name:"thumb",defaults:o({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:yi([Ei($e(),e,"spectrum"),Ei(Ue(),e,"spectrum"),Ei(qe(),e,"spectrum"),Ei(We(),e,"spectrum"),Ei(Ke(),e,"spectrum"),Ei(Xe(),e,"spectrum")])}}}),CO=Zm({schema:[Qa("mouseIsDown",function(){return Fe(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(t,e,r)})},o=yi([Si($e(),r),Si(Ue(),r)]),a=yi([Si(We(),r),Si(Ke(),function(t,n){e.mouseIsDown.get()&&r(t,n)})]);return{behaviours:Yu(lO?[]:[Fv.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Mb.config({})]),events:lO?o:a}}}),SO=[dO,wO,gO,pO,bO,mO,hO,yO,vO,xO,CO],kO=Jt.detect().deviceType.isTouch(),_O="slider.change.value",TO=o(_O),OO=function(e){var t=e.event().raw();if(kO){var n=t;return void 0!==n.touches&&1===n.touches.length?b.some(n.touches[0]).map(function(e){return lc(e.clientX,e.clientY)}):b.none()}var r=t;return void 0!==r.clientX?b.some(r).map(function(e){return lc(e.clientX,e.clientY)}):b.none()},EO=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},DO=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},RO=function(e,t,n){return Math.max(t,Math.min(n,e))},NO=function(e,t,n,r,o){return o.fold(function(){var o=e-t,a=Math.round(o/r)*r;return RO(t+a,t-1,n+1)},function(t){var o=(e-t)%r,a=Math.round(o/r),i=Math.floor((e-t)/r),s=Math.floor((n-t)/r),u=Math.min(s,i+a),c=t+u*r;return Math.max(t,c)})},IO=function(e,t,n){return Math.min(n,Math.max(e,t))-t},AO=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.step,i=e.snap,s=e.snapStart,u=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,d=e.minBound,f=e.maxBound,m=e.screenRange,p=c?t-1:t,h=l?n+1:n;if(o<d)return p;if(o>f)return h;var g=IO(o,d,f),v=RO(g/m*r+t,p,h);return i&&v>=t&&v<=n?NO(v,t,n,a,s):u?Math.round(v):v},MO=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.hasMinEdge,i=e.hasMaxEdge,s=e.maxBound,u=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return o<t?a?0:c:o>n?i?s:l:(o-t)/r*u},BO="top",LO="right",PO="bottom",zO="left",FO=function(e){return e.model.minX},jO=function(e){return e.model.minY},HO=function(e){return e.model.minX-1},VO=function(e){return e.model.minY-1},$O=function(e){return e.model.maxX},UO=function(e){return e.model.maxY},qO=function(e){return e.model.maxX+1},WO=function(e){return e.model.maxY+1},KO=function(e,t,n){return t(e)-n(e)},YO=function(e){return KO(e,$O,FO)},XO=function(e){return KO(e,UO,jO)},GO=function(e){return YO(e)/2},JO=function(e){return XO(e)/2},QO=function(e){return e.stepSize},ZO=function(e){return e.snapToGrid},eE=function(e){return e.snapStart},tE=function(e){return e.rounded},nE=function(e,t){return void 0!==e[t+"-edge"]},rE=function(e){return nE(e,zO)},oE=function(e){return nE(e,LO)},aE=function(e){return nE(e,BO)},iE=function(e){return nE(e,PO)},sE=function(e){return e.model.value.get()},uE=function(e){return{x:o(e)}},cE=function(e){return{y:o(e)}},lE=function(e,t){return{x:o(e),y:o(t)}},dE=function(e,t){ii(e,TO(),{value:t})},fE=function(e,t){dE(e,lE(HO(t),VO(t)))},mE=function(e,t){dE(e,cE(VO(t)))},pE=function(e,t){dE(e,lE(GO(t),VO(t)))},hE=function(e,t){dE(e,lE(qO(t),VO(t)))},gE=function(e,t){dE(e,uE(qO(t)))},vE=function(e,t){dE(e,lE(qO(t),JO(t)))},bE=function(e,t){dE(e,lE(qO(t),WO(t)))},yE=function(e,t){dE(e,cE(WO(t)))},wE=function(e,t){dE(e,lE(GO(t),WO(t)))},xE=function(e,t){dE(e,lE(HO(t),WO(t)))},CE=function(e,t){dE(e,uE(HO(t)))},SE=function(e,t){dE(e,lE(HO(t),JO(t)))},kE="top",_E="right",TE="bottom",OE="left",EE="width",DE="height",RE=function(e){return e.element().dom().getBoundingClientRect()},NE=function(e,t){return e[t]},IE=function(e){var t=RE(e);return NE(t,OE)},AE=function(e){var t=RE(e);return NE(t,_E)},ME=function(e){var t=RE(e);return NE(t,kE)},BE=function(e){var t=RE(e);return NE(t,TE)},LE=function(e){var t=RE(e);return NE(t,EE)},PE=function(e){var t=RE(e);return NE(t,DE)},zE=function(e,t,n){return(e+t)/2-n},FE=function(e,t){var n=RE(e),r=RE(t),o=NE(n,OE),a=NE(n,_E),i=NE(r,OE);return zE(o,a,i)},jE=function(e,t){var n=RE(e),r=RE(t),o=NE(n,kE),a=NE(n,TE),i=NE(r,kE);return zE(o,a,i)},HE=function(e,t){ii(e,TO(),{value:t})},VE=function(e){return{x:o(e)}},$E=function(e,t,n){var r={min:FO(t),max:$O(t),range:YO(t),value:n,step:QO(t),snap:ZO(t),snapStart:eE(t),rounded:tE(t),hasMinEdge:rE(t),hasMaxEdge:oE(t),minBound:IE(e),maxBound:AE(e),screenRange:LE(e)};return AO(r)},UE=function(e,t,n){var r=$E(e,t,n),o=VE(r);return HE(e,o),r},qE=function(e,t){var n=FO(t);HE(e,VE(n))},WE=function(e,t){var n=$O(t);HE(e,VE(n))},KE=function(e,t,n){var r=e>0?DO:EO,o=r(sE(n).x(),FO(n),$O(n),QO(n));return HE(t,VE(o)),b.some(o)},YE=function(e){return function(t,n){return KE(e,t,n).map(function(){return!0})}},XE=function(e){var t=OO(e);return t.map(function(e){return e.left()})},GE=function(e,t,n,r,o){var a=0,i=LE(e),s=r.bind(function(t){return b.some(FE(t,e))}).getOr(a),u=o.bind(function(t){return b.some(FE(t,e))}).getOr(i),c={min:FO(t),max:$O(t),range:YO(t),value:n,hasMinEdge:rE(t),hasMaxEdge:oE(t),minBound:IE(e),minOffset:a,maxBound:AE(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:u};return MO(c)},JE=function(e,t,n,r,o,a){var i=GE(t,a,n,r,o);return IE(t)-IE(e)+i},QE=function(e,t,n,r){var o=sE(n),a=JE(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),i=yc(t.element())/2;Ks(t.element(),"left",a-i+"px")},ZE=YE(-1),eD=YE(1),tD=b.none,nD=b.none,rD={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some(gE),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some(CE)},oD=Object.freeze({setValueFrom:UE,setToMin:qE,setToMax:WE,findValueOfOffset:$E,getValueFromEvent:XE,findPositionOfValue:JE,setPositionFromValue:QE,onLeft:ZE,onRight:eD,onUp:tD,onDown:nD,edgeActions:rD}),aD=function(e,t){ii(e,TO(),{value:t})},iD=function(e){return{y:o(e)}},sD=function(e,t,n){var r={min:jO(t),max:UO(t),range:XO(t),value:n,step:QO(t),snap:ZO(t),snapStart:eE(t),rounded:tE(t),hasMinEdge:aE(t),hasMaxEdge:iE(t),minBound:ME(e),maxBound:BE(e),screenRange:PE(e)};return AO(r)},uD=function(e,t,n){var r=sD(e,t,n),o=iD(r);return aD(e,o),r},cD=function(e,t){var n=jO(t);aD(e,iD(n))},lD=function(e,t){var n=UO(t);aD(e,iD(n))},dD=function(e,t,n){var r=e>0?DO:EO,o=r(sE(n).y(),jO(n),UO(n),QO(n));return aD(t,iD(o)),b.some(o)},fD=function(e){return function(t,n){return dD(e,t,n).map(function(){return!0})}},mD=function(e){var t=OO(e);return t.map(function(e){return e.top()})},pD=function(e,t,n,r,o){var a=0,i=PE(e),s=r.bind(function(t){return b.some(jE(t,e))}).getOr(a),u=o.bind(function(t){return b.some(jE(t,e))}).getOr(i),c={min:jO(t),max:UO(t),range:XO(t),value:n,hasMinEdge:aE(t),hasMaxEdge:iE(t),minBound:ME(e),minOffset:a,maxBound:BE(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:u};return MO(c)},hD=function(e,t,n,r,o,a){var i=pD(t,a,n,r,o);return ME(t)-ME(e)+i},gD=function(e,t,n,r){var o=sE(n),a=hD(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),i=Cc(t.element())/2;Ks(t.element(),"top",a-i+"px")},vD=b.none,bD=b.none,yD=fD(-1),wD=fD(1),xD={"top-left":b.none(),top:b.some(mE),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some(yE),"bottom-left":b.none(),left:b.none()},CD=Object.freeze({setValueFrom:uD,setToMin:cD,setToMax:lD,findValueOfOffset:sD,getValueFromEvent:mD,findPositionOfValue:hD,setPositionFromValue:gD,onLeft:vD,onRight:bD,onUp:yD,onDown:wD,edgeActions:xD}),SD=function(e,t){ii(e,TO(),{value:t})},kD=function(e,t){return{x:o(e),y:o(t)}},_D=function(e,t,n){var r=$E(e,t,n.left()),o=sD(e,t,n.top()),a=kD(r,o);return SD(e,a),a},TD=function(e,t,n,r){var o=e>0?DO:EO,a=t?sE(r).x():o(sE(r).x(),FO(r),$O(r),QO(r)),i=t?o(sE(r).y(),jO(r),UO(r),QO(r)):sE(r).y();return SD(n,kD(a,i)),b.some(a)},OD=function(e,t){return function(n,r){return TD(e,t,n,r).map(function(){return!0})}},ED=function(e,t){var n=FO(t),r=jO(t);SD(e,kD(n,r))},DD=function(e,t){var n=$O(t),r=UO(t);SD(e,kD(n,r))},RD=function(e){return OO(e)},ND=function(e,t,n,r){var o=sE(n),a=JE(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),i=hD(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),s=yc(t.element())/2,u=Cc(t.element())/2;Ks(t.element(),"left",a-s+"px"),Ks(t.element(),"top",i-u+"px")},ID=OD(-1,!1),AD=OD(1,!1),MD=OD(-1,!0),BD=OD(1,!0),LD={"top-left":b.some(fE),top:b.some(pE),"top-right":b.some(hE),right:b.some(vE),"bottom-right":b.some(bE),bottom:b.some(wE),"bottom-left":b.some(xE),left:b.some(SE)},PD=Object.freeze({setValueFrom:_D,setToMin:ED,setToMax:DD,getValueFromEvent:RD,setPositionFromValue:ND,onLeft:ID,onRight:AD,onUp:MD,onDown:BD,edgeActions:LD}),zD=Jt.detect().deviceType.isTouch(),FD=[Ua("stepSize",1),Ua("onChange",t),Ua("onChoose",t),Ua("onInit",t),Ua("onDragStart",t),Ua("onDragEnd",t),Ua("snapToGrid",!1),Ua("rounded",!0),za("snapStart"),Da("model",wa("mode",{x:[Ua("minX",0),Ua("maxX",100),Qa("value",function(e){return Fe(e.mode.minX)}),Ea("getInitialValue"),zu("manager",oD)],y:[Ua("minY",0),Ua("maxY",100),Qa("value",function(e){return Fe(e.mode.minY)}),Ea("getInitialValue"),zu("manager",CD)],xy:[Ua("minX",0),Ua("maxX",100),Ua("minY",0),Ua("maxY",100),Qa("value",function(e){return Fe({x:o(e.mode.minX),y:o(e.mode.minY)})}),Ea("getInitialValue"),zu("manager",PD)]})),Cm("sliderBehaviours",[Fv,_b])].concat(zD?[]:[Qa("mouseIsDown",function(){return Fe(!1)})]),jD=Jt.detect().deviceType.isTouch(),HD=function(e,t,n,r){var a=function(t){return hp(t,e,"thumb")},i=function(t){return hp(t,e,"spectrum")},s=function(t){return pp(t,e,"left-edge")},u=function(t){return pp(t,e,"right-edge")},c=function(t){return pp(t,e,"top-edge")},l=function(t){return pp(t,e,"bottom-edge")},d=e.model,f=d.manager,m=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:u,getTopEdge:c,getBottomEdge:l,getSpectrum:i})},p=function(t,n){d.value.set(n);var r=a(t);return m(t,r),e.onChange(t,r,n),b.some(!0)},h=function(t){f.setToMin(t,e)},g=function(t){f.setToMax(t,e)},v=[Si($e(),function(t,n){e.onDragStart(t,a(t))}),Si(qe(),function(t,n){e.onDragEnd(t,a(t))})],y=[Si(We(),function(t,n){n.stop(),e.onDragStart(t,a(t)),e.mouseIsDown.set(!0)}),Si(Xe(),function(t,n){e.onDragEnd(t,a(t))})],w=jD?v:y;return{uid:e.uid,dom:e.dom,components:t,behaviours:km(e.sliderBehaviours,$([jD?[]:[Fv.config({mode:"special",focusIn:function(t){return pp(t,e,"spectrum").map(Fv.focusIn).map(o(!0))}})],[_b.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),oc.config({channels:{"mouse.released":{onReceive:function(t,n){var r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&pp(t,e,"thumb").each(function(n){var r=d.value.get();e.onChoose(t,n,r)})}}}})]])),events:yi([Si(TO(),function(e,t){p(e,t.event().value())}),Ai(function(t,n){var r=d.getInitialValue();d.value.set(r);var o=a(t);m(t,o);var s=i(t);e.onInit(t,o,s,d.value.get())})].concat(w)),apis:{resetToMin:h,resetToMax:g,changeValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},VD=Ap({name:"Slider",configFields:FD,partFields:SO,factory:HD,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),$D=o(no("rgb-hex-update")),UD=o(no("slider-update")),qD=o(no("palette-update")),WD=function(e,t){var n=VD.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=VD.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),a=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");o.fillStyle=t,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,n,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=a,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,0,r);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=i,o.fillRect(0,0,n,r)},i=function(e,t){var n=e.components()[0].element().dom();a(n,wT(t))},s=function(e){var i=o({x:o(0),y:o(0)}),s=function(e,t,n){ii(e,qD(),{value:n})},u=function(e,t,n,r){a(n.element().dom(),wT(xT()))},c=Yu([zp.config({find:b.some}),Mb.config({})]);return VD.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:s,onInit:u,sliderBehaviours:c})},u=Ip({factory:s,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){i(t,n)}},extraApis:{}});return u},KD={paletteFactory:WD},YD=function(e,t){var n=VD.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=VD.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return VD.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:o({y:o(0)})},components:[n,r],sliderBehaviours:Yu([Mb.config({})]),onChange:function(e,t,n){ii(e,UD(),{value:n})}})},XD={sliderFactory:YD},GD="form",JD=[Cm("formBehaviours",[_b])],QD=function(e){return"<alloy.field."+e+">"},ZD=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),cp(GD,QD(t),n)};return{field:t,record:function(){return e}}}(),n=e(t),r=t.record(),o=I(r,function(e){return Zm({name:e,pname:QD(e)})});return Tp(GD,JD,o,tR,n)},eR=function(e,t){return e.fold(function(){return ye.error(t)},ye.value)},tR=function(e,t,n){return{uid:e.uid,dom:e.dom,components:t,behaviours:km(e.formBehaviours,[_b.config({store:{mode:"manual",getValue:function(t){var n=vp(t,e);return re(n,function(e,t){return e().bind(function(e){var t=zp.getCurrent(e);return eR(t,"missing current")}).map(_b.getValue)})},setValue:function(t,n){ne(n,function(n,r){pp(t,e,r).each(function(e){zp.getCurrent(e).each(function(e){_b.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return pp(t,e,n).bind(zp.getCurrent)}}}},nR={getField:os(function(e,t,n){return e.getField(t,n)}),sketch:ZD},rR=no("valid-input"),oR=no("invalid-input"),aR=no("validating-input"),iR="colorcustom.rgb.",sR=function(e,n,r,a){var i=function(t,r){return G_.config({invalidClass:n("invalid"),notify:{onValidate:function(e){ii(e,aR,{type:t})},onValid:function(e){ii(e,rR,{type:t,value:_b.getValue(e)})},onInvalid:function(e){ii(e,oR,{type:t,value:_b.getValue(e)})}},validator:{validate:function(t){var n=_b.getValue(t),o=r(n)?ye.value(!0):ye.error(e("aria.input.invalid"));return Fk.pure(o)},validateOnLoad:!1}})},s=function(r,o,a,s,u){var c=e(iR+"range"),l=bk.parts().label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":s}}}),d=bk.parts().field({data:u,factory:N_,inputAttributes:oo({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:Yu([i(o,r),eT.config({})]),onSetValue:function(e){if(G_.isInvalid(e)){var n=G_.run(e);n.get(t)}}}),f=[l,d],m="hex"!==o?[bk.parts()["aria-descriptor"]({text:c})]:[],p=f.concat(m);return{dom:{tag:"div",attributes:{role:"presentation"}},components:p}},u=function(e,t){var n=uT(t);return nR.getField(e,"hex").each(function(t){Mb.isFocused(t)||_b.setValue(e,{hex:n.value()})}),n},c=function(e,t){var n=t.red(),r=t.green(),o=t.blue();_b.setValue(e,{red:n,green:r,blue:o})},l=$y({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),d=function(e,t){l.getOpt(e).each(function(e){Ks(e.element(),"background-color","#"+t.value())})},f=function(t){var i={red:o(Fe(b.some(255))),green:o(Fe(b.some(255))),blue:o(Fe(b.some(255))),hex:o(Fe(b.some("ffffff")))},f=function(e,t){var n=vT(t);c(e,n),g(n)},m=function(e){return i[e]().get()},p=function(e,t){i[e]().set(t)},h=function(){return m("red").bind(function(e){return m("green").bind(function(t){return m("blue").map(function(n){return pT(e,t,n,1)})})})},g=function(e){var t=e.red(),n=e.green(),r=e.blue();p("red",b.some(t)),p("green",b.some(n)),p("blue",b.some(r))},v=function(e,t){var n=t.event();"hex"!==n.type()?p(n.type(),b.none()):a(e)},y=function(e,t){r(e);var n=tT(t);p("hex",b.some(t));var o=vT(n);c(e,o),g(o),ii(e,$D(),{hex:n}),d(e,n)},w=function(e,t,n){var r=parseInt(n,10);p(t,b.some(r)),h().each(function(t){var n=u(e,t);d(e,n)})},x=function(e,t){var n=t.event();"hex"===n.type()?y(e,n.value()):w(e,n.type(),n.value())},C=function(t){return{label:e(iR+t+".label"),description:e(iR+t+".description")}},S=C("red"),k=C("green"),_=C("blue"),T=C("hex");return Oe(nR.sketch(function(t){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[t.field("red",bk.sketch(s(hT,"red",S.label,S.description,255))),t.field("green",bk.sketch(s(hT,"green",k.label,k.description,255))),t.field("blue",bk.sketch(s(hT,"blue",_.label,_.description,255))),t.field("hex",bk.sketch(s(oT,"hex",T.label,T.description,"ffffff"))),l.asSpec()],formBehaviours:Yu([G_.config({invalidClass:n("form-invalid")}),uy("rgb-form-events",[Si(rR,x),Si(oR,v),Si(aR,v)])])}}),{apis:{updateHex:function(e,t){_b.setValue(e,{hex:t.value()}),f(e,t),d(e,t)}}})},m=Ip({factory:f,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return m},uR={rgbFormFactory:sR},cR=function(e,t,n){return{hue:o(e),saturation:o(t),value:o(n)}},lR=function(e){var t,n,r,o,a,i,s,u,c;return o=0,a=0,i=0,t=e.red()/255,n=e.green()/255,r=e.blue()/255,u=Math.min(t,Math.min(n,r)),c=Math.max(t,Math.max(n,r)),u===c?(i=u,cR(0,0,100*i)):(s=t===u?n-r:r===u?t-n:r-t,o=t===u?3:r===u?1:5,o=60*(o-s/(c-u)),a=(c-u)/c,i=c,cR(Math.round(o),Math.round(100*a),Math.round(100*i)))},dR=function(e){var t=360*(100-e/100),n=cR(t,100,100),r=gT(n);return uT(r)},fR=function(e,n){var r=function(t){var r=uR.rgbFormFactory(e,n,t.onValidHex,t.onInvalidHex),a=KD.paletteFactory(e,n),i={paletteRgba:o(Fe(xT()))},s=$y(a.sketch({})),u=$y(r.sketch({})),c=function(e,t){s.getOpt(e).each(function(e){var n=vT(t);i.paletteRgba().set(n),a.setRgba(e,n)})},l=function(e,t){u.getOpt(e).each(function(e){r.updateHex(e,t)})},d=function(e,t,n){A(n,function(n){n(e,t)})},f=function(){var e=[l];return function(t,n){var r=n.event().value(),o=i.paletteRgba().get(),a=lR(o),s=cR(a.hue(),r.x(),100-r.y()),u=gT(s),c=uT(u);d(t,c,e)}},m=function(){var e=[c,l];return function(t,n){var r=n.event().value(),o=dR(r.y());d(t,o,e)}};return{uid:t.uid,dom:t.dom,components:[s.asSpec(),XD.sliderFactory(e,n),u.asSpec()],behaviours:Yu([uy("colour-picker-events",[Si(qD(),f()),Si(UD(),m())]),zp.config({find:function(e){return u.getOpt(e)}}),Fv.config({mode:"acyclic"})])}},a=Ip({name:"ColourPicker",configFields:[Ua("onValidHex",t),Ua("onInvalidHex",t),ja("formChangeEvent")],factory:r});return a},mR={makeFactory:fR},pR=function(){return zp.config({find:b.some})},hR=function(e){return zp.config({find:e.getOpt})},gR=function(e){return zp.config({find:function(t){return fr(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption()})}})},vR={self:pR,memento:hR,childAt:gR},bR={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},yR=function(e){return bR[e]},wR=function(e){return yR(e)},xR=function(t){var n=function(e){return"tox-"+e},r=mR.makeFactory(wR,n),o=function(e){ii(e,uk,{name:"hex-valid",value:!0})},a=function(e){ii(e,uk,{name:"hex-valid",value:!1})},i=$y(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:o,onInvalidHex:a}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Yu([_b.config({store:{mode:"manual",getValue:function(e){var t=i.get(e),n=zp.getCurrent(t),r=n.bind(function(e){var t=_b.getValue(e);return t.hex});return r.map(function(e){return"#"+e}).getOr("")},setValue:function(t,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=r.exec(n),a=i.get(t),s=zp.getCurrent(a);s.fold(function(){e.console.log("Can not find form")},function(e){_b.setValue(e,{hex:b.from(o[1]).getOr("")}),nR.getField(e,"hex").each(function(e){ai(e,tt())})})}}}),vR.self()])}},CR=function(e){var t=Fe(b.none()),n=$y({dom:{tag:e.tag}}),r=Fe(b.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Yu([uy("editor-foo-events",[Ai(function(o){n.getOpt(o).each(function(n){e.init(n.element().dom()).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(b.none()),t.set(b.some(e))})})})]),_b.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return r.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){r.set(b.some(n))},function(e){return e.setValue(n)})}}}),vR.self()]),components:[n.asSpec()]}},SR=ta([Ua("preprocess",a),Ua("postprocess",a)]),kR=function(e,t){var n=ba("RepresentingConfigs.memento processors",SR,t);return _b.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=_b.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),a=e.get(t);_b.setValue(a,o)}}})},_R=function(e,t,n){return _b.config(Oe({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},TR=function(e,t,n){return _R(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},OR=function(e){return TR(e,nu,ru)},ER=function(e){return TR(e,Sr,kr)},DR=function(e){return _b.config({store:{mode:"memory",initialValue:e}})},RR={memento:kR,withElement:TR,withComp:_R,domValue:OR,domHtml:ER,memory:DR},NR=".jpg,.jpeg,.png,.gif",IR=function(e){var t=new RegExp("("+NR.split(/\s*,\s*/).join("|")+")$","i");return L(Z(e),function(e){return t.test(e.name)})},AR=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){A(e,function(e){e(t,n)})}},o=function(e,t){if(!zx.isDisabled(e)){var n=t.event().raw();i(e,n.dataTransfer.files)}},a=function(e,t){var n=t.event().raw().target.files;i(e,n)},i=function(t,n){_b.setValue(t,IR(n)),ii(t,ak,{name:e.name})},s=$y({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Yu([uy("input-file-events",[Ri(sn())])])}),u=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Yu([RR.memory([]),vR.self(),zx.config({}),ey.config({toggleClass:"dragenter",toggleOnExecute:!1}),uy("dropzone-events",[Si("dragenter",r([n,ey.toggle])),Si("dragleave",r([n,ey.toggle])),Si("dragover",n),Si("drop",r([n,o])),Si(nt(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Vy.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){var t=s.get(e);t.element().dom().click()},buttonBehaviours:Yu([eT.config({})])})]}]}},c=e.label.map(function(e){return v_(e,t)}),l=bk.parts().field({factory:{sketch:u}});return f_(c,l,["tox-form__group--stretched"])},MR=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:I(e.items,t.interpreter)}},BR=no("alloy-fake-before-tabstop"),LR=no("alloy-fake-after-tabstop"),PR=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Yu([Mb.config({ignore:!0}),eT.config({})])}},zR=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[PR([BR]),e,PR([LR])],behaviours:Yu([vR.childAt(1)])}},FR=function(e,t){ii(e,Ze(),{raw:{which:9,shiftKey:t}})},jR=function(e,t){var n=t.element();Hs(n,BR)?FR(e,!0):Hs(n,LR)&&FR(e,!1)},HR=function(e){return iS(e,["."+BR,"."+LR].join(","),o(!1))},VR={isPseudoStop:HR,onFocus:jR,craft:zR},$R=!(Jt.detect().browser.isIE()||Jt.detect().browser.isEdge()),UR=function(e){var t=Fe("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Ar(n.element(),"src","data:text/html;charset=utf-8,"+encodeURIComponent(r));else{Ar(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},qR=function(e,t){var n=$R&&e.sandboxed,r=oo({},e.label.map(function(e){return{title:e}}).getOr({}),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=UR(n),a=e.label.map(function(e){return v_(e,t)}),i=function(e){return VR.craft({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Yu([eT.config({}),Mb.config({}),RR.withComp(b.none(),o.getValue,o.setValue)])})},s=bk.parts().field({factory:{sketch:i}});return f_(a,s,["tox-form__group--stretched"])};function WR(t,n){return GR(e.document.createElement("canvas"),t,n)}function KR(e){var t,n;return t=WR(e.width,e.height),n=YR(t),n.drawImage(e,0,0),t}function YR(e){return e.getContext("2d")}function XR(e){var t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(n){}return t||(t=null),t}function GR(e,t,n){return e.width=t,e.height=n,e}var JR={create:WR,clone:KR,resize:GR,get2dContext:YR,get3dContext:XR};function QR(e){return e.naturalWidth||e.width}function ZR(e){return e.naturalHeight||e.height}var eN={getWidth:QR,getHeight:ZR},tN=function(){var t=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,r(i,this),r(s,this))},n=t.immediateFn||"function"===typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)};function r(e,t){return function(){e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e){var t=this;null!==this._state?n(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void l(r(t,e),r(i,this),r(s,this))}this._state=!0,this._value=e,u.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}return t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,n){var r=this;return new t(function(t,o){a.call(r,new c(e,n,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&o(arguments[0])?arguments[0]:arguments);return new t(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var s=i.then;if("function"===typeof s)return void s.call(i,function(e){o(a,e)},n)}e[a]=i,0===--r&&t(e)}catch(u){n(u)}}for(var a=0;a<e.length;a++)o(a,e[a])})},t.resolve=function(e){return e&&"object"===typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},t},nN=window.Promise?window.Promise:tN();function rN(e,t){var n=Hn.getOrDie("Blob");return new n(e,t)}function oN(){var e=Hn.getOrDie("FileReader");return new e}function aN(e){var t=Hn.getOrDie("Uint8Array");return new t(e)}var iN=function(e){var t=Hn.getOrDie("requestAnimationFrame");t(e)},sN=function(e){var t=Hn.getOrDie("atob");return t(e)},uN={atob:sN,requestAnimationFrame:iN};function cN(e){var t=e.src;return 0===t.indexOf("data:")?mN(t):dN(t)}function lN(t){return new nN(function(n,r){var o=e.URL.createObjectURL(t),a=new e.Image,i=function(){a.removeEventListener("load",s),a.removeEventListener("error",u)};function s(){i(),n(a)}function u(){i(),r("Unable to load data of type "+t.type+": "+o)}a.addEventListener("load",s),a.addEventListener("error",u),a.src=o,a.complete&&s()})}function dN(t){return new nN(function(n,r){var o=new e.XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200==this.status&&n(this.response)},o.onerror=function(){var e=this,t=function(){var e=new Error("No access to download image");return e.code=18,e.name="SecurityError",e},n=function(){return new Error("Error "+e.status+" downloading image")};r(0===this.status?t():n())},o.send()})}function fN(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return b.none();for(var r=n[1],o=t[1],a=1024,i=uN.atob(o),s=i.length,u=Math.ceil(s/a),c=new Array(u),l=0;l<u;++l){for(var d=l*a,f=Math.min(d+a,s),m=new Array(f-d),p=d,h=0;p<f;++h,++p)m[h]=i[p].charCodeAt(0);c[l]=aN(m)}return b.some(rN(c,{type:r}))}function mN(e){return new nN(function(t,n){fN(e).fold(function(){n("uri is not base64: "+e)},t)})}function pN(e){return 0===e.indexOf("blob:")?dN(e):0===e.indexOf("data:")?mN(e):null}function hN(t,n,r){return n=n||"image/png",e.HTMLCanvasElement.prototype.toBlob?new nN(function(e){t.toBlob(function(t){e(t)},n,r)}):mN(t.toDataURL(n,r))}function gN(e,t,n){return t=t||"image/png",e.then(function(e){return e.toDataURL(t,n)})}function vN(e){return lN(e).then(function(e){var t,n;return xN(e),n=JR.create(eN.getWidth(e),eN.getHeight(e)),t=JR.get2dContext(n),t.drawImage(e,0,0),n})}function bN(e){return new nN(function(t){var n=oN();n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}function yN(e){return new nN(function(t){var n=oN();n.onloadend=function(){t(n.result)},n.readAsArrayBuffer(e)})}function wN(e){return bN(e).then(function(e){return e.split(",")[1]})}function xN(t){e.URL.revokeObjectURL(t.src)}var CN={blobToImage:lN,imageToBlob:cN,blobToArrayBuffer:yN,blobToDataUri:bN,blobToBase64:wN,dataUriToBlobSync:fN,canvasToBlob:hN,canvasToDataURL:gN,blobToCanvas:vN,uriToBlob:pN};function SN(e,t,n){var r=t.type,a=o(r);function i(){return nN.resolve(t)}function s(){return n}function u(){return n.split(",")[1]}function c(t,n){return e.then(function(e){return CN.canvasToBlob(e,t,n)})}function l(t,n){return e.then(function(e){return CN.canvasToDataURL(e,t,n)})}function d(e,t){return l(e,t).then(function(e){return e.split(",")[1]})}function f(){return e.then(JR.clone)}return{getType:a,toBlob:i,toDataURL:s,toBase64:u,toAdjustedBlob:c,toAdjustedDataURL:l,toAdjustedBase64:d,toCanvas:f}}function kN(e){return CN.blobToDataUri(e).then(function(t){return SN(CN.blobToCanvas(e),e,t)})}function _N(e,t){return CN.canvasToBlob(e,t).then(function(t){return SN(nN.resolve(e),t,e.toDataURL())})}function TN(e){return CN.imageToBlob(e).then(function(e){return kN(e)})}var ON=function(e,t){return SN(CN.blobToCanvas(e),e,t)},EN={fromBlob:kN,fromCanvas:_N,fromImage:TN,fromBlobAndUrlSync:ON},DN=function(e){return EN.fromBlob(e)},RN=function(e,t){return EN.fromBlobAndUrlSync(e,t)},NN=function(e){return EN.fromImage(e)},IN=function(e,t,n){return void 0===t&&void 0===n?AN(e):e.toAdjustedBlob(t,n)},AN=function(e){return e.toBlob()},MN=function(e){return e.toDataURL()},BN={blobToImageResult:DN,fromBlobAndUrlSync:RN,imageToImageResult:NN,imageResultToBlob:IN,imageResultToOriginalBlob:AN,imageResultToDataURL:MN};function LN(e,t,n){return e=parseFloat(e),e>n?e=n:e<t&&(e=t),e}function PN(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}var zN=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function FN(e,t){var n,r,o,a,i=[],s=new Array(10);for(n=0;n<5;n++){for(r=0;r<5;r++)i[r]=t[r+5*n];for(r=0;r<5;r++){for(a=0,o=0;o<5;o++)a+=e[r+5*o]*i[o];s[r+5*n]=a}}return s}function jN(e,t){return t=LN(t,0,1),e.map(function(e,n){return n%6===0?e=1-(1-e)*t:e*=t,LN(e,0,1)})}function HN(e,t){var n;return t=LN(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?zN[t]:zN[Math.floor(t)]*(1-n)+zN[Math.floor(t)+1]*n,n=127*n+127),FN(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function VN(e,t){var n,r,o,a;return t=LN(t,-1,1),n=1+(t>0?3*t:t),r=.3086,o=.6094,a=.082,FN(e,[r*(1-n)+n,o*(1-n),a*(1-n),0,0,r*(1-n),o*(1-n)+n,a*(1-n),0,0,r*(1-n),o*(1-n),a*(1-n)+n,0,0,0,0,0,1,0,0,0,0,0,1])}function $N(e,t){var n,r,o,a,i;return t=LN(t,-180,180)/180*Math.PI,n=Math.cos(t),r=Math.sin(t),o=.213,a=.715,i=.072,FN(e,[o+n*(1-o)+r*-o,a+n*-a+r*-a,i+n*-i+r*(1-i),0,0,o+n*-o+.143*r,a+n*(1-a)+.14*r,i+n*-i+-.283*r,0,0,o+n*-o+r*-(1-o),a+n*-a+r*a,i+n*(1-i)+r*i,0,0,0,0,0,1,0,0,0,0,0,1])}function UN(e,t){return t=LN(255*t,-255,255),FN(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function qN(e,t,n,r){return t=LN(t,0,2),n=LN(n,0,2),r=LN(r,0,2),FN(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function WN(e,t){return t=LN(t,0,1),FN(e,jN([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],t))}function KN(e,t){return t=LN(t,0,1),FN(e,jN([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],t))}var YN={identity:PN,adjust:jN,multiply:FN,adjustContrast:HN,adjustBrightness:UN,adjustSaturation:VN,adjustHue:$N,adjustColors:qN,adjustSepia:WN,adjustGrayscale:KN};function XN(e,t){return e.toCanvas().then(function(n){return GN(n,e.getType(),t)})}function GN(e,t,n){var r,o=JR.get2dContext(e);function a(e,t){var n,r,o,a,i,s=e.data,u=t[0],c=t[1],l=t[2],d=t[3],f=t[4],m=t[5],p=t[6],h=t[7],g=t[8],v=t[9],b=t[10],y=t[11],w=t[12],x=t[13],C=t[14],S=t[15],k=t[16],_=t[17],T=t[18],O=t[19];for(i=0;i<s.length;i+=4)n=s[i],r=s[i+1],o=s[i+2],a=s[i+3],s[i]=n*u+r*c+o*l+a*d+f,s[i+1]=n*m+r*p+o*h+a*g+v,s[i+2]=n*b+r*y+o*w+a*x+C,s[i+3]=n*S+r*k+o*_+a*T+O;return e}return r=a(o.getImageData(0,0,e.width,e.height),n),o.putImageData(r,0,0),EN.fromCanvas(e,t)}function JN(e,t){return e.toCanvas().then(function(n){return QN(n,e.getType(),t)})}function QN(e,t,n){var r,o,a=JR.get2dContext(e);function i(e,t,n){var r,o,a,i,s,u,c,l,d,f,m,p,h,g,v,b,y;function w(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(a=Math.round(Math.sqrt(n.length)),i=Math.floor(a/2),r=e.data,o=t.data,b=e.width,y=e.height,u=0;u<y;u++)for(s=0;s<b;s++){for(c=l=d=0,m=0;m<a;m++)for(f=0;f<a;f++)p=w(s+f-i,0,b-1),h=w(u+m-i,0,y-1),g=4*(h*b+p),v=n[m*a+f],c+=r[g]*v,l+=r[g+1]*v,d+=r[g+2]*v;g=4*(u*b+s),o[g]=w(c,0,255),o[g+1]=w(l,0,255),o[g+2]=w(d,0,255)}return t}return r=a.getImageData(0,0,e.width,e.height),o=a.getImageData(0,0,e.width,e.height),o=i(r,o,n),a.putImageData(o,0,0),EN.fromCanvas(e,t)}function ZN(e){var t=function(t,n,r){var o,a,i=JR.get2dContext(t),s=new Array(256);function u(e,t){var n,r=e.data;for(n=0;n<r.length;n+=4)r[n]=t[r[n]],r[n+1]=t[r[n+1]],r[n+2]=t[r[n+2]];return e}for(a=0;a<s.length;a++)s[a]=e(a,r);return o=u(i.getImageData(0,0,t.width,t.height),s),i.putImageData(o,0,0),EN.fromCanvas(t,n)};return function(e,n){return e.toCanvas().then(function(r){return t(r,e.getType(),n)})}}function eI(e){return function(t,n){return XN(t,e(YN.identity(),n))}}function tI(e){return function(t){return XN(t,e)}}function nI(e){return function(t){return JN(t,e)}}var rI={invert:tI([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:eI(YN.adjustBrightness),hue:eI(YN.adjustHue),saturate:eI(YN.adjustSaturation),contrast:eI(YN.adjustContrast),grayscale:eI(YN.adjustGrayscale),sepia:eI(YN.adjustSepia),colorize:function(e,t,n,r){return XN(e,YN.adjustColors(YN.identity(),t,n,r))},sharpen:nI([0,-1,0,-1,5,-1,0,-1,0]),emboss:nI([-2,-1,0,-1,1,1,0,1,2]),gamma:ZN(function(e,t){return 255*Math.pow(e/255,1-t)}),exposure:ZN(function(e,t){return 255*(1-Math.exp(-e/255*t))}),colorFilter:XN,convoluteFilter:JN};function oI(e,t,n){var r=eN.getWidth(e),o=eN.getHeight(e),a=t/r,i=n/o,s=!1;(a<.5||a>2)&&(a=a<.5?.5:2,s=!0),(i<.5||i>2)&&(i=i<.5?.5:2,s=!0);var u=aI(e,a,i);return s?u.then(function(e){return oI(e,t,n)}):u}function aI(e,t,n){return new nN(function(r){var o=eN.getWidth(e),a=eN.getHeight(e),i=Math.floor(o*t),s=Math.floor(a*n),u=JR.create(i,s),c=JR.get2dContext(u);c.drawImage(e,0,0,o,a,0,0,i,s),r(u)})}var iI={scale:oI};function sI(e,t){return e.toCanvas().then(function(n){return uI(n,e.getType(),t)})}function uI(e,t,n){var r=JR.create(e.width,e.height),o=JR.get2dContext(r),a=0,i=0;return n=n<0?360+n:n,90!=n&&270!=n||JR.resize(r,r.height,r.width),90!=n&&180!=n||(a=r.width),270!=n&&180!=n||(i=r.height),o.translate(a,i),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),EN.fromCanvas(r,t)}function cI(e,t){return e.toCanvas().then(function(n){return lI(n,e.getType(),t)})}function lI(e,t,n){var r=JR.create(e.width,e.height),o=JR.get2dContext(r);return"v"==n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),EN.fromCanvas(r,t)}function dI(e,t,n,r,o){return e.toCanvas().then(function(a){return fI(a,e.getType(),t,n,r,o)})}function fI(e,t,n,r,o,a){var i=JR.create(o,a),s=JR.get2dContext(i);return s.drawImage(e,-n,-r),EN.fromCanvas(i,t)}function mI(e,t,n){return e.toCanvas().then(function(r){return iI.scale(r,t,n).then(function(t){return EN.fromCanvas(t,e.getType())})})}var pI={rotate:sI,flip:cI,crop:dI,resize:mI},hI=function(){function e(e){this.littleEndian=!1,this._dv=new DataView(e)}return e.prototype.readByteAt=function(e){return this._dv.getUint8(e)},e.prototype.read=function(e,t){if(e+t>this.length())return null;for(var n=this.littleEndian?0:-8*(t-1),r=0,o=0;r<t;r++)o|=this.readByteAt(e+r)<<Math.abs(n+8*r);return o},e.prototype.BYTE=function(e){return this.read(e,1)},e.prototype.SHORT=function(e){return this.read(e,2)},e.prototype.LONG=function(e){return this.read(e,4)},e.prototype.SLONG=function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},e.prototype.CHAR=function(e){return String.fromCharCode(this.read(e,1))},e.prototype.STRING=function(e,t){return this.asArray("CHAR",e,t).join("")},e.prototype.SEGMENT=function(e,t){var n=this._dv.buffer;switch(arguments.length){case 2:return n.slice(e,e+t);case 1:return n.slice(e);default:return n}},e.prototype.asArray=function(e,t,n){for(var r=[],o=0;o<n;o++)r[o]=this[e](t+o);return r},e.prototype.length=function(){return this._dv?this._dv.byteLength:0},e}(),gI={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},vI={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},bI=function(){function e(e){this._offsets={tiffHeader:10,IFD0:null,IFD1:null,exifIFD:null,gpsIFD:null},this._tiffTags={};var t=this;if(t._reader=new hI(e),t._idx=t._offsets.tiffHeader,65505!==t.SHORT(0)||"EXIF\0"!==t.STRING(4,5).toUpperCase())throw new Error("Exif data cannot be read or not available.");if(t._reader.littleEndian=18761==t.SHORT(t._idx),42!==t.SHORT(t._idx+=2))throw new Error("Invalid Exif data.");t._offsets.IFD0=t._offsets.tiffHeader+t.LONG(t._idx+=2),t._tiffTags=t.extractTags(t._offsets.IFD0,gI.tiff),"ExifIFDPointer"in t._tiffTags&&(t._offsets.exifIFD=t._offsets.tiffHeader+t._tiffTags.ExifIFDPointer,delete t._tiffTags.ExifIFDPointer),"GPSInfoIFDPointer"in t._tiffTags&&(t._offsets.gpsIFD=t._offsets.tiffHeader+t._tiffTags.GPSInfoIFDPointer,delete t._tiffTags.GPSInfoIFDPointer);var n=t.LONG(t._offsets.IFD0+12*t.SHORT(t._offsets.IFD0)+2);n&&(t._offsets.IFD1=t._offsets.tiffHeader+n)}return e.prototype.BYTE=function(e){return this._reader.BYTE(e)},e.prototype.SHORT=function(e){return this._reader.SHORT(e)},e.prototype.LONG=function(e){return this._reader.LONG(e)},e.prototype.SLONG=function(e){return this._reader.SLONG(e)},e.prototype.CHAR=function(e){return this._reader.CHAR(e)},e.prototype.STRING=function(e,t){return this._reader.STRING(e,t)},e.prototype.SEGMENT=function(e,t){return this._reader.SEGMENT(e,t)},e.prototype.asArray=function(e,t,n){for(var r=[],o=0;o<n;o++)r[o]=this[e](t+o);return r},e.prototype.length=function(){return this._reader.length()},e.prototype.UNDEFINED=function(){return this.BYTE.apply(this,arguments)},e.prototype.RATIONAL=function(e){return this.LONG(e)/this.LONG(e+4)},e.prototype.SRATIONAL=function(e){return this.SLONG(e)/this.SLONG(e+4)},e.prototype.ASCII=function(e){return this.CHAR(e)},e.prototype.TIFF=function(){return this._tiffTags},e.prototype.EXIF=function(){var e=this,t=null;if(e._offsets.exifIFD){try{t=e.extractTags(e._offsets.exifIFD,gI.exif)}catch(o){return null}if(t.ExifVersion&&Array.isArray(t.ExifVersion)){for(var n=0,r="";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}}return t},e.prototype.GPS=function(){var e=this,t=null;if(e._offsets.gpsIFD){try{t=e.extractTags(e._offsets.gpsIFD,gI.gps)}catch(n){return null}t.GPSVersionID&&Array.isArray(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},e.prototype.thumb=function(){var e=this;if(e._offsets.IFD1)try{var t=e.extractTags(e._offsets.IFD1,gI.thumb);if("JPEGInterchangeFormat"in t)return e.SEGMENT(e._offsets.tiffHeader+t.JPEGInterchangeFormat,t.JPEGInterchangeFormatLength)}catch(n){}return null},e.prototype.extractTags=function(e,t){var n,r,o,a,i,s,u,c,l=this,d=[],f={},m={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},p={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(n=l.SHORT(e),r=0;r<n;r++)if(d=[],u=e+2+12*r,o=t[l.SHORT(u)],void 0!==o){if(a=m[l.SHORT(u+=2)],i=l.LONG(u+=2),s=p[a],!s)throw new Error("Invalid Exif data.");if(u+=4,s*i>4&&(u=l.LONG(u)+l._offsets.tiffHeader),u+s*i>=l.length())throw new Error("Invalid Exif data.");"ASCII"!==a?(d=l.asArray(a,u,i),c=1==i?d[0]:d,vI.hasOwnProperty(o)&&"object"!=typeof c?f[o]=vI[o][c]:f[o]=c):f[o]=l.STRING(u,i).replace(/\0$/,"").trim()}return f},e}(),yI=function(e){return CN.blobToArrayBuffer(e).then(function(t){try{var n=new hI(t);if(65496===n.SHORT(0)){var r=wI(n),o=r.filter(function(e){return"APP1"===e.name}),a={};if(!o.length)return nN.reject("Headers did not include required information");var i=new bI(o[0].segment);return a={tiff:i.TIFF(),exif:i.EXIF(),gps:i.GPS(),thumb:i.thumb()},a.rawHeaders=r,a}return nN.reject("Image was not a jpeg")}catch(s){return nN.reject("Unsupported format or not an image: "+e.type+" (Exception: "+s.message+")")}})},wI=function(e){var t,n,r=[],o=0;t=2;while(t<=e.length())if(n=e.SHORT(t),n>=65488&&n<=65495)t+=2;else{if(65498===n||65497===n)break;o=e.SHORT(t+2)+2,n>=65505&&n<=65519&&r.push({hex:n,name:"APP"+(15&n),start:t,length:o,segment:e.SEGMENT(t,o)}),t+=o}return r},xI={extractFrom:yI},CI=function(e){return rI.invert(e)},SI=function(e){return rI.sharpen(e)},kI=function(e){return rI.emboss(e)},_I=function(e,t){return rI.gamma(e,t)},TI=function(e,t){return rI.exposure(e,t)},OI=function(e,t,n,r){return rI.colorize(e,t,n,r)},EI=function(e,t){return rI.brightness(e,t)},DI=function(e,t){return rI.hue(e,t)},RI=function(e,t){return rI.saturate(e,t)},NI=function(e,t){return rI.contrast(e,t)},II=function(e,t){return rI.grayscale(e,t)},AI=function(e,t){return rI.sepia(e,t)},MI=function(e,t){return pI.flip(e,t)},BI=function(e,t,n,r,o){return pI.crop(e,t,n,r,o)},LI=function(e,t,n){return pI.resize(e,t,n)},PI=function(e,t){return pI.rotate(e,t)},zI=function(e){var t=6,n=3,r=8,o=function(o){var a=o.tiff.Orientation;switch(a){case t:return PI(e,90);case n:return PI(e,180);case r:return PI(e,270);default:return e}},a=function(){return e};return e.toBlob().then(xI.extractFrom).then(o,a)},FI={invert:CI,sharpen:SI,emboss:kI,brightness:EI,hue:DI,saturate:RI,contrast:NI,grayscale:II,sepia:AI,colorize:OI,gamma:_I,exposure:TI,flip:MI,crop:BI,resize:LI,rotate:PI,exifRotate:zI},jI=function(e,t){return oo({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},HI=function(e,t){return jI(qy(e,t),{})},VI=function(e,t){return jI(qy(e,t),{behaviours:Yu([Gv.config({})])})},$I=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Yu([Gv.config({})])}},UI=function(e,t,n,r,o){void 0===n&&(n=[]);var a=t.fold(function(){return{}},function(e){return{action:e}}),i=oo({buttonBehaviours:Yu([Vx.button(e.disabled),eT.config({}),uy("button press",[Ci("click"),Ci("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Oe(i,{dom:r});return Oe(s,{components:o})},qI=function(e,t,n,r,o){void 0===n&&(n=[]);var a=UI(e,b.some(t),n,r,o);return Vy.sketch(a)},WI=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({}),a={tag:"button",classes:["tox-tbtn"],attributes:o},i=e.icon.map(function(e){return HI(e,n.icons)}),s=Xx([i]);return UI(e,t,r,a,s)},KI=function(e,t,n,r){void 0===r&&(r=[]);var o=WI(e,b.some(t),n,r);return Vy.sketch(o)},YI=function(e,t,n,r){void 0===r&&(r=[]);var o=n.translate(e.text),a=e.icon?e.icon.map(function(e){return HI(e,n.icons)}):b.none(),i=a.isSome()?Xx([a]):[],s=a.isSome()?{}:{innerHtml:o},u=(e.primary?["tox-button"]:["tox-button","tox-button--secondary"]).concat(a.isSome()?["tox-button--icon"]:[]),c=oo({tag:"button",classes:u},s,{attributes:{title:o}});return qI(e,t,r,c,i)},XI=function(t,n){return function(r){"custom"===n?ii(r,uk,{name:t,value:{}}):"submit"===n?ai(r,ck):"cancel"===n?ai(r,sk):e.console.error("Unknown button type: ",n)}},GI=function(e,t,n){var r=XI(e.name,t);return YI(e,r,n,[])},JI=function(e,t){var n=XI(e.name,"custom");return YI(e,n,t,[RR.memory(""),vR.self()])},QI=o([Ua("field1Name","field1"),Ua("field2Name","field2"),Lu("onLockedChange"),Iu(["lockClass"]),Ua("locked",!1),_m.field("coupledFieldBehaviours",[zp,_b])]),ZI=function(e,t,n){return pp(e,t,n).bind(zp.getCurrent)},eA=function(e,t){return Zm({factory:bk,name:e,overrides:function(e){return{fieldBehaviours:Yu([uy("coupled-input-behaviour",[Si(tt(),function(n){ZI(n,e,t).each(function(t){pp(n,e,"lock").each(function(r){ey.isOn(r)&&e.onLockedChange(n,t,r)})})})])])}}})},tA=o([eA("field1","field2"),eA("field2","field1"),Zm({factory:Vy,schema:[Ea("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Yu([ey.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),nA=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:_m.augment(e.coupledFieldBehaviours,[zp.config({find:b.some}),_b.config({store:{mode:"manual",getValue:function(t){var n,r=yp(t,e,["field1","field2"]);return n={},n[e.field1Name]=_b.getValue(r.field1()),n[e.field2Name]=_b.getValue(r.field2()),n},setValue:function(t,n){var r=yp(t,e,["field1","field2"]);ze(n,e.field1Name)&&_b.setValue(r.field1(),n[e.field1Name]),ze(n,e.field2Name)&&_b.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return pp(t,e,"field1")},getField2:function(t){return pp(t,e,"field2")},getLock:function(t){return pp(t,e,"lock")}}}},rA=Ap({name:"FormCoupledInputs",configFields:QI(),partFields:tA(),factory:nA,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),oA=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(e){return e in t?t[e]:1},r=e.value.toFixed(n(e.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit},aA=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return ye.value({value:r,unit:o})}return ye.error(e)},iA=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?b.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?b.some(e.value):b.some(e.value/n[e.unit]*n[t]):b.none()},sA=function(e){return b.none()},uA=function(e,t){return function(n){return iA(n,t).map(function(n){return{value:n*e,unit:t}})}},cA=function(e,t){var n=aA(e).toOption(),r=aA(t).toOption();return Ve([n,r],function(e,t){return iA(e,t.unit).map(function(e){return t.value/e}).map(function(e){return uA(e,t.unit)}).getOr(sA)}).getOr(sA)},lA=function(e,t){var n=sA,r=no("ratio-event"),o=rA.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:qy("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:qy("unlock",t.icons)}}],buttonBehaviours:Yu([eT.config({})])}),a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},i=function(t){return bk.parts().field({factory:N_,inputClasses:["tox-textfield"],inputBehaviours:Yu([eT.config({}),uy("size-input-events",[Si(Je(),function(e,n){ii(e,r,{isField1:t})}),Si(nt(),function(t,n){ii(t,ak,{name:e.name})})])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},u=rA.parts().field1(a([bk.parts().label(s("Width")),i(!0)])),c=rA.parts().field2(a([bk.parts().label(s("Height")),i(!1)]));return rA.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[u,c,a([s("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){aA(_b.getValue(e)).each(function(e){n(e).each(function(e){_b.setValue(t,oA(e))})})},coupledFieldBehaviours:Yu([zx.config({}),uy("size-input-events2",[Si(r,function(e,t){var r=t.event().isField1(),o=r?rA.getField1(e):rA.getField2(e),a=r?rA.getField2(e):rA.getField1(e),i=o.map(_b.getValue).getOr(""),s=a.map(_b.getValue).getOr("");n=cA(i,s)})])])})},dA=o(no("undo")),fA=o(no("redo")),mA=o(no("zoom")),pA=o(no("back")),hA=o(no("apply")),gA=o(no("swap")),vA=o(no("transform")),bA=o(no("temp-transform")),yA=o(no("transform-apply")),wA={undo:dA,redo:fA,zoom:mA,back:pA,apply:hA,swap:gA,transform:vA,tempTransform:bA,transformApply:yA},xA=o("save-state"),CA=o("disable"),SA=o("enable"),kA={formActionEvent:uk,saveState:xA,disable:CA,enable:SA},_A=function(e,n){var r=function(e,t,r,o){return $y(YI({name:e,text:e,disabled:r,primary:o},t,n))},a=function(e,t,r,o){return $y(KI({name:e,icon:b.some(e),tooltip:b.some(t),disabled:o},r,n))},i=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(zx)&&zx.disable(n)})},s=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(zx)&&zx.enable(n)})},u={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},c=b.none(),l=t,d=function(e,t,n){ii(e,t,n)},f=function(e){return ai(e,kA.disable())},m=function(e){return ai(e,kA.enable())},p=function(e,t){f(e),d(e,wA.transform(),{transform:t}),m(e)},h=function(e,t){f(e),d(e,wA.tempTransform(),{transform:t}),m(e)},g=function(e){return function(){se.getOpt(e).each(function(e){Gv.set(e,[ae])})}},v=function(e,t){f(e),d(e,wA.transformApply(),{transform:t,swap:g(e)}),m(e)},y=function(){return r("Back",function(e){return d(e,wA.back(),{swap:g(e)})},!1,!1)},w=function(){return $y({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Yu([zx.config({})])})},x=function(){return r("Apply",function(e){return d(e,wA.apply(),{swap:g(e)})},!0,!0)},C=function(){return function(t){var n=e.getRect();return FI.crop(t,n.x,n.y,n.w,n.h)}},S=[y(),w(),r("Apply",function(t){var n=C();v(t,n),e.hideCrop()},!1,!0)],k=BS.sketch({dom:u,components:S.map(function(e){return e.asSpec()}),containerBehaviours:Yu([uy("image-tools-crop-buttons-events",[Si(kA.disable(),function(e,t){i(S,e)}),Si(kA.enable(),function(e,t){s(S,e)})])])}),_=$y(lA({name:"size",label:c,type:"sizeinput",constrain:!0},n)),T=function(e,t){return function(n){return FI.resize(n,e,t)}},O=[y(),w(),_,w(),r("Apply",function(e){_.getOpt(e).each(function(t){var n=_b.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),a=T(r,o);v(e,a)})},!1,!0)],E=BS.sketch({dom:u,components:O.map(function(e){return e.asSpec()}),containerBehaviours:Yu([uy("image-tools-resize-buttons-events",[Si(kA.disable(),function(e,t){i(O,e)}),Si(kA.enable(),function(e,t){s(O,e)})])])}),D=function(e,t){return function(n){return e(n,t)}},R=D(FI.flip,"h"),N=D(FI.flip,"v"),I=D(FI.rotate,-90),A=D(FI.rotate,90),M=function(e,t){h(e,t)},B=[y(),w(),a("flip-horizontally","Flip horizontally",function(e){M(e,R)},!1),a("flip-vertically","Flip vertically",function(e){M(e,N)},!1),a("rotate-left","Rotate counterclockwise",function(e){M(e,I)},!1),a("rotate-right","Rotate clockwise",function(e){M(e,A)},!1),w(),x()],L=BS.sketch({dom:u,components:B.map(function(e){return e.asSpec()}),containerBehaviours:Yu([uy("image-tools-fliprotate-buttons-events",[Si(kA.disable(),function(e,t){i(B,e)}),Si(kA.enable(),function(e,t){s(B,e)})])])}),P=function(e,t,r,a,i){var s=VD.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(e)}}),u=VD.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=VD.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return $y(VD.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:o({x:o(a)})},components:[s,u,c],sliderBehaviours:Yu([Mb.config({})]),onChoose:t}))},z=function(e,t,n,r,o){var a=function(e,n,r){var o=D(t,r.x()/100);p(e,o)};return P(e,a,n,r,o)},F=function(e,t,n,r,o){return[y(),z(e,t,n,r,o),x()]},j=function(e,t,n,r,o){var a=F(e,t,n,r,o);return BS.sketch({dom:u,components:a.map(function(e){return e.asSpec()}),containerBehaviours:Yu([uy("image-tools-filter-panel-buttons-events",[Si(kA.disable(),function(e,t){i(a,e)}),Si(kA.enable(),function(e,t){s(a,e)})])])})},H=[y(),w(),x()],V=BS.sketch({dom:u,components:H.map(function(e){return e.asSpec()})}),$=j("Brightness",FI.brightness,-100,0,100),U=j("Contrast",FI.contrast,-100,0,100),q=j("Gamma",FI.gamma,-100,0,100),W=function(e,t,n){return function(r){return FI.colorize(r,e,t,n)}},K=function(e){var t=function(e,t,n){var r=Y.getOpt(e),o=G.getOpt(e),a=X.getOpt(e);r.each(function(t){o.each(function(n){a.each(function(r){var o=_b.getValue(t).x()/100,a=_b.getValue(r).x()/100,i=_b.getValue(n).x()/100,s=W(o,a,i);p(e,s)})})})};return P(e,t,0,100,200)},Y=K("R"),X=K("G"),G=K("B"),J=[y(),Y,X,G,x()],Q=BS.sketch({dom:u,components:J.map(function(e){return e.asSpec()})}),Z=function(e,t,n){return function(r){var o=function(){se.getOpt(r).each(function(t){Gv.set(t,[e]),n(t)})};d(r,wA.swap(),{transform:t,swap:o})}},ee=function(t){e.showCrop()},te=function(t){_.getOpt(t).each(function(t){var n=e.getMeasurements(),r=n.width,o=n.height;_b.setValue(t,{width:r,height:o})})},ne=b.some(FI.sharpen),re=b.some(FI.invert),oe=[a("crop","Crop",Z(k,c,ee),!1),a("resize","Resize",Z(E,c,te),!1),a("orientation","Orientation",Z(L,c,l),!1),a("brightness","Brightness",Z($,c,l),!1),a("sharpen","Sharpen",Z(V,ne,l),!1),a("contrast","Contrast",Z(U,c,l),!1),a("color-levels","Color levels",Z(Q,c,l),!1),a("gamma","Gamma",Z(q,c,l),!1),a("invert","Invert",Z(V,re,l),!1)],ae=BS.sketch({dom:u,components:oe.map(function(e){return e.asSpec()})}),ie=BS.sketch({dom:{tag:"div"},components:[ae],containerBehaviours:Yu([Gv.config({})])}),se=$y(ie),ue=function(e){return se.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})};return{memContainer:se,getApplyButton:ue}},TA=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),OA=tinymce.util.Tools.resolve("tinymce.geom.Rect"),EA=tinymce.util.Tools.resolve("tinymce.util.Observable"),DA=tinymce.util.Tools.resolve("tinymce.util.Tools"),RA=tinymce.util.Tools.resolve("tinymce.util.VK");function NA(e){var t,n,r,o,a,i,s,u,c=Math.max;return t=e.documentElement,n=e.body,r=c(t.scrollWidth,n.scrollWidth),o=c(t.clientWidth,n.clientWidth),a=c(t.offsetWidth,n.offsetWidth),i=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),u=c(t.offsetHeight,n.offsetHeight),{width:r<a?o:r,height:i<u?s:i}}function IA(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function AA(t,n){var r,o,a,i,s,u,c,l=n.document||e.document;n=n||{};var d=l.getElementById(n.handle||t);a=function(t){var a,f,m=NA(l);IA(t),t.preventDefault(),o=t.button,a=d,u=t.screenX,c=t.screenY,f=e.window.getComputedStyle?e.window.getComputedStyle(a,null).getPropertyValue("cursor"):a.runtimeStyle.cursor,r=TA("<div></div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(l.body),TA(l).on("mousemove touchmove",s).on("mouseup touchend",i),n.start(t)},s=function(e){if(IA(e),e.button!==o)return i(e);e.deltaX=e.screenX-u,e.deltaY=e.screenY-c,e.preventDefault(),n.drag(e)},i=function(e){IA(e),TA(l).off("mousemove touchmove",s).off("mouseup touchend",i),r.remove(),n.stop&&n.stop(e)},this.destroy=function(){TA(d).off()},TA(d).on("mousedown touchstart",a)}var MA=0;function BA(e,t,n,r,o){var a,i,s,u,c="tox-",l=c+"crid-"+MA++;function d(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}function f(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function m(){return f(n,e)}function p(t,r,o,i){var s,u,c,l,d;s=r.x,u=r.y,c=r.w,l=r.h,s+=o*t.deltaX,u+=i*t.deltaY,c+=o*t.deltaW,l+=i*t.deltaH,c<20&&(c=20),l<20&&(l=20),d=e=OA.clamp({x:s,y:u,w:c,h:l},n,"move"===t.name),d=f(n,d),a.fire("updateRect",{rect:d}),w(d)}function h(){function t(t){var n;return new AA(l,{document:r.ownerDocument,handle:l+"-"+t.name,start:function(){n=e},drag:function(e){p(t,n,e.deltaX,e.deltaY)}})}TA('<div id="'+l+'" class="'+c+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),DA.each(u,function(e){TA("#"+l,r).append('<div id="'+l+"-"+e+'"class="'+c+'croprect-block" style="display: none" data-mce-bogus="all">')}),DA.each(i,function(e){TA("#"+l,r).append('<div id="'+l+"-"+e.name+'" class="'+c+"croprect-handle "+c+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),s=DA.map(i,t),v(e),TA(r).on("focusin focusout",function(e){TA(e.target).attr("aria-grabbed","focus"===e.type)}),TA(r).on("keydown",function(t){var n;function r(e,t,r,o,a){e.stopPropagation(),e.preventDefault(),p(n,r,o,a)}switch(DA.each(i,function(e){if(t.target.id===l+"-"+e.name)return n=e,!1}),t.keyCode){case RA.LEFT:r(t,n,e,-10,0);break;case RA.RIGHT:r(t,n,e,10,0);break;case RA.UP:r(t,n,e,0,-10);break;case RA.DOWN:r(t,n,e,0,10);break;case RA.ENTER:case RA.SPACEBAR:t.preventDefault(),o();break}})}function g(e){var t;t=DA.map(i,function(e){return"#"+l+"-"+e.name}).concat(DA.map(u,function(e){return"#"+l+"-"+e})).join(","),e?TA(t,r).show():TA(t,r).hide()}function v(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),TA("#"+l+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}DA.each(i,function(t){TA("#"+l+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function b(t){e=t,v(e)}function y(n){t=n,v(e)}function w(e){b(d(n,e))}function x(t){n=t,v(e)}function C(){DA.each(s,function(e){e.destroy()}),s=[]}return i=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],u=["top","right","bottom","left"],h(),a=DA.extend({toggleVisibility:g,setClampRect:x,setRect:b,getInnerRect:m,setInnerRect:w,setViewPortRect:y,destroy:C},EA),a}var LA=function(e){return new sw(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},PA=function(e){var t=$y({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Fe(1),r=Fe(b.none()),o=Fe({x:0,y:0,w:1,h:1}),a=Fe({x:0,y:0,w:1,h:1}),i=function(e,a){p.getOpt(e).each(function(e){var i=n.get(),s=yc(e.element()),u=Cc(e.element()),c=a.dom().naturalWidth*i,l=a.dom().naturalHeight*i,d=Math.max(0,s/2-c/2),f=Math.max(0,u/2-l/2),m={left:d.toString()+"px",top:f.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};Ys(a,m),t.getOpt(e).each(function(e){Ys(e.element(),m)}),r.get().each(function(e){var t=o.get();e.setRect({x:t.x*i+d,y:t.y*i+f,w:t.w*i,h:t.h*i}),e.setClampRect({x:d,y:f,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:s,h:u})})})},s=function(e,t){p.getOpt(e).each(function(e){var r=yc(e.element()),o=Cc(e.element()),a=t.dom().naturalWidth,i=t.dom().naturalHeight,s=Math.min(r/a,o/i);s>=1?n.set(1):n.set(s)})},u=function(e,t){var n=En.fromTag("img");return Ar(n,"src",t),LA(n.dom()).then(function(){return p.getOpt(e).map(function(e){var t=pu({element:n});Gv.replaceAt(e,1,b.some(t));var r=a.get(),u={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};a.set(u);var c=OA.inflate(u,-20,-20);return o.set(c),r.w===u.w&&r.h===u.h||s(e,n),i(e,n),n})})},c=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),p.getOpt(e).each(function(e){var t=e.components()[1].element();i(e,t)})},l=function(){r.get().each(function(e){e.toggleVisibility(!0)})},d=function(){r.get().each(function(e){e.toggleVisibility(!1)})},f=function(){return o.get()},m=BS.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Yu([uy("image-panel-crop-events",[Ai(function(e){p.getOpt(e).each(function(e){var t=e.element().dom(),a=BA({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});a.toggleVisibility(!1),a.on("updateRect",function(e){var t=e.rect,r=n.get(),a={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(a)}),r.set(b.some(a))})})])])}],containerBehaviours:Yu([Gv.config({}),uy("image-panel-events",[Ai(function(t){u(t,e)})])])}),p=$y(m),h=function(){var e=a.get();return{width:e.w,height:e.h}};return{memContainer:p,updateSrc:u,zoom:c,showCrop:l,hideCrop:d,getRect:f,getMeasurements:h}},zA=function(e,t,n,r,o){return KI({name:e,icon:b.some(t),disabled:n,tooltip:b.some(e)},r,o)},FA=function(e,t){t?zx.enable(e):zx.disable(e)},jA=function(e){var t=function(e,t,o){n.getOpt(e).each(function(e){FA(e,t)}),r.getOpt(e).each(function(e){FA(e,o)})},n=$y(zA("Undo","undo",!0,function(e){ii(e,wA.undo(),{direction:1})},e)),r=$y(zA("Redo","redo",!0,function(e){ii(e,wA.redo(),{direction:1})},e)),o=BS.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),zA("Zoom in","zoom-in",!1,function(e){ii(e,wA.zoom(),{direction:1})},e),zA("Zoom out","zoom-out",!1,function(e){ii(e,wA.zoom(),{direction:-1})},e)]});return{container:o,updateButtonUndoStates:t}},HA=function(){return Hn.getOrDie("URL")},VA=function(e){return HA().createObjectURL(e)},$A=function(e){HA().revokeObjectURL(e)},UA={createObjectURL:VA,revokeObjectURL:$A};function qA(){var e=[],t=-1;function n(n){var r;return r=e.splice(++t),e.push(n),{state:n,removed:r}}function r(){if(a())return e[--t]}function o(){if(i())return e[++t]}function a(){return t>0}function i(){return-1!==t&&t<e.length-1}return{data:e,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var WA,KA=function(e){var t=Fe(e),n=Fe(b.none()),r=qA();r.add(e);var o=function(){return t.get()},a=function(e){t.set(e)},i=function(){return n.get().fold(function(){return t.get()},function(e){return e})},s=function(e){var t=u(e);return d(),n.set(b.some(t)),t.url},u=function(e){return{blob:e,url:UA.createObjectURL(e)}},c=function(e){UA.revokeObjectURL(e.url)},l=function(e){DA.each(e,c)},d=function(){n.get().each(c),n.set(b.none())},f=function(e){var t=u(e);a(t);var n=r.add(t).removed;return l(n),t.url},m=function(e){var t=u(e);return n.set(b.some(t)),t.url},p=function(e){return n.get().fold(function(){},function(t){f(t.blob),e()})},h=function(){var e=r.undo();return a(e),e.url},g=function(){var e=r.redo();return a(e),e.url},v=function(){var e=r.canUndo(),t=r.canRedo();return{undoEnabled:e,redoEnabled:t}};return{getBlobState:o,setBlobState:a,addBlobState:f,getTempState:i,updateTempState:s,addTempState:m,applyTempState:p,destroyTempState:d,undo:h,redo:g,getHistoryStates:v}},YA=function(n,r){var o=KA(n.currentState),a=function(e,t){var n=t.event().direction();_.zoom(e,n)},i=function(e){var t=o.getHistoryStates();T.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),ii(e,kA.formActionEvent,{name:kA.saveState(),value:t.undoEnabled})},s=function(e){T.updateButtonUndoStates(e,!1,!1)},u=function(e,t){var n=o.undo();m(e,n).then(function(t){f(e),i(e)})},c=function(e,t){var n=o.redo();m(e,n).then(function(t){f(e),i(e)})},l=function(e){return e.toBlob()},d=function(e){ii(e,kA.formActionEvent,{name:kA.disable(),value:{}})},f=function(e){O.getApplyButton(e).each(function(e){zx.enable(e)}),ii(e,kA.formActionEvent,{name:kA.enable(),value:{}})},m=function(e,t){return d(e),_.updateSrc(e,t)},p=function(t,n,r,o,a){return d(t),BN.blobToImageResult(n).then(r).then(l).then(o).then(function(e){return m(t,e).then(function(e){return i(t),a(),f(t),e})}).catch(function(n){e.console.log(n),f(t)})},h=function(e,t,n){var r=o.getBlobState().blob,a=function(e){return o.updateTempState(e)};p(e,r,t,a,n)},g=function(e,n){var r=o.getTempState().blob,a=function(e){return o.addTempState(e)};p(e,r,n,a,t)},v=function(e,t,n){var r=o.getBlobState().blob,a=function(t){var n=o.addBlobState(t);return y(e),n};p(e,r,t,a,n)},b=function(e,t){var n=function(){y(e);var n=t.event().swap();n()};o.applyTempState(n)},y=function(e){var t=o.getBlobState().url;return o.destroyTempState(),i(e),t},w=function(e){var t=y(e);m(e,t).then(function(t){f(e)})},x=function(e,t){w(e);var n=t.event().swap();n(),_.hideCrop()},C=function(e,n){return h(e,n.event().transform(),t)},S=function(e,t){return g(e,t.event().transform())},k=function(e,t){return v(e,t.event().transform(),t.event().swap())},_=PA(n.currentState.url),T=jA(r),O=_A(_,r),E=function(e,t){s(e);var n=t.event().transform(),r=t.event().swap();n.fold(function(){r()},function(t){h(e,t,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[O.memContainer.asSpec(),_.memContainer.asSpec(),T.container],behaviours:Yu([_b.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),uy("image-tools-events",[Si(wA.undo(),u),Si(wA.redo(),c),Si(wA.zoom(),a),Si(wA.back(),x),Si(wA.apply(),b),Si(wA.transform(),C),Si(wA.tempTransform(),S),Si(wA.transformApply(),k),Si(wA.swap(),E)]),vR.self()])}},XA=function(e,t){var n=I(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),r=e.data.map(function(e){return Ae("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:km(e.selectBehaviours,[Mb.config({}),_b.config({store:oo({mode:"manual",getValue:function(e){return nu(e.element())},setValue:function(t,n){var r=F(e.options,function(e){return e.value===n});r.isSome()&&ru(t.element(),n)}},r)})])}},GA=Ip({name:"HtmlSelect",configFields:[Ea("options"),Cm("selectBehaviours",[Mb,_b]),Ua("selectClasses",[]),Ua("selectAttributes",{}),za("data")],factory:XA}),JA=function(e,t){var n=e.label.map(function(e){return v_(e,t)}),r=bk.parts().field({dom:{},selectAttributes:{size:e.size},options:e.items,factory:GA,selectBehaviours:Yu([eT.config({}),uy("selectbox-change",[Si(nt(),function(t,n){ii(t,ak,{name:e.name})})])])}),o=e.size>1?b.none():b.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:qy("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:$([[r],o.toArray()])};return bk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([n.toArray(),[a]])})},QA=function(e,t){var n=e.label.map(function(e){return v_(e,t)}),r=[Fv.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return ai(e,ck),b.some(!0)}}),uy("textfield-change",[Si(tt(),function(t,n){ii(t,ak,{name:e.name})}),Si(tn(),function(t,n){ii(t,ak,{name:e.name})})]),eT.config({})],o=e.validation.map(function(e){return G_.config({getRoot:function(e){return ur(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=_b.getValue(t),r=e.validator(n);return Fk.pure(!0===r?ye.value(n):ye.error(r))},validateOnLoad:e.validateOnLoad}})}).toArray(),a=bk.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:e.placeholder.fold(function(){},function(e){return{placeholder:t.translate(e)}}),inputClasses:[e.classname],inputBehaviours:Yu($([r,o])),selectOnFocus:!1,factory:N_}),i=e.flex?["tox-form__group--stretched"]:[];return f_(n,a,i)},ZA=function(e,t){return QA({name:e.name,multiline:!1,label:e.label,placeholder:e.placeholder,flex:!1,classname:"tox-textfield",validation:b.none()},t)},eM=function(e,t){return QA({name:e.name,multiline:!0,label:e.label,placeholder:e.placeholder,flex:!0,classname:"tox-textarea",validation:b.none()},t)},tM=function(t){var n=function(){return tM(t.toCached())},r=function(e){return tM(t.bind(function(t){return t.fold(function(e){return Fk.pure(ye.error(e))},function(t){return e(t)})}))},o=function(e){return tM(t.map(function(t){return t.bind(e)}))},a=function(e){return tM(t.map(function(t){return t.map(e)}))},i=function(e){return tM(t.map(function(t){return t.mapError(e)}))},s=function(e,n){return t.map(function(t){return t.fold(e,n)})},u=function(n,r){return tM(Fk.nu(function(o){var a=!1,i=e.setTimeout(function(){a=!0,o(ye.error(r()))},n);t.get(function(t){a||(e.clearTimeout(i),o(t))})}))};return oo({},t,{toCached:n,bindFuture:r,bindResult:o,mapResult:a,mapError:i,foldResult:s,withTimeout:u})},nM=function(e){return tM(Fk.nu(e))},rM=function(e){return tM(Fk.pure(ye.value(e)))},oM=function(e){return tM(Fk.pure(ye.error(e)))},aM=function(e){return tM(Fk.pure(e))},iM=function(e){return tM(e.map(ye.value))},sM=function(e){return nM(function(t){e.then(function(e){t(ye.value(e))},function(e){t(ye.error(e))})})},uM={nu:nM,wrap:tM,pure:rM,value:rM,error:oM,fromResult:aM,fromFuture:iM,fromPromise:sM},cM={type:"separator"},lM=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},dM=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},fM=function(e){return I(e,lM)},mM=function(e,t){return L(t,function(t){return t.type===e})},pM=function(e,t){return fM(mM(e,t))},hM=function(e){return pM("header",e.targets)},gM=function(e){return pM("anchor",e.targets)},vM=function(e){return b.from(e.anchorTop).map(function(e){return dM("<top>",e)}).toArray()},bM=function(e){return b.from(e.anchorBottom).map(function(e){return dM("<bottom>",e)}).toArray()},yM=function(e){return I(e,function(e){return dM(e,e)})},wM=function(e){return z(e,function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(cM,t)},[])},xM=function(e,t){var n=e.toLowerCase();return L(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return jt(t.toLowerCase(),n)||jt(e.value.toLowerCase(),n)})},CM=function(e,t,n){var r=_b.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value,a=n.getLinkInformation();return a.fold(function(){return[]},function(t){var r=xM(o,yM(n.getHistory(e)));return"file"===e?wM([r,xM(o,hM(t)),xM(o,$([vM(t),gM(t),bM(t)]))]):r})},SM=function(e,t,n,r,o){return Vy.sketch({dom:{tag:"button",classes:["tox-tbtn",n],innerHtml:qy(r,o.icons),attributes:{title:o.translate(e.getOr(""))}},buttonBehaviours:Yu([eT.config({})]),action:function(e){ai(e,t)}})},kM=function(e,n,r){var o,a=function(t){var n=_b.getValue(t);r.addToHistory(n.value,e.filetype)},i=bk.parts().field({factory:d_,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],minChars:0,responseTime:0,fetch:function(t){var o=CM(e.filetype,t,r),a=O_(o,Wx.BUBBLE_TO_SANDBOX,n.providers);return Fk.pure(a)},getHotspot:function(e){return f.getOpt(e)},onSetValue:function(e,n){e.hasConfigured(G_)&&G_.run(e).get(t)},typeaheadBehaviours:Yu($([r.getValidationHandler().map(function(t){return G_.config({getRoot:function(e){return ur(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{},validator:{validate:function(n){var r=_b.getValue(n);return uM.nu(function(o){t({type:e.filetype,url:r.value},function(e){f.getOpt(n).each(function(t){var n=function(e,t,n){(n?zs:js)(e.element(),t)};n(t,"tox-control-wrap--status-valid","valid"===e.status),n(t,"tox-control-wrap--status-unknown","unknown"===e.status)}),o(("invalid"===e.status?ye.error:ye.value)(e.message))})})},validateOnLoad:!1}})}).toArray(),[eT.config({}),uy("urlinput-events",$(["file"===e.filetype?[Si(tt(),function(t){ii(t,ak,{name:e.name})})]:[],[Si(nt(),function(t){ii(t,ak,{name:e.name}),a(t)}),Si(tn(),function(t){ii(t,ak,{name:e.name}),a(t)})]]))]])),eventOrder:(o={},o[tt()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"dog"},lazySink:n.getSink,parts:{menu:RC(!1,1,"normal")},onExecute:function(e,t,n){ii(t,ck,{})},onItemExecute:function(t,n,r,o){a(t),ii(t,ak,{name:e.name})}}),s=e.label.map(function(e){return v_(e,n.providers)}),u=function(e,t,r){return void 0===t&&(t=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:qy(t,n.providers.icons),attributes:{title:n.providers.translate(r)}}}},c=$y({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[u("valid","checkmark","valid"),u("unknown","warning"),u("invalid","warning")]}),l=r.getUrlPicker(e.filetype),d=no("browser.url.event"),f=$y({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,c.asSpec()]}),m=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$([[f.asSpec()],l.map(function(){return SM(e.label,d,"tox-browse-url","browse",n.providers)}).toArray()])}},p=function(t){zp.getCurrent(t).each(function(n){var r=_b.getValue(n);l.each(function(o){o(r).get(function(r){_b.setValue(n,r),ii(t,ak,{name:e.name})})})})};return bk.sketch({dom:h_(),components:s.toArray().concat([m()]),fieldBehaviours:Yu([uy("url-input-events",[Si(d,p)])])})},_M=function(e,t){var n=_b.config({store:{mode:"manual",getValue:function(e){var t=e.element().dom();return t.checked},setValue:function(e,t){var n=e.element().dom();n.checked=t}}}),r=function(e){return e.element().dom().click(),b.some(!0)},o=bk.parts().field({factory:{sketch:a},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Yu([vR.self(),eT.config({}),Mb.config({}),n,Fv.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),uy("checkbox-events",[Si(nt(),function(t,n){ii(t,ak,{name:e.name})})])])}),i=bk.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Yu([rO.config({})])}),s=function(e){var n="checked"===e?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:qy(n,t.icons)}}},u=$y({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return bk.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i]})},TM=function(e){return"presentation"===e.presets?BS.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):BS.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Yu([eT.config({}),Mb.config({})])})},OM=function(e,t){var n=v_(e.label,t),r=bk.parts().field({factory:GA,dom:{classes:["mce-select-field"]},selectBehaviours:Yu([eT.config({})]),options:e.values,data:e.initialValue.getOr(void 0)});return m_(b.some(n),r)},EM=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=I(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Yu([vR.self(),Gv.config({}),RR.domHtml(b.none()),Fv.config({mode:"acyclic"})])}},DM=function(e,t){var n=e.label.map(function(e){return v_(e,t)}),r=function(e){return function(t,n){xu(n.event().target(),"[data-collection-item-value]").each(function(n){e(t,n,Br(n,"data-collection-item-value"))})}},o=function(e){return'"'===e?"&quot;":e},i=function(t,n){var r=I(n,function(t){var n=1===e.columns?'<div class="tox-collection__item-label">'+t.text+"</div>":"",r='<div class="tox-collection__item-icon">'+t.icon+"</div>",a={_:" "," - ":" ","-":" "},i=t.text.replace(/\_| \- |\-/g,function(e){return a[e]});return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+o(t.value)+'" title="'+i+'" aria-label="'+i+'">'+r+n+"</div>"}),a=e.columns>1&&"auto"!==e.columns?N(r,e.columns):[r],i=I(a,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});kr(t.element(),i.join(""))},s=[Si(Ge(),r(function(e,t){Oh(t)})),Si(sn(),r(function(t,n,r){ii(t,uk,{name:e.name,value:r})})),Si(Je(),r(function(e,t,n){wu(e.element(),"."+sx).each(function(e){js(e,sx)}),zs(t,sx)})),Si(Qe(),r(function(e,t,n){wu(e.element(),"."+sx).each(function(e){js(e,sx)})})),Li(r(function(t,n,r){ii(t,uk,{name:e.name,value:r})}))],u=bk.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:a},behaviours:Yu([Gv.config({}),_b.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&Rw(t,5,"tox-collection__item").each(function(e){var n=e.numRows,r=e.numColumns;Fv.setGridSize(t,n,r)}),ai(t,mk)}}),eT.config({}),Fv.config(IC(e.columns,"normal")),uy("collection-events",s)])}),c=["tox-form__group--collection"];return f_(n,u,c)},RM=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:I(e,n)}]}},o=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},a=function(e){return{dom:{tag:"tr"},components:I(e,o)}},i=function(e){return{dom:{tag:"tbody"},components:I(e,a)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),i(e.cells)],behaviours:Yu([eT.config({}),Mb.config({})])}},NM=function(e){return function(t,n,r){return Ie(n,"name").fold(function(){return e(n,r)},function(o){return t.field(o,e(n,r))})}},IM=function(e){return function(t,n,r){var o=Oe(n,{source:"dynamic"});return NM(e)(t,o,r)}},AM={bar:NM(function(e,t){return D_(e,t.shared)}),collection:NM(function(e,t){return DM(e,t.shared.providers)}),alloy:NM(a),alertbanner:NM(function(e,t){return pk(e,t.shared.providers)}),input:NM(function(e,t){return ZA(e,t.shared.providers)}),textarea:NM(function(e,t){return eM(e,t.shared.providers)}),listbox:NM(function(e,t){return OM(e,t.shared.providers)}),label:NM(function(e,t){return EM(e,t.shared)}),iframe:IM(function(e,t){return qR(e,t.shared.providers)}),autocomplete:NM(function(e,t){return E_(e,t.shared)}),button:NM(function(e,t){return JI(e,t.shared.providers)}),checkbox:NM(function(e,t){return _M(e,t.shared.providers)}),colorinput:NM(function(e,t){return uO(e,t.shared,t.colorinput)}),colorpicker:NM(xR),dropzone:NM(function(e,t){return AR(e,t.shared.providers)}),grid:NM(function(e,t){return MR(e,t.shared)}),selectbox:NM(function(e,t){return JA(e,t.shared.providers)}),sizeinput:NM(function(e,t){return lA(e,t.shared.providers)}),urlinput:NM(function(e,t){return kM(e,t.shared,t.urlinput)}),customeditor:NM(CR),htmlpanel:NM(TM),imagetools:NM(function(e,t){return YA(e,t.shared.providers)}),table:NM(function(e,t){return RM(e,t.shared.providers)})},MM={field:function(e,t){return t}},BM=function(e,t,n){var r=Oe(n,{shared:{interpreter:function(t){return LM(e,t,r)}}});return LM(e,t,r)},LM=function(t,n,r){return Ie(AM,n.type).fold(function(){return e.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(e){return e(t,n,r)})},PM=function(e,t){var n=MM;return LM(n,e,t)},zM=function(e){return e.x()},FM=function(e,t){return e.x()+e.width()/2-t.width()/2},jM=function(e,t){return e.x()+e.width()-t.width()},HM=function(e){return e.y()},VM=function(e,t,n){return Sl(zM(e),HM(e),n.northeast(),Ic(),"layout-ne")},$M=function(e,t,n){return Sl(jM(e,t),HM(e),n.northwest(),Ac(),"layout-nw")},UM=function(e,t,n){return Sl(FM(e,t),HM(e),n.north(),Bc(),"layout-n")},qM={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},WM=function(e,t,n){var r=function(){return{anchor:"node",root:e(),node:b.from(e()),bubble:xl(-12,-12,qM),layouts:{onRtl:function(){return[VM]},onLtr:function(){return[$M]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),bubble:xl(-12,12,qM),layouts:{onRtl:function(){return[Il]},onLtr:function(){return[Al]}}}};return n?r:o},KM=function(e,t,n){var r=function(){return{anchor:"node",root:e(),node:b.from(e()),layouts:{onRtl:function(){return[UM]},onLtr:function(){return[UM]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Pl]},onLtr:function(){return[Pl]}}}};return n?r:o},YM=function(e){return function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Il]},onLtr:function(){return[Al]}}}}},XM=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return b.some(Zl(En.fromDom(t.startContainer),t.startOffset,En.fromDom(t.endContainer),t.endOffset))}}}},GM=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},JM=function(e,t,n){var r=rk(e),o=function(){return En.fromDom(e.getBody())};return{toolbar:WM(o,t,r),toolbarOverflow:YM(n),banner:KM(o,t,n),cursor:XM(e,o),node:GM(o)}},QM={getAnchors:JM},ZM=function(e){return function(t,n){var r=XT.colorPickerDialog(e);r(t,n)}},eB=function(e){return function(){return BT.hasCustomColors(e)}},tB=function(e){return function(){return BT.getColors(e)}},nB=function(e){return{colorPicker:ZM(e),hasCustomColors:eB(e),getColors:tB(e)}},rB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],oB=function(e){return ce(e,"items")},aB=function(e){return ce(e,"block")},iB=function(e){return ce(e,"inline")},sB=function(e){return ce(e,"selector")},uB=function(e){return z(e,function(e,t){if(oB(t)){var n=uB(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(iB(t)||aB(t)||sB(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return oo({},e,{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},cB=function(e,t){var n=uB(t),r=function(t){A(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on("init",function(){r(n.customFormats)}),n.formats},lB=function(e){return KS(e).map(function(t){var n=cB(e,t);return YS(e)?rB.concat(n):n}).getOr(rB)},dB=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Oe(e,r)},fB=function(e,t,n,r){var a=function(e){return dB(e,n,r)},i=function(e){var t={type:"submenu",isSelected:o(!1),getStylePreview:function(){return b.none()}};return Oe(e,t)},s=function(t){var o=no(t.title),a={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},i=Oe(t,a);return e.formatter.register(o,i),i},u=function(e){return I(e,function(e){var t=ee(e);if(ze(e,"items")){var n=u(e.items);return Oe(i(e),{getStyleItems:function(){return n}})}return ze(e,"format")?a(e):1===t.length&&D(t,"title")?Oe(e,{type:"separator"}):s(e)})};return u(t)},mB=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)}):b.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?U(t,r):[e.format]},o=Fe([]),a=Fe([]),i=Fe([]),s=Fe([]),u=Fe(!1);e.on("init",function(){var i=lB(e),s=fB(e,i,t,n);o.set(s),a.set(U(s,r))}),e.on("addStyleModifications",function(o){var a=fB(e,o.items,t,n);i.set(a),u.set(o.replace),s.set(U(a,r))});var c=function(){var e=u.get()?[]:o.get(),t=i.get();return e.concat(t)},l=function(){var e=u.get()?[]:a.get(),t=s.get();return e.concat(t)};return{getData:c,getFlattenedKeys:l}},pB=DA.trim,hB=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},gB=hB("true"),vB=hB("false"),bB=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},yB=function(e){while(e=e.parentNode){var t=e.contentEditable;if(t&&"inherit"!==t)return gB(e)}return!1},wB=function(e,t){return I(qd(En.fromDom(t),e),function(e){return e.dom()})},xB=function(e){return e.innerText||e.textContent},CB=function(e){return e.id?e.id:no("h")},SB=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},kB=function(e){return SB(e)&&TB(e)},_B=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},TB=function(e){return yB(e)&&!vB(e)},OB=function(e){return _B(e)&&TB(e)},EB=function(e){return _B(e)?parseInt(e.nodeName.substr(1),10):0},DB=function(e){var t=CB(e),n=function(){e.id=t};return bB("header",xB(e),"#"+t,EB(e),n)},RB=function(e){var n=e.id||e.name,r=xB(e);return bB("anchor",r||"#"+n,"#"+n,0,t)},NB=function(e){return I(L(e,OB),DB)},IB=function(e){return I(L(e,kB),RB)},AB=function(e){var t=wB("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},MB=function(e){return pB(e.title).length>0},BB=function(e){var t=AB(e);return L(NB(t).concat(IB(t)),MB)},LB={find:BB},PB="tinymce-url-history",zB=5,FB=function(e){return x(e)&&/^https?/.test(e)},jB=function(e){return S(e)&&e.length<=zB&&q(e,FB)},HB=function(e){return C(e)&&ie(e,function(e){return!jB(e)}).isNone()},VB=function(){var t,n=e.localStorage.getItem(PB);if(null===n)return{};try{t=JSON.parse(n)}catch(r){if(r instanceof SyntaxError)return e.console.log("Local storage "+PB+" was not valid JSON",r),{};throw r}return HB(t)?t:(e.console.log("Local storage "+PB+" was not valid format",t),{})},$B=function(t){if(!HB(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));e.localStorage.setItem(PB,JSON.stringify(t))},UB=function(e){var t=VB();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},qB=function(e,t){if(FB(e)){var n=VB(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=L(r,function(t){return t!==e});n[t]=[e].concat(o).slice(0,zB),$B(n)}},WB=Object.prototype.hasOwnProperty,KB=function(e){return!!e},YB=function(e){return re(DA.makeMap(e,/[, ]/),KB)},XB=function(e,t){return WB.call(e,t)?b.some(e[t]):b.none()},GB=function(e,t,n){var r=XB(e,t).getOr(n);return x(r)?b.some(r):b.none()},JB=function(e){return b.some(e.file_picker_callback).filter(_)},QB=function(e){var t=b.some(e.file_picker_types).filter(KB),n=b.some(e.file_browser_callback_types).filter(KB),r=t.or(n).map(YB);return JB(e).fold(function(){return!1},function(e){return r.fold(function(){return!0},function(e){return ee(e).length>0&&e})})},ZB=function(e,t){var n=QB(e);return k(n)?n?JB(e):b.none():n[t]?JB(e):b.none()},eL=function(e,t){return ZB(e.settings,t).map(function(n){return function(r){return Fk.nu(function(o){var a=function(e,t){if(!x(e))throw new Error("Expected value to be string");if(void 0!==t&&!C(t))throw new Error("Expected meta to be a object");var n={value:e,meta:t};o(n)},i=DA.extend({filetype:t},b.from(r.meta).getOr({}));n.call(e,a,r.value,i)})}})},tL=function(e){return!1===e.settings.typeahead_urls?b.none():b.some({targets:LB.find(e.getBody()),anchorTop:GB(e.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:GB(e.settings,"anchor_bottom","#bottom").getOrUndefined()})},nL=function(e){var t=e.settings.filepicker_validator_handler;return _(t)?b.some(t):b.none()},rL=function(e){return{getHistory:UB,addToHistory:qB,getLinkInformation:function(){return tL(e)},getValidationHandler:function(){return nL(e)},getUrlPicker:function(t){return eL(e,t)}}},oL=function(e,t,n,r){var o={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Xw.translate},interpreter:function(e){return PM(e,o)},anchors:QM.getAnchors(t,n,r),getSink:function(){return ye.value(e)}},urlinput:rL(t),styleselect:mB(t),colorinput:nB(t)};return o},aL="contexttoolbar-show",iL=function(e,t){var n={len:0,list:[]},r=z(e,function(e,n){var r=t(n,e.len);return r.fold(o(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},n);return r.list},sL=Dn("within","extra","withinWidth"),uL=function(e,t,n){var r=iL(e,function(e,t){var r=n(e);return b.some({element:o(e),start:o(t),finish:o(t+r),width:o(r)})}),a=L(r,function(e){return e.finish()<=t}),i=P(a,function(e,t){return e+t.width()},0),s=r.slice(a.length);return{within:o(a),extra:o(s),withinWidth:o(i)}},cL=function(e){return I(e,function(e){return e.element()})},lL=function(e,t,n){var r=cL(e.concat(t));return sL(r,[],n)},dL=function(e,t,n,r){var o=cL(e).concat([n]);return sL(o,cL(t),r)},fL=function(e,t,n){return sL(cL(e),[],n)},mL=function(e,t,n){var r=uL(t,e,n);return 0===r.extra().length?b.some(r):b.none()},pL=function(e,t,n,r){var o=mL(e,t,n).getOrThunk(function(){return uL(t,e-n(r),n)}),a=o.within(),i=o.extra(),s=o.withinWidth();return 1===i.length&&i[0].width()<=n(r)?lL(a,i,s):i.length>=1?dL(a,i,r,s):fL(a,i,s)},hL=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},gL=function(e){return e.dimension.property},vL=function(e,t){return e.dimension.getDimension(t)},bL=function(e,t){var n=hL(e,t);$s(n,[t.shrinkingClass,t.growingClass])},yL=function(e,t){js(e.element(),t.openClass),zs(e.element(),t.closedClass),Ks(e.element(),gL(t),"0px"),tu(e.element())},wL=function(e,t){js(e.element(),t.closedClass),zs(e.element(),t.openClass),eu(e.element(),gL(t))},xL=function(e,t,n,r){n.setCollapsed(),Ks(e.element(),gL(t),vL(t,e.element())),tu(e.element()),bL(e,t),yL(e,t),t.onStartShrink(e),t.onShrunk(e)},CL=function(e,t,n,r){var o=r.getOrThunk(function(){return vL(t,e.element())});n.setCollapsed(),Ks(e.element(),gL(t),o),tu(e.element());var a=hL(e,t);js(a,t.growingClass),zs(a,t.shrinkingClass),yL(e,t),t.onStartShrink(e)},SL=function(e,t,n){var r=vL(t,e.element()),o="0px"===r?xL:CL;o(e,t,n,b.some(r))},kL=function(e,t,n){var r=hL(e,t),o=Hs(r,t.shrinkingClass),a=vL(t,e.element());wL(e,t);var i=vL(t,e.element()),s=function(){Ks(e.element(),gL(t),a),tu(e.element())},u=function(){yL(e,t)},c=o?s:u;c(),js(r,t.shrinkingClass),zs(r,t.growingClass),wL(e,t),Ks(e.element(),gL(t),i),n.setExpanded(),t.onStartGrow(e)},_L=function(e,t,n){if(n.isExpanded()){eu(e.element(),gL(t));var r=vL(t,e.element());Ks(e.element(),gL(t),r)}},TL=function(e,t,n){n.isExpanded()||kL(e,t,n)},OL=function(e,t,n){n.isExpanded()&&SL(e,t,n)},EL=function(e,t,n){n.isExpanded()&&xL(e,t,n,b.none())},DL=function(e,t,n){return n.isExpanded()},RL=function(e,t,n){return n.isCollapsed()},NL=function(e,t,n){var r=hL(e,t);return!0===Hs(r,t.growingClass)},IL=function(e,t,n){var r=hL(e,t);return!0===Hs(r,t.shrinkingClass)},AL=function(e,t,n){return!0===NL(e,t,n)||!0===IL(e,t,n)},ML=function(e,t,n){var r=n.isExpanded()?SL:kL;r(e,t,n)},BL=Object.freeze({refresh:_L,grow:TL,shrink:OL,immediateShrink:EL,hasGrown:DL,hasShrunk:RL,isGrowing:NL,isShrinking:IL,isTransitioning:AL,toggleGrow:ML,disableTransitions:bL}),LL=function(e,t){var n=t.expanded;return ds(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Ae(t.dimension.property,"0px")})},PL=function(e,t){return yi([Ii(ot(),function(n,r){var o=r.event().raw();if(o.propertyName===e.dimension.property){bL(n,e),t.isExpanded()&&eu(n.element(),e.dimension.property);var a=t.isExpanded()?e.onGrown:e.onShrunk;a(n)}})])},zL=Object.freeze({exhibit:LL,events:PL}),FL=[Ea("closedClass"),Ea("openClass"),Ea("shrinkingClass"),Ea("growingClass"),za("getAnimationRoot"),Mu("onShrunk"),Mu("onStartShrink"),Mu("onGrown"),Mu("onStartGrow"),Ua("expanded",!1),Da("dimension",wa("property",{width:[zu("property","width"),zu("getDimension",function(e){return yc(e)+"px"})],height:[zu("property","height"),zu("getDimension",function(e){return Cc(e)+"px"})]}))],jL=function(e){var t=Fe(e.expanded),n=function(){return"expanded: "+t.get()};return is({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:i(t.set,!1),setExpanded:i(t.set,!0),readState:n})},HL=Object.freeze({init:jL}),VL=Gu({fields:FL,name:"sliding",active:zL,apis:BL,state:HL}),$L=o([Ua("shell",!0),Cm("toolbarBehaviours",[Gv])]),UL=function(e){return{behaviours:Yu([Gv.config({})])}},qL=o([tp({name:"groups",overrides:UL})]),WL=function(t,n,r,o){var a=function(t,n){i(t).fold(function(){throw e.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){Gv.set(e,n)})},i=function(e){return t.shell?b.some(e):pp(e,t,"groups")},s=t.shell?{behaviours:[Gv.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:s.components,behaviours:km(t.toolbarBehaviours,s.behaviours),apis:{setGroups:a},domModification:{attributes:{role:"group"}}}},KL=Ap({name:"Toolbar",configFields:$L(),partFields:qL(),factory:WL,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),YL=o([Iu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Cm("splitToolbarBehaviours",[]),Qa("builtGroups",function(){return Fe([])}),Ua("overflow",function(e){return b.none()}),Xa("floating",!1)]),XL=[Ea("dom"),Ua("overflow",function(e){return b.none()}),Xa("floating",!1)],GL=o([Zm({factory:KL,schema:XL,name:"primary"}),tp({factory:KL,schema:XL,name:"overflow",overrides:function(e){return{toolbarBehaviours:Yu([VL.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass}),Fv.config({mode:"acyclic",onEscape:function(t){return pp(t,e,"overflow-button").each(Fv.focusIn),b.some(!0)}})])}}}),ep({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Yu([ey.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"}})])}}}),ep({name:"overflow-group"})]),JL=o([Ea("items"),Iu(["itemSelector"]),Cm("tgroupBehaviours",[Fv])]),QL=o([np({name:"items",unit:"item"})]),ZL=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:km(e.tgroupBehaviours,[Fv.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},eP=Ap({name:"ToolbarGroup",configFields:JL(),partFields:QL(),factory:ZL}),tP=function(e,t){var n=I(t,function(e){return vu(e)});KL.setGroups(e,n)},nP=function(e,t,n,r){var o=hp(e,t,"primary"),a=pp(e,t,"overflow").orThunk(function(){return t.overflow(e)});Ks(o.element(),"visibility","hidden"),a.each(function(e){KL.setGroups(e,[])});var i=t.builtGroups.get(),s=eP.sketch(oo({},n["overflow-group"](),{items:[Vy.sketch(oo({},n["overflow-button"](),{action:function(n){!0===t.floating?ai(e,r):a.each(function(e){VL.toggleGrow(e)})}}))]})),u=e.getSystem().build(s);tP(o,i.concat([u]));var c=yc(o.element()),l=pL(c,i,function(e){return yc(e.element())},u);0===l.extra().length?(Gv.remove(o,u),a.each(function(e){KL.setGroups(e,[])})):(tP(o,l.within()),a.each(function(e){tP(e,l.extra())})),eu(o.element(),"visibility"),tu(o.element()),a.each(function(n){t.floating||VL.refresh(n),pp(e,t,"overflow-button").each(function(e){t.floating?ey.set(e,n.getSystem().isConnected()):(ey.set(e,VL.hasGrown(n)),Fv.focusIn(n))})})},rP=function(e,t,n,r){var o="alloy.toolbar.toggle",a=function(t,n){var r=I(n,t.getSystem().build);e.builtGroups.set(r)},i=function(t,n){a(t,n),nP(t,e,r,o)},s=function(t){return pp(t,e,"overflow-button")},u=function(t){return pp(t,e,"overflow").orThunk(function(){return e.overflow(t)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:km(e.splitToolbarBehaviours,[]),apis:{setGroups:i,refresh:function(t){nP(t,e,r,o)},getMoreButton:function(e){return s(e)},getOverflow:function(e){return u(e)}},domModification:{attributes:{role:"group"}}}},oP=Ap({name:"SplitToolbar",configFields:YL(),partFields:GL(),factory:rP,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},getMoreButton:function(e,t){return e.getMoreButton(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),aP=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:oo({tag:"div",classes:["tox-toolbar__group"]},t),components:[eP.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Yu([eT.config({}),Mb.config({})])}},iP=function(e){return eP.sketch(aP(e))},sP=function(e,t,n){var r=Ai(function(t){var n=I(e.initGroups,iP);KL.setGroups(t,n)}),o=n.fold(function(){return[r]},function(t){return[r,Si("alloy.toolbar.toggle",function(n,r){e.getSink().toOption().each(function(r){t.getOpt(r).fold(function(){var o=gu(t.asSpec());$f(r,o),jf.position(r,e.backstage.shared.anchors.toolbarOverflow(),o),oP.refresh(n),oP.getMoreButton(n).each(Mb.focus),Fv.focusIn(o)},function(e){Wf(e)})})})]});return Yu([Fv.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),uy("toolbar-events",o)])},uP=function(e){var t=e.cyclicKeying?"cyclic":"acyclic",n=$y(KL.sketch({dom:{tag:"div",classes:["tox-toolbar__overflow"]},toolbarBehaviours:Yu([Fv.config({mode:"cyclic",onEscape:function(){return ai(e.moreDrawerData.lazyToolbar(),"alloy.toolbar.toggle"),Fv.focusIn(e.moreDrawerData.lazyMoreButton()),b.some(!0)}})])})),r=function(t){return e.getSink().toOption().bind(function(r){return n.getOpt(r).bind(function(n){return oP.getMoreButton(t).bind(function(t){return n.getSystem().isConnected()?(jf.position(r,e.backstage.shared.anchors.toolbarOverflow(),n),b.some(n)):b.none()})})})},o=oP.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=e.moreDrawerData.floating?[o]:[o,oP.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}})];return oP.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},floating:e.moreDrawerData.floating,overflow:r,parts:{"overflow-group":aP({title:b.none(),items:[]}),"overflow-button":WI({name:"more",icon:b.some("more-drawer"),disabled:!1,tooltip:b.some("More...")},b.none(),e.backstage.shared.providers)},components:a,markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},splitToolbarBehaviours:sP(e,t,b.some(n))})},cP=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return KL.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"]},components:[KL.parts().groups({})],toolbarBehaviours:sP(e,t,b.none())})},lP=[Xa("disabled",!1),ja("tooltip"),ja("icon"),ja("text"),Ga("onSetup",function(){return t})],dP=ta([Na("type"),Aa("onAction")].concat(lP)),fP=function(e){return ga("toolbarbutton",dP,e)},mP=ta([Na("type"),ja("tooltip"),ja("icon"),ja("text"),Aa("fetch"),Ga("onSetup",function(){return t})]),pP=function(e){return ga("menubutton",mP,e)},hP=ta([Na("type"),ja("tooltip"),ja("icon"),ja("text"),Ha("select"),Aa("fetch"),Ga("onSetup",function(){return t}),Ya("presets","normal",["normal","color","listpreview"]),Ua("columns",1),Aa("onAction"),Aa("onItemAction")]),gP=function(e){return ga("SplitButton",hP,e)},vP=[Xa("active",!1)].concat(lP),bP=ta(vP.concat([Na("type"),Aa("onAction")])),yP=function(e){return ga("ToggleButton",bP,e)},wP=[Ga("predicate",function(){return!1}),Ya("scope","node",["node","editor"]),Ya("position","selection",["node","selection","line"])],xP=lP.concat([Ua("type","contextformbutton"),Ua("primary",!1),Aa("onAction"),Qa("original",a)]),CP=vP.concat([Ua("type","contextformbutton"),Ua("primary",!1),Aa("onAction"),Qa("original",a)]),SP=lP.concat([Ua("type","contextformbutton")]),kP=vP.concat([Ua("type","contextformtogglebutton")]),_P=wa("type",{contextformbutton:xP,contextformtogglebutton:CP}),TP=ta([Ua("type","contextform"),Ga("initValue",function(){return""}),ja("label"),Pa("commands",_P),Fa("launch",wa("type",{contextformbutton:SP,contextformtogglebutton:kP}))].concat(wP)),OP=ta([Ua("type","contexttoolbar"),Na("items")].concat(wP)),EP=function(e){return ga("ContextToolbar",OP,e)},DP=function(e){return ga("ContextForm",TP,e)},RP=no("toolbar.button.execute"),NP=function(e){return Li(function(t,n){$x(e,t)(function(n){ii(t,RP,{buttonApi:n}),e.onAction(n)})})},IP={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},AP=function(e,t,n){return n},MP=Object.freeze({getState:AP}),BP=function(e,t){var n=function(n,r){e.updateState.each(function(e){var o=e(n,r);t.set(o)}),e.renderComponents.each(function(e){var o=e(r,t.get());Kf(n),A(o,function(e){$f(n,n.getSystem().build(e))})})};return yi([Si(nn(),function(t,r){var o=e.channel;D(r.channels(),o)&&n(t,r.data())}),Ai(function(t,r){e.initialData.each(function(e){n(t,e)})})])},LP=Object.freeze({events:BP}),PP=function(e){var t=Fe(b.none()),n=function(e){return t.set(e)},r=function(){return t.set(b.none())},o=function(){return t.get()},a=function(){return t.get().getOr("none")};return{readState:a,get:o,set:n,clear:r}},zP=Object.freeze({init:PP}),FP=[Ea("channel"),za("renderComponents"),za("updateState"),za("initialData")],jP=Gu({fields:FP,name:"reflecting",active:LP,apis:MP,state:zP}),HP=o([Ea("toggleClass"),Ea("fetch"),Lu("onExecute"),Ua("getHotspot",b.some),Ua("layouts",b.none()),Lu("onItemExecute"),za("lazySink"),Ea("dom"),Mu("onOpen"),Cm("splitDropdownBehaviours",[kk,Fv,Mb]),Ua("matchWidth",!1),Ua("useMinWidth",!1),Ua("eventOrder",{}),za("role")].concat(u_())),VP=Zm({factory:Vy,schema:[Ea("dom")],name:"arrow",defaults:function(e){return{buttonBehaviours:Yu([Mb.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(si)},buttonBehaviours:Yu([ey.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),$P=Zm({factory:Vy,schema:[Ea("dom")],name:"button",defaults:function(e){return{buttonBehaviours:Yu([Mb.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),UP=o([VP,$P,tp({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Ea("text")],name:"aria-descriptor"}),ep({schema:[Nu()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(r){e.onItemExecute(r,t,n)})}}}}),Hk()]),qP=function(e,n,r,o){var a=function(e){zp.getCurrent(e).each(function(e){ih.highlightFirst(e),Fv.focusIn(e)})},i=function(n){var r=a;Kk(e,function(e){return e},n,o,r,ZS.HighlightFirst).get(t)},s=function(e){return i(e),b.some(!0)},u=function(t){var n=hp(t,e,"button");return si(n),b.some(!0)},c=Ee(yi([Ai(function(t,n){var r=pp(t,e,"aria-descriptor");r.each(function(e){var n=no("aria");Ar(e.element(),"id",n),Ar(t.element(),"aria-describedby",n)})})]),jy(b.some(i)));return{uid:e.uid,dom:e.dom,components:n,eventOrder:oo({},e.eventOrder,{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:c,behaviours:km(e.splitDropdownBehaviours,[kk.config({others:{sandbox:function(t){var n=hp(t,e,"arrow"),r={onOpen:function(){ey.on(n),ey.on(t)},onClose:function(){ey.off(n),ey.off(t)}};return Gk(e,t,r)}}}),Fv.config({mode:"special",onSpace:u,onEnter:u,onDown:s}),Mb.config({}),ey.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},WP=Ap({name:"SplitDropdown",configFields:HP(),partFields:UP(),factory:qP}),KP=function(e){return{isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},YP=function(e){return{setActive:function(t){ey.set(e,t)},isActive:function(){return ey.isOn(e)},isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)}}},XP=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},GP=no("focus-button"),JP=function(e,t,n,r,o,a){var i;return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:XP(n,a)},components:Xx([e.map(function(e){return HI(e,a.icons)}),t.map(function(e){return $I(e,"tox-tbtn",a)})]),eventOrder:(i={},i[We()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Yu([uy("common-button-display-events",[Si(We(),function(e,t){t.event().prevent(),ai(e,GP)})])].concat(r.map(function(n){return jP.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return Xx([e.icon.map(function(e){return HI(e,a.icons)}),e.text.map(function(e){return $I(e,"tox-tbtn",a)})])}})}).toArray()).concat(o.getOr([])))}},QP=function(e,n,r){var o=Fe(t),a=JP(e.icon,e.text,e.tooltip,b.none(),b.none(),r);return Vy.sketch({dom:a.dom,components:a.components,eventOrder:IP,buttonBehaviours:Yu([uy("toolbar-button-events",[NP({onAction:e.onAction,getApi:n.getApi}),Ux(n,o),qx(n,o)]),Vx.button(e.disabled)].concat(n.toolbarButtonBehaviours))})},ZP=function(e,t){return ez(e,t,[])},ez=function(e,t,n){return QP(e,{toolbarButtonBehaviours:[].concat(n.length>0?[uy("toolbarButtonWith",n)]:[]),getApi:KP,onSetup:e.onSetup},t)},tz=function(e,t){return nz(e,t,[])},nz=function(e,t,n){return Oe(QP(e,{toolbarButtonBehaviours:[Gv.config({}),ey.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[uy("toolbarToggleButtonWith",n)]:[]),getApi:YP,onSetup:e.onSetup},t))},rz=function(e,t,n){return function(r){return Fk.nu(function(e){return t.fetch(e)}).map(function(o){return b.from(KC(Oe(qC(no("menu-value"),o,function(n){t.onItemAction(e(r),n)},t.columns,t.presets,Wx.CLOSE_ON_EXECUTE,t.select.getOr(function(){return!1}),n),{movement:NC(t.columns,t.presets),menuBehaviours:Aw.unnamedEvents("auto"!==t.columns?[]:[Ai(function(e,n){Rw(e,4,ux(t.presets)).each(function(t){var n=t.numRows,r=t.numColumns;Fv.setGridSize(e,n,r)})})])})))})}},oz=function(e,n){var r,o=no("channel-update-split-dropdown-display"),a=function(e){return{isDisabled:function(){return zx.isDisabled(e)},setDisabled:function(t){return t?zx.disable(e):zx.enable(e)},setIconFill:function(t,n){wu(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Ar(e,"fill",n)})},setIconStroke:function(t,n){wu(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Ar(e,"stroke",n)})},setActive:function(t){Ar(e.element(),"aria-pressed",t),wu(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return ey.set(e,t)})})},isActive:function(){return wu(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(ey.isOn)})}}},i=Fe(t),s={getApi:a,onSetup:e.onSetup};return WP.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:Ee({"aria-pressed":!1},XP(e.tooltip,n.providers))},onExecute:function(t){e.onAction(a(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Yu([Vx.splitButton(!1),uy("split-dropdown-events",[Si(GP,Mb.focus),Ux(s,i),qx(s,i)])]),eventOrder:(r={},r[pn()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:rz(a,e,n.providers),parts:{menu:RC(!1,e.columns,e.presets)},components:[WP.parts().button(JP(e.icon,e.text,b.none(),b.some(o),b.some([ey.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),WP.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:qy("chevron-down",n.providers.icons)}}),WP.parts()["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},az=function(e){return{hide:function(){return ai(e,cn())},getValue:function(){return _b.getValue(e)}}},iz=function(e,t){return Si(RP,function(n,r){var o=e.get(n),a=az(o);t.onAction(a,r.event().buttonApi())})},sz=function(e,t,n){var r=t.original,o=(r.primary,ao(r,["primary"])),a=va(fP(oo({},o,{type:"button",onAction:function(){}})));return ez(a,n.backstage.shared.providers,[iz(e,t)])},uz=function(e,t,n){var r=t.original,o=(r.primary,ao(r,["primary"])),a=va(yP(oo({},o,{type:"togglebutton",onAction:function(){}})));return nz(a,n.backstage.shared.providers,[iz(e,t)])},cz=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?uz(e,t,r):sz(e,t,r)},lz=function(e,t,n){var r=I(t,function(t){return $y(cz(e,t,n))}),o=function(){return I(r,function(e){return e.asSpec()})},a=function(e){return He(t,function(t,n){return t.primary?b.from(r[n]).bind(function(t){return t.getOpt(e)}).filter(u(zx.isDisabled)):b.none()})};return{asSpecs:o,findPrimary:a}},dz=function(e,t){var n=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),r=$y(N_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Yu([Fv.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map(function(e){return si(e),!0})},onLeft:function(e,t){return t.cut(),b.none()},onRight:function(e,t){return t.cut(),b.none()}})])})),o=lz(r,e.commands,t.shared.providers);return cP({uid:no("context-toolbar"),initGroups:[{title:b.none(),items:[r.asSpec()]},{title:b.none(),items:o.asSpecs()}],onEscape:b.none,cyclicKeying:!0,backstage:t,getSink:function(){return ye.error("")}})},fz={renderContextForm:dz},mz=no("forward-slide"),pz=no("backward-slide"),hz=no("change-slide-event"),gz="tox-pop--resizing",vz=function(e){var t=Fe([]);return Fy.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),Fy.getContent(e).each(function(e){eu(e.element(),"visibility")}),js(e.element(),gz),eu(e.element(),"width")},inlineBehaviours:Yu([uy("context-toolbar-events",[Ii(ot(),function(e,t){Fy.getContent(e).each(function(e){}),js(e.element(),gz),eu(e.element(),"width")}),Si(hz,function(e,t){eu(e.element(),"width");var n=yc(e.element());Fy.setContent(e,t.event().contents()),zs(e.element(),gz);var r=yc(e.element());Ks(e.element(),"width",n+"px"),Fy.getContent(e).each(function(n){t.event().focus().bind(function(t){return Oh(t),Nh(e.element())}).orThunk(function(){return Fv.focusIn(n),Rh()})}),Jy.setTimeout(function(){Ks(e.element(),"width",r+"px")},0)}),Si(mz,function(e,n){Fy.getContent(e).each(function(e){t.set(t.get().concat([{bar:e,focus:Rh()}]))}),ii(e,hz,{contents:n.event().forwardContents(),focus:b.none()})}),Si(pz,function(e,n){Q(t.get()).each(function(n){t.set(t.get().slice(0,t.get().length-1)),ii(e,hz,{contents:vu(n.bar),focus:n.focus})})})]),Fv.config({mode:"special",onEscape:function(n){return Q(t.get()).fold(function(){return e.onEscape()},function(e){return ai(n,pz),b.some(!0)})}})]),lazySink:function(){return ye.value(e.sink)}})},bz=function(e,t,n){var r=e.dom(),a=_(n)?n:o(!1);while(r.parentNode){r=r.parentNode;var i=En.fromDom(r),s=t(i);if(s.isSome())return s;if(a(i))break}return b.none()},yz=function(e,t){return He(t,function(t){return t.predicate(e.dom())?b.some({toolbarApi:t,elem:e}):b.none()})},wz=function(e,t){var n=function(e){return e.dom()===t.getBody()},r=En.fromDom(t.selection.getNode());return yz(r,e.inNodeScope).orThunk(function(){return yz(r,e.inEditorScope).orThunk(function(){return bz(r,function(t){return yz(t,e.inNodeScope)},n)})})},xz={lookup:wz},Cz=function(e,t){var n={},r=[],o=[],a={},i={},s=function(e,s){var u=va(DP(s));n[e]=u,u.launch.map(function(n){a["form:"+e]=oo({},s.launch,{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(u)}})}),"editor"===u.scope?o.push(u):r.push(u),i[e]=u},u=function(e,t){EP(t).each(function(n){"editor"===t.scope?o.push(n):r.push(n),i[e]=n})},c=ee(e);return A(c,function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&u(t,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}},Sz={categorise:Cz},kz=no("update-menu-text"),_z=no("update-menu-icon"),Tz=function(e,t,n){var r=e.text.map(function(e){return $y($I(e,t,n.providers))}),o=e.icon.map(function(e){return $y(VI(e,n.providers.icons))}),a=function(e,t){var n=_b.getValue(e);return Mb.focus(n),ii(n,"keydown",{raw:t.event().raw()}),ZT.close(n),b.some(!0)},i=e.role.fold(function(){return{}},function(e){return{role:e}}),s=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}}),u=$y(ZT.sketch(oo({},i,{dom:{tag:"button",classes:[t,t+"--select"].concat(I(e.classes,function(e){return t+"--"+e})),attributes:oo({},s)},components:Xx([o.map(function(e){return e.asSpec()}),r.map(function(e){return e.asSpec()}),b.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:qy("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Yu([Vx.button(e.disabled),rO.config({}),Gv.config({}),uy("menubutton-update-display-text",[Ai(e.onAttach),Mi(e.onDetach),Si(kz,function(e,t){r.bind(function(t){return t.getOpt(e)}).each(function(e){Gv.set(e,[mu(n.providers.translate(t.event().text()))])})}),Si(_z,function(e,t){o.bind(function(t){return t.getOpt(e)}).each(function(e){Gv.set(e,[VI(t.event().icon(),n.providers.icons)])})})])]),eventOrder:Oe(IP,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Yu([Fv.config({mode:"special",onLeft:a,onRight:a})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:RC(!1,e.columns,e.presets)},fetch:function(){return Fk.nu(e.fetch)}})));return u.asSpec()},Oz=function(e,t){return function(n){var r=Fe(b.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(b.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each(function(e){return e()})}}},Ez=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},Dz=function(e,t,n){var r=function(e,r,a){var i=t.shared.providers.translate(e.title);if("separator"===e.type)return b.some({type:"separator",text:i});if("submenu"===e.type){var s=U(e.getStyleItems(),function(e){return o(e,r)});return 0===r&&s.length<=0?b.none():b.some({type:"nestedmenuitem",text:i,disabled:s.length<=0,getSubmenuItems:function(){return U(e.getStyleItems(),function(e){return o(e,r)})}})}return b.some(oo({type:"togglemenuitem",text:i,active:e.isSelected(),disabled:a,onAction:n.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})))},o=function(e,t){var o="formatter"===e.type&&n.isInvalid(e);return 0===t?o?[]:r(e,t,!1).toArray():r(e,t,o).toArray()},a=function(e){var t=n.shouldHide?0:1;return U(e,function(e){return o(e,t)})},i=function(e,t){return function(n){var r=t(),o=a(r),i=O_(o,Wx.CLOSE_ON_EXECUTE,e.shared.providers);n(i)}};return{validateItems:a,getFetch:i}},Rz=function(e,t,n,r){var o="basic"===n.type?function(){return I(n.data,function(e){return dB(e,r.isSelectedFor,r.getPreviewFor)})}:n.getData;return{items:Dz(e,t,r),getStyleItems:o}},Nz=function(e,n,r,o){var a=Rz(e,n,r,o),i=a.items,s=a.getStyleItems,u=Fe(void 0),c=o.nodeChangeHandler.map(function(t){return function(n){var r=t(n);u.set(r),e.on("nodeChange",r)}}).getOr(t),l=o.nodeChangeHandler.map(function(t){return function(t){var n=u.get();void 0!==n&&e.off("nodeChange",n)}}).getOr(t);return Tz({text:o.icon.isSome()?b.none():b.some(""),icon:o.icon,tooltip:b.from(o.tooltip),role:b.none(),fetch:i.getFetch(n,s),onAttach:c,onDetach:l,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"]},"tox-tbtn",n.shared)},Iz=function(e){return I(e,function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})},Az=function(e){return{type:"basic",data:e}};(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})(WA||(WA={}));var Mz,Bz=function(e,t){return t===WA.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},Lz=function(e,t,n,r){var o=Ie(e.settings,t).getOr(n),a=Iz(Bz(o,r));return{type:"basic",data:a}},Pz=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],zz=function(e){var t=function(){return F(Pz,function(t){return e.formatter.match(t.format)})},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return b.none()}},o=b.some(function(e){return function(){var n=t(),r=n.fold(function(){return"left"},function(e){return e.title.toLowerCase()});ii(e,_z,{icon:"align-"+r})}}),a=Az(Pz);return{tooltip:"Align",icon:b.some("align-left"),isSelectedFor:n,getPreviewFor:r,onAction:Ez(e),nodeChangeHandler:o,dataset:a,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},Fz=function(e,t){var n=zz(e);return Nz(e,t,n.dataset,n)},jz=function(e,t){var n=zz(e),r=Rz(e,t,n.dataset,n);e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},Hz="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Vz=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],$z=function(e){var t=function(){var t=e.toLowerCase().split(/['"]?\s*,\s*['"]?/);return q(Vz,function(e){return t.indexOf(e.toLowerCase())>-1})};return 0===e.indexOf("-apple-system")&&t()},Uz=function(e){var t=function(){var t=function(e){return e?e.split(",")[0]:""},n=e.queryCommandValue("FontName"),r=i.data,o=n?n.toLowerCase():"";return F(r,function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()}).orThunk(function(){return $z(o)?b.from({title:"System Font",format:o}):b.none()})},n=function(e){return function(){return t().exists(function(t){return t.format===e})}},r=function(e){return function(){return b.some({tag:"div",styleAttr:-1===e.indexOf("dings")?"font-family:"+e:""})}},o=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},a=b.some(function(n){return function(){var r=e.queryCommandValue("FontName"),o=t(),a=o.fold(function(){return r},function(e){return e.title});ii(n,kz,{text:a})}}),i=Lz(e,"font_formats",Hz,WA.SemiColon);return{tooltip:"Fonts",icon:b.none(),isSelectedFor:n,getPreviewFor:r,onAction:o,nodeChangeHandler:a,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},qz=function(e,t){var n=Uz(e);return Nz(e,t,n.dataset,n)},Wz=function(e,t){var n=Uz(e),r=Rz(e,t,n.dataset,n);e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},Kz="8pt 10pt 12pt 14pt 18pt 24pt 36pt",Yz=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Xz=function(e,t){return/[0-9.]+px$/.test(e)?Yz(72*parseInt(e,10)/96,t||0)+"pt":e},Gz=function(e){var t=function(){var t=b.none(),n=i.data,r=e.queryCommandValue("FontSize");if(r)for(var o=function(e){var o=Xz(r,e);t=F(n,function(e){return e.format===r||e.format===o})},a=3;t.isNone()&&a>=0;a--)o(a);return{matchOpt:t,px:r}},n=function(e){return function(){var n=t().matchOpt;return n.exists(function(t){return t.format===e})}},r=function(){return function(){return b.none()}},o=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},a=b.some(function(e){return function(){var n=t(),r=n.matchOpt,o=n.px,a=r.fold(function(){return o},function(e){return e.title});ii(e,kz,{text:a})}}),i=Lz(e,"fontsize_formats",Kz,WA.Space);return{tooltip:"Font sizes",icon:b.none(),isSelectedFor:n,getPreviewFor:r,onAction:o,nodeChangeHandler:a,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},Jz=function(e,t){var n=Gz(e);return Nz(e,t,n.dataset,n)},Qz=function(e,t){var n=Gz(e),r=Rz(e,t,n.dataset,n);e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},Zz=function(e,t,n){var r=n.parents,o=t();return He(r,function(t){return F(o,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?b.some({title:"Paragraph",format:"p"}):b.none()})},eF="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",tF=function(e){var t=function(t){return Zz(e,function(){return a.data},t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)})}},o=b.some(function(e){return function(n){var r=t(n),o=r.fold(function(){return"Paragraph"},function(e){return e.title});ii(e,kz,{text:o})}}),a=Lz(e,"block_formats",eF,WA.SemiColon);return{tooltip:"Blocks",icon:b.none(),isSelectedFor:n,getPreviewFor:r,onAction:Ez(e),nodeChangeHandler:o,dataset:a,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},nF=function(e,t){var n=tF(e);return Nz(e,t,n.dataset,n)},rF=function(e,t){var n=tF(e),r=Rz(e,t,n.dataset,n);e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},oF=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styleAttr:e.formatter.getCssText(t)}):b.none()}},r=b.some(function(t){var n=function(e){var t=e.items;return void 0!==t&&t.length>0?U(t,n):[{title:e.title,format:e.format}]},r=U(lB(e),n);return function(n){var o=Zz(e,function(){return r},n),a=o.fold(function(){return"Paragraph"},function(e){return e.title});ii(t,kz,{text:a})}});return{tooltip:"Formats",icon:b.none(),isSelectedFor:t,getPreviewFor:n,onAction:Ez(e),nodeChangeHandler:r,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)}}},aF=function(e,t){var n=t.styleselect;return Nz(e,t,n,oF(e))},iF=function(e,t){var n=t.styleselect,r=Rz(e,t,n,oF(e));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},sF="file edit view insert format tools table help",uF={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable tableprops deletetable row column cell"},help:{title:"Help",items:"help"}},cF=function(e,t,n,r){return Tz({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch(function(e){t(O_(e,Wx.CLOSE_ON_EXECUTE,n.providers))})},onAttach:function(){},onDetach:function(){},columns:1,presets:"normal",classes:[]},t,n)},lF=function(e,t,n){var r=XS(n).split(/[ ,]/);return{text:e.title,getItems:function(){return U(e.items,function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:R(r,function(e){return e===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]})}}},dF=function(e){return"string"===typeof e?e.split(" "):e},fF=function(e,t){var n=Ee(uF,t.menus),r=ee(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?dF(sF):dF(!1===t.menubar?"":t.menubar),a=L(o,function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||uF.hasOwnProperty(e)}),i=I(a,function(r){var o=n[r];return lF({title:o.title,items:dF(o.items)},t,e)});return L(i,function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&R(e.getItems(),t)})},mF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],pF=function(e,t){return function(n,o){var a=e(n).fold(r(ye.error,ya),ye.value).getOrDie();return t(a,o)}},hF={button:pF(fP,function(e,t){return ZP(e,t.backstage.shared.providers)}),togglebutton:pF(yP,function(e,t){return tz(e,t.backstage.shared.providers)}),menubutton:pF(pP,function(e,t){return cF(e,"tox-tbtn",t.backstage.shared,b.none())}),splitbutton:pF(gP,function(e,t){return oz(e,t.backstage.shared)}),styleSelectButton:function(e,t){return aF(e,t.backstage)},fontsizeSelectButton:function(e,t){return Jz(e,t.backstage)},fontSelectButton:function(e,t){return qz(e,t.backstage)},formatButton:function(e,t){return nF(e,t.backstage)},alignMenuButton:function(e,t){return Fz(e,t.backstage)}},gF=function(t,n){return ue(hF,t.type).fold(function(){return e.console.error("skipping button defined by",t),b.none()},function(e){return b.some(e(t,n))})},vF={styleselect:hF.styleSelectButton,fontsizeselect:hF.fontsizeSelectButton,fontselect:hF.fontSelectButton,formatselect:hF.formatButton,align:hF.alignMenuButton},bF=function(e){var t=I(mF,function(t){var n=L(t.items,function(t){return ce(e,t)||ce(vF,t)});return{name:t.name,items:n}});return L(t,function(e){return e.items.length>0})},yF=function(e){var t=e.split("|");return I(t,function(e){return{items:e.trim().split(" ")}})},wF=function(e){return!1===e.toolbar?[]:void 0===e.toolbar||!0===e.toolbar?bF(e.buttons):x(e.toolbar)?yF(e.toolbar):S(e.toolbar)&&x(e.toolbar[0])?yF(e.toolbar.join(" | ")):e.toolbar},xF=function(e,t,n,r,o){return ue(t,n.toLowerCase()).orThunk(function(){return o.bind(function(e){return He(e,function(e){return ue(t,e+n.toLowerCase())})})}).fold(function(){return ue(vF,n.toLowerCase()).map(function(t){return t(e,r)}).orThunk(function(){return b.none()})},function(e){return gF(e,r)})},CF=function(e,t,n,r){var o=wF(t),a=I(o,function(o){var a=U(o.items,function(o){return 0===o.trim().length?[]:xF(e,t.buttons,o,n,r).toArray()});return{title:b.from(e.translate(o.name)),items:a}});return L(a,function(e){return e.items.length>0})},SF=function(e,t,n,r){var o=gu(vz({sink:n,onEscape:function(){return e.focus(),b.some(!0)}})),a=function(){return b.some(En.fromDom(e.contentAreaContainer))};e.on("init",function(){var t=e.getBody().ownerDocument.defaultView,r=oS(En.fromDom(t),"scroll",function(){i.get().each(function(t){var r=s.get().getOr(e.selection.getNode()),i=r.getBoundingClientRect(),u=e.contentAreaContainer.getBoundingClientRect(),c=i.bottom<0,l=i.top>u.height;c||l?Ks(o.element(),"display","none"):(eu(o.element(),"display"),jf.positionWithin(n,t,o,a()))})});e.on("remove",function(){r.unbind()})});var i=Fe(b.none()),s=Fe(b.none()),u=Fe(null),c=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Yu([Fv.config({mode:"acyclic"}),uy("pop-dialog-wrap-events",[Ai(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return Fv.focusIn(t)})}),Mi(function(t){e.shortcuts.remove("ctrl+F9")})])])}},l=it(function(){return Sz.categorise(t,function(e){var t=d(e);ii(o,mz,{forwardContents:c(t)})})}),d=function(t){var n=e.ui.registry.getAll().buttons,o=l();return"contexttoolbar"===t.type?function(){var a=Ee(n,o.formNavigators),i=CF(e,{buttons:a,toolbar:t.items},r,b.some(["form:"]));return cP({uid:no("context-toolbar"),initGroups:i,onEscape:b.none,cyclicKeying:!0,backstage:r.backstage,getSink:function(){return ye.error("")}})}():function(){return fz.renderContextForm(t,r.backstage)}()};e.on(aL,function(t){var n=l();Ie(n.lookupTable,t.toolbarKey).each(function(n){v(n,t.target===e?b.none():b.some(t)),Fy.getContent(o).each(Fv.focusIn)})});var f={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},m={maxHeightFunction:hl()},p={bubble:xl(12,0,f),layouts:{onLtr:function(){return[zl]},onRtl:function(){return[Fl]}},overrides:m},h={bubble:xl(0,12,f),layouts:{onLtr:function(){return[Ll,Pl,Ml,Il,Bl,Al]},onRtl:function(){return[Ll,Pl,Bl,Al,Ml,Il]}},overrides:m},g=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor(),o=Oe(n,"line"===e?p:h);return o},v=function(e,t){w();var n=d(e),r=t.map(En.fromDom),u=g(e.position,r);i.set(b.some(u)),s.set(t),Fy.showWithin(o,u,c(n),a()),eu(o.element(),"display")},y=function(){var t=l();xz.lookup(t,e).fold(function(){i.set(b.none()),Fy.hide(o)},function(e){v(e.toolbarApi,b.some(e.elem.dom()))})},w=function(){var e=u.get();null!==e&&(Jy.clearTimeout(e),u.set(null))},x=function(e){w(),u.set(e)};e.on("init",function(){e.on("click keyup setContent ObjectResized ResizeEditor",function(t){x(Jy.setEditorTimeout(e,y,0))}),e.on("focusout",function(t){Jy.setEditorTimeout(e,function(){Nh(n.element()).isNone()&&Nh(o.element()).isNone()&&(i.set(b.none()),Fy.hide(o))},0)}),e.on("nodeChange",function(t){Nh(o.element()).fold(function(){x(Jy.setEditorTimeout(e,y,0))},function(e){})})})},kF={register:SF},_F=function(t,n,r){var o=oS(En.fromDom(e.document),"mousedown",function(e){A([n,r],function(t){t.broadcastOn([vm()],{target:e.target()})})}),a=oS(En.fromDom(e.document),"touchstart",function(e){A([n,r],function(t){t.broadcastOn([vm()],{target:e.target()})})}),i=oS(En.fromDom(e.document),"mouseup",function(e){0===e.raw().button&&A([n,r],function(t){t.broadcastOn([bm()],{target:e.target()})})}),s=function(e){A([n,r],function(t){t.broadcastOn([vm()],{target:En.fromDom(e.target)})})};t.on("mousedown",s),t.on("touchstart",s);var u=function(e){0===e.button&&A([n,r],function(t){t.broadcastOn([bm()],{target:En.fromDom(e.target)})})};t.on("mouseup",u);var c=function(e){A([n,r],function(t){t.broadcastEvent(fn(),e)})};t.on("ScrollWindow",c);var l=function(e){A([n,r],function(t){t.broadcastEvent(mn(),e)})};t.on("ResizeWindow",l),t.on("remove",function(){t.off("mousedown",s),t.off("touchstart",s),t.off("mouseup",u),t.off("ResizeWindow",l),t.off("ScrollWindow",c),o.unbind(),a.unbind(),i.unbind()}),t.on("detach",function(){Jf(n),Jf(r),n.destroy(),r.destroy()})},TF={setup:_F},OF=Cp,EF=op,DF=function(e,t){var n=function(t,n){var r=I(n,function(t){var n={text:b.some(t.text),icon:b.none(),tooltip:b.none(),fetch:function(e){e(t.getItems())}};return cF(n,"tox-mbtn",{getSink:e.getSink,providers:e.providers},b.some("menuitem"))});Gv.set(t,r)},r={focus:Fv.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Yu([Gv.config({}),uy("menubar-events",[Ai(function(t){e.onSetup(t)}),Si(Ge(),function(e,t){wu(e.element(),".tox-mbtn--active").each(function(n){xu(t.event().target(),".tox-mbtn").each(function(t){nr(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){ZT.expand(e),ZT.close(n),Mb.focus(e)})})})})}),Si(vn(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){ZT.isOpen(n)&&(ZT.expand(e),ZT.close(n))})})})]),Fv.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),b.some(!0)}}),eT.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},RF=Ip({factory:DF,name:"silver.Menubar",configFields:[Ea("dom"),Ea("uid"),Ea("onEscape"),Ea("getSink"),Ea("providers"),Ua("onSetup",t)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),NF="container",IF=[Cm("slotBehaviours",[])],AF=function(e){return"<alloy.field."+e+">"},MF=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),cp(NF,AF(t),n)};return{slot:t,record:function(){return e}}}(),n=e(t),r=t.record(),o=I(r,function(e){return Zm({name:e,pname:AF(e)})});return Tp(NF,IF,o,BF,n)},BF=function(e,t,n){var r=function(t){return bp(e)},o=function(t,n){return pp(t,e,n)},a=function(t,n){return void 0===n&&(n=void 0),function(r,o){return pp(r,e,o).map(function(e){return t(e,o)}).getOr(n)}},i=function(e){return function(t,n){A(n,function(n){return e(t,n)})}},s=function(e,t){return"true"!==Br(e.element(),"aria-hidden")},u=function(e,t){if(!s(e,t)){var n=e.element();eu(n,"display"),Pr(n,"aria-hidden"),ii(e,bn(),{name:t,visible:!0})}},c=function(e,t){if(s(e,t)){var n=e.element();Ks(n,"display","none"),Ar(n,"aria-hidden","true"),ii(e,bn(),{name:t,visible:!1})}},l=a(s,!1),d=a(c),f=i(d),m=function(e){return f(e,r(e))},p=a(u),h={getSlotNames:r,getSlot:o,isShowing:l,hideSlot:d,hideAllSlots:m,showSlot:p};return{uid:e.uid,dom:e.dom,components:t,behaviours:Sm(e.slotBehaviours),apis:h}},LF=re({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},os),PF=oo({},LF,{sketch:MF}),zF=ta([ja("icon"),ja("tooltip"),Ga("onShow",t),Ga("onHide",t),Ga("onSetup",function(){return t})]),FF=function(e){return ga("sidebar",zF,e)},jF=function(e){var t=e.ui.registry.getAll().sidebars;A(ee(t),function(n){var r=t[n],o=function(){return b.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})})},HF=function(e){return{element:function(){return e.element().dom()}}},VF=function(e,n){var r=I(ee(n),function(e){var t=n[e],r=va(FF(t));return{name:e,getApi:HF,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return I(r,function(n){var o=Fe(t);return e.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Aw.unnamedEvents([Ux(n,o),qx(n,o),Si(bn(),function(e,t){var n=t.event(),o=F(r,function(e){return e.name===n.name()});o.each(function(t){var r=n.visible()?t.onShow:t.onHide;r(t.getApi(e))})})])})})},$F=function(e){return PF.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:VF(t,e),slotBehaviours:Aw.unnamedEvents([Ai(function(e){return PF.hideAllSlots(e)})])}})},UF=function(e,t){var n=zp.getCurrent(e);n.each(function(e){return Gv.set(e,[$F(t)])})},qF=function(e,t){var n=zp.getCurrent(e);n.each(function(e){var n=zp.getCurrent(e);n.each(function(n){VL.hasGrown(e)?PF.isShowing(n,t)?VL.shrink(e):(PF.hideAllSlots(n),PF.showSlot(n,t)):(PF.hideAllSlots(n),PF.showSlot(n,t),VL.grow(e))})})},WF=function(e){var t=zp.getCurrent(e);return t.bind(function(e){var t=VL.isGrowing(e)||VL.hasGrown(e);if(t){var n=zp.getCurrent(e);return n.bind(function(e){return F(PF.getSlotNames(e),function(t){return PF.isShowing(e,t)})})}return b.none()})},KF=no("FixSizeEvent"),YF=no("AutoSizeEvent"),XF=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Yu([eT.config({}),Mb.config({}),VL.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=zp.getCurrent(e);t.each(PF.hideAllSlots),ai(e,YF)},onGrown:function(e){ai(e,YF)},onStartGrow:function(e){ii(e,KF,{width:Qs(e.element(),"width").getOr("")})},onStartShrink:function(e){ii(e,KF,{width:yc(e.element())+"px"})}}),Gv.config({}),zp.config({find:function(e){var t=Gv.contents(e);return J(t)}})])}],behaviours:Yu([vR.childAt(0),uy("sidebar-sliding-events",[Si(KF,function(e,t){Ks(e.element(),"width",t.event().width())}),Si(YF,function(e,t){eu(e.element(),"width")})])])}},GF=function(e,t,n){var r={getSocket:function(t){return OF.getPart(t,e,"socket")},setSidebar:function(t,n){OF.getPart(t,e,"sidebar").each(function(e){return UF(e,n)})},toggleSidebar:function(t,n){OF.getPart(t,e,"sidebar").each(function(e){return qF(e,n)})},whichSidebar:function(t){return OF.getPart(t,e,"sidebar").bind(WF).getOrNull()},getToolbar:function(t){return OF.getPart(t,e,"toolbar")},setToolbar:function(t,n){OF.getPart(t,e,"toolbar").each(function(e){KL.setGroups(e,n)})},getMoreButton:function(t){var n=OF.getPart(t,e,"toolbar");return n.bind(function(e){return oP.getMoreButton(e)})},focusToolbar:function(t){OF.getPart(t,e,"toolbar").each(function(e){Fv.focusIn(e)})},setMenubar:function(t,n){OF.getPart(t,e,"menubar").each(function(e){RF.setMenus(e,n)})},focusMenubar:function(t){OF.getPart(t,e,"menubar").each(function(e){RF.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},JF=EF.optional({factory:RF,name:"menubar",schema:[Ea("dom"),Ea("getSink")]}),QF=EF.optional({factory:{sketch:function(e){var t=e.split===AS.sliding||e.split===AS.floating?uP:cP,n={uid:e.uid,onEscape:function(){return e.onEscape(),b.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,backstage:e.backstage,moreDrawerData:{floating:e.split===AS.floating,lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton}};return t(n)}},name:"toolbar",schema:[Ea("dom"),Ea("onEscape"),Ea("getSink")]}),ZF=EF.optional({name:"socket",schema:[Ea("dom")]}),ej=EF.optional({factory:{sketch:XF},name:"sidebar",schema:[Ea("dom")]}),tj=Ap({name:"OuterContainer",factory:GF,configFields:[Ea("dom"),Ea("behaviours")],partFields:[JF,QF,ZF,ej],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=I(n,function(e){return iP(e)});e.setToolbar(t,r)},getMoreButton:function(e,t){return e.getMoreButton(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),nj=function(e){return e.fire("SkinLoaded")},rj=function(e){return e.fire("ResizeEditor")},oj=function(e){return e.fire("BeforeRenderUI")},aj=function(e){return e.fire("ResizeContent")},ij={fireSkinLoaded:nj,fireResizeEditor:rj,fireBeforeRenderUI:oj,fireResizeContent:aj},sj=function(e){var t=function(){e._skinLoaded=!0,ij.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},uj={fireSkinLoaded:sj},cj=function(e,t){var n,r=FS(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===HS(t)&&n?PS.DOM.styleSheetLoader.load(n,uj.fireSkinLoaded(t)):uj.fireSkinLoaded(t)()},lj=i(cj,!1),dj=i(cj,!0),fj=PS.DOM,mj=function(e){return function(t){var n=e.outerContainer;er("*",n.element()).forEach(function(e){n.getSystem().getByDom(e).each(function(e){e.hasConfigured(zx)&&("readonly"===t.mode?zx.disable(e):zx.enable(e))})})}},pj=function(e,t,n,r,o){lj(e),Xf(En.fromDom(o.targetNode),t.mothership),Yf(mi(),t.uiMothership),e.on("init",function(){tj.setToolbar(t.outerContainer,CF(e,n,{backstage:r},b.none())),tj.setMenubar(t.outerContainer,fF(e,n)),tj.setSidebar(t.outerContainer,n.sidebar),e.readonly&&mj(t)({mode:"readonly"});var o=Fe(lc(0,0)),a=e.contentWindow,i=function(){var t=o.get();if(t.left()!==a.innerWidth||t.top()!==a.innerHeight){var n=lc(a.innerWidth,a.innerHeight);o.set(n),ij.fireResizeContent(e)}};fj.bind(a,"resize",i);var s=function(){fj.unbind(a,"resize",i)};e.on("remove",s)});var a=tj.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");e.on("SwitchMode",mj(t)),jS(e)&&e.setMode("readonly"),e.addCommand("ToggleSidebar",function(n,r){tj.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return tj.whichSidebar(t.outerContainer)});var i=ek(e),s=function(){var e=tj.getToolbar(t.outerContainer);e.each(oP.refresh)};return i!==AS.sliding&&i!==AS.floating||e.on("ResizeContent",s),{iframeContainer:a.element().dom(),editorContainer:t.outerContainer.element().dom()}},hj={render:pj,getBehaviours:function(e){return[]}},gj=function(e,t){return cr(e).orThunk(function(){var t=En.fromTag("span");hr(e,t);var n=cr(t);return Cr(t),n}).map(function(e){var n=mc(e);return n.translate(-t.left(),-t.top())}).getOrThunk(function(){return lc(0,0)})},vj=xe.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),bj=function(e){return function(t){return t.translate(-e.left(),-e.top())}},yj=function(e){return function(t){return t.translate(e.left(),e.top())}},wj=function(e){return function(t,n){return z(e,function(e,t){return t(e)},lc(t,n))}},xj=function(e,t,n){return e.fold(wj([yj(n),bj(t)]),wj([bj(t)]),wj([]))},Cj=function(e,t,n){return e.fold(wj([yj(n)]),wj([]),wj([yj(t)]))},Sj=function(e,t,n){return e.fold(wj([]),wj([bj(n)]),wj([yj(t),bj(n)]))},kj=function(e,t,n,r,o,a){var i=Cj(e,o,a),s=Cj(t,o,a);return Math.abs(i.left()-s.left())<=n&&Math.abs(i.top()-s.top())<=r},_j=function(e,t,n){return e.fold(function(e,t){return{position:"absolute",left:e+"px",top:t+"px"}},function(e,t){return{position:"absolute",left:e-n.left()+"px",top:t-n.top()+"px"}},function(e,t){return{position:"fixed",left:e+"px",top:t+"px"}})},Tj=function(e,t,n){return e.fold(function(e,r){return vj.offset(e+t,r+n)},function(e,r){return vj.absolute(e+t,r+n)},function(e,r){return vj.fixed(e+t,r+n)})},Oj=function(e,t,n,r){var o=function(e,o){return function(a,i){var s=e(t,n,r);return o(a.getOr(s.left()),i.getOr(s.top()))}};return e.fold(o(Sj,vj.offset),o(Cj,vj.absolute),o(xj,vj.fixed))},Ej=vj.offset,Dj=vj.absolute,Rj=vj.fixed,Nj=function(e,t){zs(e.element(),t.transitionClass),js(e.element(),t.fadeOutClass),zs(e.element(),t.fadeInClass)},Ij=function(e,t){zs(e.element(),t.transitionClass),js(e.element(),t.fadeInClass),zs(e.element(),t.fadeOutClass)},Aj=function(e,t){return e.y()<t.bottom()&&e.bottom()>t.y()},Mj=function(e,t){return e.y()>=t.y()&&e.bottom()<=t.bottom()},Bj=function(e,t){return Lr(e,t)?b.some(parseInt(Br(e,t),10)):b.none()},Lj=function(e,t){var n=e.element();return Bj(n,t.leftAttr).bind(function(r){return Bj(n,t.topAttr).map(function(t){var n=yc(e.element()),o=Cc(e.element());return jc(r,t,n,o)})})},Pj=function(e,t,n,r){var o=e.element();Ar(o,t.leftAttr,n),Ar(o,t.topAttr,r)},zj=function(e,t){var n=e.element();Pr(n,t.leftAttr),Pr(n,t.topAttr)},Fj=function(e,t,n){return Lj(e,t).bind(function(r){return Mj(r,n)?(zj(e,t),b.some(Dj(r.x(),r.y()))):b.none()})},jj=function(e,t,n,r,o){var a=mc(e.element()),i=jc(a.left(),a.top(),yc(e.element()),Cc(e.element()));if(Mj(i,n))return b.none();Pj(e,t,a.left(),a.top());var s=Dj(a.left(),a.top()),u=xj(s,r,o),c=Dj(n.x(),n.y()),l=xj(c,r,o),d=i.y()<=n.y()?l.top():l.top()+n.height()-i.height();return b.some(Rj(u.left(),d))},Hj=function(e,t,n,r,o){var a=Qs(e.element(),"position").is("fixed");return a?Fj(e,t,n):jj(e,t,n,r,o)},Vj=function(e,t,n){var r=t.lazyViewport(e);t.contextual.each(function(t){t.lazyContext(e).each(function(n){var o=Hc(n),a=Aj(o,r),i=a?Nj:Ij;i(e,t)})});var o=ir(e.element()),a=hc(o),i=gj(e.element(),a);Hj(e,t,r,a,i).each(function(t){var n=_j(t,a,i);Ys(e.element(),n)})},$j=Object.freeze({refresh:Vj}),Uj=function(e,t){return yi([Si(ot(),function(t,n){e.contextual.each(function(e){nr(t.element(),n.event().target())&&(js(t.element(),e.transitionClass),n.stop())})}),Si(fn(),function(n,r){Vj(n,e,t)})])},qj=Object.freeze({events:Uj}),Wj=function(t){var n=hc();return jc(n.left(),n.top(),e.window.innerWidth,e.window.innerHeight)},Kj=[Va("contextual",[Ea("fadeInClass"),Ea("fadeOutClass"),Ea("transitionClass"),Ea("lazyContext")]),Ua("lazyViewport",Wj),Ea("leftAttr"),Ea("topAttr")],Yj=Gu({fields:Kj,name:"docking",active:qj,apis:$j}),Xj=function(e,t,n,r,o){var a,i=PS.DOM,s=rk(e),u=ek(e),c=u===AS.sliding||u===AS.floating,l=u===AS.floating;dj(e);var d=function(t){void 0===t&&(t=0);var n=mc(En.fromDom(e.getBody()));return{top:Math.round(n.top()-Cc(a.element()))+t+"px",left:Math.round(n.left())+"px"}},f=function(e){var t=c?e.fold(function(){return 0},function(e){return e.components().length>1?Cc(e.components()[1].element()):0}):0;Ys(a.element(),d(t)),Yj.refresh(a)},m=function(){var e=tj.getToolbar(t.outerContainer);c&&e.each(oP.refresh),s||f(e)},p=function(){if(Ks(t.outerContainer.element(),"display","flex"),i.addClass(e.getBody(),"mce-edit-focus"),m(),l){var n=tj.getToolbar(t.outerContainer);n.each(function(e){var t=oP.getOverflow(e);t.each(function(e){js(e.element(),"tox-toolbar__overflow--closed")})})}},h=function(){if(t.outerContainer&&(Ks(t.outerContainer.element(),"display","none"),i.removeClass(e.getBody(),"mce-edit-focus"),l)){var n=tj.getToolbar(t.outerContainer);n.each(function(e){var t=oP.getOverflow(e);t.each(function(e){zs(e.element(),"tox-toolbar__overflow--closed")})})}},g=function(){if(a)p();else{a=t.outerContainer;var o=ok(e);Yf(o,t.mothership),Yf(o,t.uiMothership),tj.setToolbar(t.outerContainer,CF(e,n,{backstage:r},b.none())),tj.setMenubar(t.outerContainer,fF(e,n)),s||Ks(a.element(),"position","absolute"),m(),p(),e.on("nodeChange ResizeWindow",m),e.on("activate",p),e.on("deactivate",h),e.nodeChanged()}};return e.on("focus",g),e.on("blur hide",h),e.on("init",function(){e.hasFocus()&&g()}),{editorContainer:t.outerContainer.element().dom()}},Gj=function(e){return rk(e)?[]:[Yj.config({leftAttr:"data-dock-left",topAttr:"data-dock-top",contextual:{lazyContext:function(t){return b.from(e).map(function(e){return En.fromDom(e.getBody())})},fadeInClass:"tox-toolbar-dock-fadein",fadeOutClass:"tox-toolbar-dock-fadeout",transitionClass:"tox-toolbar-dock-transition"}}),Mb.config({})]},Jj={render:Xj,getBehaviours:Gj},Qj=function(e,t){return{anchor:"makeshift",x:e,y:t}},Zj=function(e,t,n){return Qj(e.x+t,e.y+n)},eH=function(e){return Qj(e.pageX,e.pageY)},tH=function(e){return Qj(e.clientX,e.clientY)},nH=function(e,t){var n=PS.DOM.getPos(e);return Zj(t,n.x,n.y)},rH=function(e,t){return"contextmenu"===t.type?e.inline?eH(t):nH(e.getContentAreaContainer(),tH(t)):oH(e)},oH=function(e){return{anchor:"selection",root:En.fromDom(e.selection.getNode())}},aH=function(e){return{anchor:"node",node:b.some(En.fromDom(e.selection.getNode())),root:En.fromDom(e.getBody())}},iH=function(e){return"string"===typeof e?e.split(/[ ,]/):e},sH=function(e){return e.settings.contextmenu_never_use_native||!1},uH=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return ue(e.settings,t).map(iH).getOrThunk(function(){return L(iH(n),function(e){return ce(r,e)})})},cH=function(e){return uH(e,"contextmenu","link image imagetools table spellchecker configurepermanentpen")},lH={shouldNeverUseNative:sH,getContextMenu:cH},dH=function(e){return x(e)?"|"===e:"separator"===e.type},fH={type:"separator"},mH=function(e){if(x(e))return e;switch(e.type){case"separator":return fH;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return x(t)?t:I(t,mH)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:n(e.onAction)}}},pH=function(e,t){if(0===t.length)return e;var n=Q(e).filter(function(e){return!dH(e)}),r=n.fold(function(){return[]},function(e){return[fH]});return e.concat(r).concat(t).concat([fH])},hH=function(e,t,n){var r=z(t,function(t,r){if(ce(e,r)){var o=e[r].update(n);if(x(o))return pH(t,o.split(" "));if(o.length>0){var a=I(o,mH);return pH(t,a)}return t}return t.concat([r])},[]);return r.length>0&&dH(r[r.length-1])&&r.pop(),r},gH=function(e,t){return t.ctrlKey&&!lH.shouldNeverUseNative(e)},vH=function(e,t,n){var r=gu(Fy.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},fireDismissalEventInstead:{},inlineBehaviours:Yu([uy("dismissContextMenu",[Si(gn(),function(t,n){gm.close(t),e.focus()})])])}));e.on("init",function(){e.on("contextmenu",function(t){if(!gH(e,t)){var o=2!==t.button||t.target===e.getBody(),a=o?aH(e):rH(e,t),i=e.ui.registry.getAll(),s=lH.getContextMenu(e),u=o?e.selection.getStart(!0):t.target,c=hH(i.contextMenus,s,u);O_(c,Wx.CLOSE_ON_EXECUTE,n.providers).map(function(e){t.preventDefault(),Fy.showMenuAt(r,a,{menu:{markers:OC("normal")},data:e})})}})})},bH=function(e){var t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?b.some(parseInt(e,10)):b.none()},yH=function(e){return T(e)?e+"px":e},wH={parseToInt:bH,numToPx:yH},xH="data-initial-z-index",CH=function(e){ur(e.element()).each(function(e){var t=Br(e,xH);Lr(e,xH)?Ks(e,"z-index",t):eu(e,"z-index"),Pr(e,xH)})},SH=function(e){ur(e.element()).each(function(t){Qs(t,"z-index").each(function(e){Ar(t,xH,e)}),Ks(t,"z-index",Gs(e.element(),"z-index"))})},kH=function(e,t){e.getSystem().addToGui(t),SH(t)},_H=function(e){CH(e),e.getSystem().removeFromGui(e)},TH=function(e,t){var n=e.element(),r=parseInt(Br(n,t.leftAttr),10),o=parseInt(Br(n,t.topAttr),10);return isNaN(r)||isNaN(o)?b.none():b.some(lc(r,o))},OH=function(e,t,n){var r=e.element();Ar(r,t.leftAttr,n.left()+"px"),Ar(r,t.topAttr,n.top()+"px")},EH=function(e,t){var n=e.element();Pr(n,t.leftAttr),Pr(n,t.topAttr)},DH=function(e,t,n,r){return TH(e,t).fold(function(){return n},function(e){return Rj(e.left()+r.left(),e.top()+r.top())})},RH=function(e,t,n,r,o,a){var i=DH(e,t,n,r),s=IH(e,t,i,o,a),u=xj(i,o,a);return OH(e,t,u),s.fold(function(){return{coord:Rj(u.left(),u.top()),extra:b.none()}},function(e){return{coord:e.output(),extra:e.extra()}})},NH=function(e,t){EH(e,t)},IH=function(e,t,n,r,a){var i=t.getSnapPoints(e);return He(i,function(e){var t=e.sensor(),i=kj(n,t,e.range().left(),e.range().top(),r,a);return i?b.some({output:o(Oj(e.output(),n,r,a)),extra:e.extra}):b.none()})},AH=function(e){return Qs(e,"left").bind(function(t){return Qs(e,"top").bind(function(n){return Qs(e,"position").map(function(e){var r="fixed"===e?Rj:Ej;return r(parseInt(t,10),parseInt(n,10))})})}).getOrThunk(function(){var t=mc(e);return Dj(t.left(),t.top())})},MH=function(e,t,n,r,o,a){return t.fold(function(){var e=Tj(n,a.left(),a.top()),t=xj(e,r,o);return Rj(t.left(),t.top())},function(t){var i=RH(e,t,n,a,r,o);return i.extra.each(function(n){t.onSensor(e,n)}),i.coord})},BH=function(e,t,n){var r=t.getTarget(e.element());if(t.repositionTarget){var o=ir(e.element()),a=hc(o),i=gj(r,a),s=AH(r),u=MH(e,t.snaps,s,a,i,n),c=_j(u,a,i);Ys(r,c)}t.onDrag(e,r,n)},LH=function(){var t=hc();return{x:t.left,y:t.top,width:o(e.window.innerWidth),height:o(e.window.innerHeight),bottom:o(t.top()+e.window.innerHeight),right:o(t.left()+e.window.innerWidth)}},PH=Va("snaps",[Ea("getSnapPoints"),Mu("onSensor"),Ea("leftAttr"),Ea("topAttr"),Ua("lazyViewport",LH)]),zH=function(e){return yi([Si(We(),e.forceDrop),Si(Xe(),e.drop),Si(Ke(),function(t,n){e.move(n.event())}),Si(Ye(),e.delayDrop)])},FH=function(e){return b.from(lc(e.x(),e.y()))},jH=function(e,t){return lc(t.left()-e.left(),t.top()-e.top())},HH=Object.freeze({getData:FH,getDelta:jH}),VH=function(e,t){return yi([Si(We(),function(n,r){var o=r.event().raw();if(0===o.button){r.stop();var a={drop:function(){s()},delayDrop:function(){u.schedule()},forceDrop:function(){s()},move:function(r){u.cancel();var o=t.update(HH,r);o.each(function(t){BH(n,e,t)})}},i=n.getSystem().build(BS.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e.blockerClass]},events:zH(a)})),s=function(){_H(i),e.snaps.each(function(e){NH(n,e)});var t=e.getTarget(n.element());e.onDrop(n,t)},u=sS(s,200),c=function(){t.reset(),kH(n,i)};c()}})])},$H=[Ua("useFixed",!1),Ea("blockerClass"),Ua("getTarget",a),Ua("onDrag",t),Ua("repositionTarget",!0),Mu("onDrop"),PH,zu("dragger",{handlers:VH})],UH=function(e){var t=e[0];return b.some(lc(t.clientX,t.clientY))},qH=function(e){var t=e.raw(),n=t.touches;return 1===n.length?UH(n):b.none()},WH=function(e,t){return lc(t.left()-e.left(),t.top()-e.top())},KH=Object.freeze({getData:qH,getDelta:WH}),YH=function(e,t){return yi([Ni($e()),Si(Ue(),function(n,r){r.stop();var o=t.update(KH,r.event());o.each(function(t){BH(n,e,t)})}),Si(qe(),function(n,r){e.snaps.each(function(e){NH(n,e)});var o=e.getTarget(n.element());t.reset(),e.onDrop(n,o)})])},XH=[Ua("useFixed",!1),Ua("getTarget",a),Ua("onDrag",t),Ua("repositionTarget",!0),Ua("onDrop",t),PH,zu("dragger",{handlers:YH})],GH=$H,JH=XH,QH=Object.freeze({mouse:GH,touch:JH}),ZH=function(){var e=b.none(),t=function(){e=b.none()},n=function(t,n){var r=e.map(function(e){return t.getDelta(e,n)});return e=b.some(n),r},r=function(e,t){return e.getData(t).bind(function(t){return n(e,t)})},a=o({});return is({readState:a,reset:t,update:r})},eV=Object.freeze({init:ZH}),tV=Qu({branchKey:"mode",branches:QH,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:Bn(["sensor","range","output"],["extra"])},state:eV});(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(Mz||(Mz={}));var nV=function(e,t,n,r){var o=e+t,a=n.filter(function(e){return o<e}),i=r.filter(function(e){return o>e});return a.or(i).getOr(o)},rV=function(e,t,n,r,o){var a={};return a.height=nV(r,t.top(),US(e),WS(e)),n===Mz.Both&&(a.width=nV(o,t.left(),$S(e),qS(e))),a},oV=function(e,t,n){var r=En.fromDom(e.getContainer()),o=rV(e,t,n,Cc(r),yc(r));ne(o,function(e,t){return Ks(r,t,wH.numToPx(e))}),ij.fireResizeEditor(e)},aV=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},iV=function(e,t){t.delimiter||(t.delimiter="»");var n=function(n){var r=n||[],o=I(r,function(t,n){return Vy.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()}})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return z(o.slice(1),function(e,t){var n=e;return n.push(a),n.push(t),n},[o[0]])},r=function(t){var n=[],r=t.length;while(r-- >0){var o=t[r];if(1===o.nodeType&&!aV(o)){var a=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(a.isDefaultPrevented()||n.push({name:a.name,element:o}),a.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Yu([Fv.config({mode:"flow",selector:"div[role=button]"}),eT.config({}),Gv.config({}),uy("elementPathEvents",[Ai(function(t,o){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Fv.focusIn(t)}),e.on("nodeChange",function(e){var o=r(e.parents);o.length>0&&Gv.set(t,n(o))})})])]),components:[]}},sV={renderElementPath:iV},uV=function(e,t){var n,r=function(e,n,r){return Gv.set(e,[mu(t.translate(["{0} "+r,n[r]]))])};return Vy.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Yu([eT.config({}),Gv.config({}),_b.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),uy("wordcount-events",[Si(sn(),function(e){var t=_b.getValue(e),n="words"===t.mode?"characters":"words";_b.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)}),Ai(function(t){e.on("wordCountUpdate",function(e){var n=_b.getValue(t).mode;_b.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)})})])]),eventOrder:(n={},n[sn()]=["wordcount-events","alloy.base.behaviour"],n)})},cV=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:qy("resize-handle",t.icons)},behaviours:Yu([tV.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){oV(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=Xw.translate(["Powered by {0}","Tiny"]),t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}},o=function(e){var t=!jt(e.settings.plugins,"autoresize"),n=e.getParam("resize",t);return!1===n?Mz.None:"both"===n?Mz.Both:Mz.Vertical},a=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(sV.renderElementPath(e,{})),jt(e.settings.plugins,"wordcount")&&n.push(uV(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]},i=function(){var t=a(),r=o(e);return r!==Mz.None&&t.push(n(r)),t};return{dom:{tag:"div",classes:["tox-statusbar"]},components:i()}},lV=function(e){var t=e.getParam("inline",!1,"boolean"),n=t?Jj:hj,r=b.none(),o=Xw.isRtl()?{attributes:{dir:"rtl"}}:{},a=gu({dom:oo({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"]},o),behaviours:Yu([jf.config({useFixed:!1})])}),i=$y({dom:{tag:"div",classes:["tox-anchorbar"]}}),s=function(){return r.bind(function(e){return i.getOpt(e)}).getOrDie("Could not find a anchor bar element")},u=function(){return r.bind(function(e){return tj.getMoreButton(e)}).getOrDie("Could not find more button element")},c=function(){return r.bind(function(e){return tj.getToolbar(e)}).getOrDie("Could not find more toolbar element")},l=oL(a,e,s,u),d=function(){return ye.value(a)},f=tj.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},getSink:d,providers:l.shared.providers,onEscape:function(){e.focus()}}),m=tj.parts().toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:d,backstage:l,onEscape:function(){e.focus()},split:ek(e),lazyToolbar:c,lazyMoreButton:u}),p=tj.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),h=tj.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),g=e.getParam("statusbar",!0,"boolean")&&!t?b.some(cV(e,l.shared.providers)):b.none(),v={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[p,h]},y=JS(e)||QS(e).isSome(),w=GS(e),x=$([w?[f]:[],y?[m]:[],rk(e)?[]:[i.asSpec()],t?[]:[v]]),C={dom:{tag:"div",classes:["tox-editor-container"]},components:x},S=$([[C],t?[]:g.toArray()]),k=oo({role:"application"},Xw.isRtl()?{dir:"rtl"}:{}),_=gu(tj.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]),styles:{visibility:"hidden"},attributes:k},components:S,behaviours:Yu(n.getBehaviours(e).concat([Fv.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})]))}));r=b.some(_),e.shortcuts.add("alt+F9","focus menubar",function(){tj.focusMenubar(_)}),e.shortcuts.add("alt+F10","focus toolbar",function(){tj.focusToolbar(_)});var T=LS(_),O=LS(a);TF.setup(e,T,O);var E=function(){var e={broadcastAll:O.broadcast,broadcastOn:O.broadcastOn,register:function(){}};return{channels:e}},D=function(t){var n=PS.DOM,r=e.getParam("width",n.getStyle(t,"width")),o=VS(e),a=$S(e),i=US(e),s=wH.parseToInt(r).bind(function(e){return wH.numToPx(a.map(function(t){return Math.max(e,t)}))}).getOr(wH.numToPx(r)),u=wH.parseToInt(o).bind(function(e){return i.map(function(t){return Math.max(e,t)})}).getOr(o),c=wH.numToPx(s);if(Zs("div","width",c)&&Ks(_.element(),"width",c),!e.inline){var l=wH.numToPx(u);Zs("div","height",l)?Ks(_.element(),"height",l):Ks(_.element(),"height","200px")}return u},R=function(){vH(e,d,l.shared),jF(e);var t=e.ui.registry.getAll(),r=t.buttons,o=t.menuItems,i=t.contextToolbars,s=t.sidebars,u={menuItems:o,buttons:r,menus:e.settings.menu?re(e.settings.menu,function(e){return Ee(e,{items:e.items})}):{},menubar:e.settings.menubar,toolbar:QS(e).getOr(e.getParam("toolbar",!0)),sidebar:s};kF.register(e,i,a,{backstage:l});var c=e.getElement(),f=D(c),m={mothership:T,uiMothership:O,outerContainer:_},p={targetNode:c,height:f};return n.render(e,m,u,l,p)};return{mothership:T,uiMothership:O,backstage:l,renderUI:R,getUi:E}},dV={setup:lV},fV=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];DA.each(t,function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:Oz(e,t.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},mV={register:fV},pV=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},hV=function(e){DA.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Oz(e,t.name),onAction:pV(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:Oz(e,n),onAction:pV(e,n)})}},gV=function(e){DA.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},vV=function(e){DA.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:Oz(e,t.name)})})},bV=function(e){hV(e),gV(e),vV(e)},yV=function(e){DA.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:pV(e,"code")})},wV=function(e){bV(e),yV(e)},xV={register:wV},CV=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.readonly||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},SV=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return CV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return CV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},kV=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return CV(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return CV(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},_V=function(e){SV(e),kV(e)},TV={register:_V},OV=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},EV=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return OV(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},DV=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},RV=function(e){DV(e),EV(e)},NV={register:RV},IV=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},AV=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return IV(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},MV=function(e){AV(e)},BV={register:MV},LV=function(e,t){jz(e,t),Wz(e,t),iF(e,t),rF(e,t),Qz(e,t)},PV={register:LV},zV=function(e,t){mV.register(e),xV.register(e),PV.register(e,t),TV.register(e),XT.register(e),NV.register(e),BV.register(e)},FV={setup:zV},jV={labelledBy:function(e,t){var n=b.from(Br(e,"id")).fold(function(){var e=no("dialog-label");return Ar(t,"id",e),e},a);Ar(e,"aria-labelledby",n)}},HV=o([Ea("lazySink"),za("dragBlockClass"),Ua("useTabstopAt",o(!0)),Ua("eventOrder",{}),Cm("modalBehaviours",[Fv]),Bu("onExecute"),Pu("onEscape")]),VV={sketch:a},$V=o([tp({name:"draghandle",overrides:function(e,t){return{behaviours:Yu([tV.config({mode:"mouse",getTarget:function(e){return yu(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+Lo.stringify(t,null,2)).message)})])}}}),Zm({schema:[Ea("dom")],name:"title"}),Zm({factory:VV,schema:[Ea("dom")],name:"close"}),Zm({factory:VV,schema:[Ea("dom")],name:"body"}),Zm({factory:VV,schema:[Ea("dom")],name:"footer"}),ep({factory:{sketch:function(e,t){return oo({},e,{dom:t.dom,components:t.components})}},schema:[Ua("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ua("components",[])],name:"blocker"})]),UV=function(e,t){var n=b.from(Br(e,"id")).fold(function(){var e=no("dialog-describe");return Ar(t,"id",e),e},a);Ar(e,"aria-describedby",n)},qV=function(e,t,n,r){var o=no("alloy.dialog.busy"),a=no("alloy.dialog.idle"),i=Yu([Fv.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Mb.config({})]),s=function(t){var n=e.lazySink(t).getOrDie(),s=Fe(b.none()),u=r.blocker(),c=n.getSystem().build(oo({},u,{components:u.components.concat([vu(t)]),behaviours:Yu([uy("dialog-blocker-events",[Si(a,function(e,n){Lr(t.element(),"aria-busy")&&(Pr(t.element(),"aria-busy"),s.get().each(function(e){return Gv.remove(t,e)}))}),Si(o,function(e,n){Ar(t.element(),"aria-busy","true");var r=n.event().getBusySpec();s.get().each(function(e){Gv.remove(t,e)});var o=r(t,i),a=e.getSystem().build(o);s.set(b.some(a)),Gv.append(t,vu(a)),a.hasConfigured(Fv)&&Fv.focusIn(a)})])])}));$f(n,c),Fv.focusIn(t)},u=function(e){ur(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Wf(e)})})},c=function(t){return hp(t,e,"body")},l=function(t){return hp(t,e,"footer")},d=function(e,t){ii(e,o,{getBusySpec:t})},f=function(e){ai(e,a)},m=no("modal-events"),p=oo({},e.eventOrder,{"alloy.system.attached":[m].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:s,hide:u,getBody:c,getFooter:l,setIdle:f,setBusy:d},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:km(e.modalBehaviours,[Gv.config({}),Fv.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),uy(m,[Ai(function(t){jV.labelledBy(t.element(),hp(t,e,"title").element()),UV(t.element(),hp(t,e,"body").element())})])])}},WV=Ap({name:"ModalDialog",configFields:HV(),partFields:$V(),factory:qV,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),KV=[Na("type"),Na("text"),Ia("level",["info","warn","error","success"]),Na("icon"),Ua("url","")],YV=function(e){return[Na("type"),e]},XV=[Na("type"),Na("text"),Xa("primary",!1),sa("name","name",mo(function(){return no("button-name")}),ka),ja("icon")],GV=[Na("type"),Na("name"),Na("label")],JV=_a,QV=[Na("type"),Na("name"),ja("label")],ZV=QV,e$=ka,t$=QV,n$=ka,r$=QV,o$=fa(),a$=function(e){return[Na("type"),Ra("columns"),e]},i$=QV.concat([Xa("sandboxed",!0)]),s$=ka,u$=QV.concat([ja("placeholder")]),c$=ka,l$=QV.concat([La("items",[Na("text"),Na("value")]),Wa("size",1)]),d$=ka,f$=QV.concat([Xa("constrain",!0)]),m$=ta([Na("width"),Na("height")]),p$=QV.concat([ja("placeholder")]),h$=ka,g$=QV.concat([Ya("filetype","file",["image","media","file"])]),v$=ta([Na("value"),Ua("meta",{})]),b$=QV.concat([Na("type"),Ka("tag","textarea"),Aa("init")]),y$=ka,w$=[Na("type"),Na("html"),Ya("presets","presentation",["presentation","document"])],x$=QV.concat([Da("currentState",ta([Ea("blob"),Na("url")]))]),C$=QV.concat([Ua("columns","auto")]),S$=da([Na("value"),Na("text"),Na("icon")]),k$=function(e){return[Na("type"),Na("label"),e]},_$=[Na("type"),Pa("header",ka),Pa("cells",na(ka))],T$=function(e){return sa("items","items",lo(),na(ma(function(t){return ga("Checking item of "+e,O$,t).fold(function(e){return ye.error(ya(e))},function(e){return ye.value(e)})})))},O$=wa("type",{alertbanner:KV,bar:YV(T$("bar")),button:XV,checkbox:GV,colorinput:ZV,colorpicker:t$,dropzone:r$,grid:a$(T$("grid")),iframe:i$,input:u$,selectbox:l$,sizeinput:f$,textarea:p$,urlinput:g$,customeditor:b$,htmlpanel:w$,imagetools:x$,collection:C$,label:k$(T$("label")),table:_$}),E$=[Na("type"),Pa("items",O$)],D$=[Na("title"),Pa("items",O$)],R$=[Na("type"),La("tabs",D$)],N$=ta([Ia("type",["submit","cancel","custom"]),sa("name","name",mo(function(){return no("button-name")}),ka),Na("text"),ja("icon"),Ya("align","end",["start","end"]),Xa("primary",!1),Xa("disabled",!1)]),I$=ta([Na("title"),Da("body",wa("type",{panel:E$,tabpanel:R$})),Ka("size","normal"),Pa("buttons",N$),Ua("initialData",{}),Ga("onAction",t),Ga("onChange",t),Ga("onSubmit",t),Ga("onClose",t),Ga("onCancel",t),Ua("onTabChange",t)]),A$=function(e){return ga("dialog",I$,e)},M$=function(e){return C(e)?[e].concat(U(se(e),M$)):S(e)?U(e,M$):[]},B$=function(e){return x(e.type)&&x(e.name)},L$={checkbox:JV,colorinput:e$,colorpicker:n$,dropzone:o$,input:c$,iframe:s$,sizeinput:m$,selectbox:d$,size:m$,textarea:h$,urlinput:v$,customeditor:y$,collection:S$},P$=function(e){return b.from(L$[e.type])},z$=function(e){return L(M$(e),B$)},F$=function(e){var t=U(z$(e),function(e){return P$(e).fold(function(){return[]},function(t){return[Da(e.name,t)]})});return ta(t)},j$=function(e){var t=va(A$(e)),n=F$(e),r=e.initialData;return{internalDialog:t,dataValidator:n,initialData:r}},H$={open:function(e,t){var n=j$(t);return e(n.internalDialog,n.initialData,n.dataValidator)},redial:function(e){return j$(e)}},V$=no("update-dialog"),$$=no("update-title"),U$=no("update-body"),q$=no("update-footer"),W$=function(e){var t=[],n={};return ne(e,function(e,r){e.fold(function(){t.push(r)},function(e){n[r]=e})}),t.length>0?ye.error(t):ye.value(n)},K$=function(t,n){var r=$y(nR.sketch(function(e){return{dom:{tag:"div",classes:["tox-form"]},components:I(t.items,function(t){return BM(e,t,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Yu([Fv.config({mode:"acyclic",useTabstopAt:u(VR.isPseudoStop)}),vR.memento(r),RR.memento(r,{postprocess:function(t){return W$(t).fold(function(t){return e.console.error(t),{}},function(e){return e})}})])}},Y$=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:jy(e.action),behaviours:km(e.tabButtonBehaviours,[Mb.config({}),Fv.config({mode:"execution",useSpace:!0,useEnter:!0}),_b.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},X$=Ip({name:"TabButton",configFields:[Ua("uid",void 0),Ea("value"),sa("dom","dom",po(function(e){return{attributes:{role:"tab",id:no("aria"),"aria-selected":"false"}}}),xa()),za("action"),Ua("domModification",{}),Cm("tabButtonBehaviours",[Mb,Fv,_b]),Ea("view")],factory:Y$}),G$=o([Ea("tabs"),Ea("dom"),Ua("clickToDismiss",!1),Cm("tabbarBehaviours",[ih,Fv]),Iu(["tabClass","selectedClass"])]),J$=np({factory:X$,name:"tabs",unit:"tab",overrides:function(e,n){var r=function(e,t){ih.dehighlight(e,t),ii(e,wn(),{tabbar:e,button:t})},o=function(e,t){ih.highlight(e,t),ii(e,yn(),{tabbar:e,button:t})};return{action:function(n){var a=n.getSystem().getByUid(e.uid).getOrDie(),i=ih.isHighlighted(a,n),s=function(){return i&&e.clickToDismiss?r:i?t:o}();s(a,n)},domModification:{classes:[e.markers.tabClass]}}}}),Q$=o([J$]),Z$=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:km(e.tabbarBehaviours,[ih.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Ar(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Ar(t.element(),"aria-selected","false")}}),Fv.config({mode:"flow",getInitial:function(e){return ih.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},eU=Ap({name:"Tabbar",configFields:G$(),partFields:Q$(),factory:Z$}),tU=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:km(e.tabviewBehaviours,[Gv.config({})]),domModification:{attributes:{role:"tabpanel"}}}},nU=Ip({name:"Tabview",configFields:[Cm("tabviewBehaviours",[Gv])],factory:tU}),rU=o([Ua("selectFirst",!0),Mu("onChangeTab"),Mu("onDismissTab"),Ua("tabs",[]),Cm("tabSectionBehaviours",[])]),oU=Zm({factory:eU,schema:[Ea("dom"),Ba("markers",[Ea("tabClass"),Ea("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),aU=Zm({factory:nU,name:"tabview"}),iU=o([oU,aU]),sU=function(e,t,n,r){var o=function(t){var n=_b.getValue(t);pp(t,e,"tabview").each(function(r){var o=F(e.tabs,function(e){return e.value===n});o.each(function(n){var o=n.view();Ar(r.element(),"aria-labelledby",Br(t.element(),"id")),Gv.set(r,o),e.onChangeTab(r,t,o)})})},a=function(t,n){pp(t,e,"tabbar").each(function(e){n(e).each(si)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:Sm(e.tabSectionBehaviours),events:yi($([e.selectFirst?[Ai(function(e,t){a(e,ih.getFirst)})]:[],[Si(yn(),function(e,t){var n=t.event().button();o(n)}),Si(wn(),function(t,n){var r=n.event().button();e.onDismissTab(t,r)})]])),apis:{getViewItems:function(t){return pp(t,e,"tabview").map(function(e){return Gv.contents(e)}).getOr([])},showTab:function(e,t){var n=function(e){var n=ih.getCandidates(e),r=F(n,function(e){return _b.getValue(e)===t});return r.filter(function(t){return!ih.isHighlighted(e,t)})};a(e,n)}}}},uU=Ap({name:"TabSection",configFields:rU(),partFields:iU(),factory:sU,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),cU=function(e,t,n){return I(e,function(r,o){Gv.set(n,e[o].view());var a=t.dom().getBoundingClientRect();return Gv.set(n,[]),a.height})},lU=function(e){return J(G(e,function(e,t){return e>t?-1:e<t?1:0}))},dU=function(t,n){var r,o=yu(t,".tox-dialog-wrap").getOr(t),a="fixed"===Gs(o,"position");r=a?Math.max(e.document.documentElement.clientHeight,e.window.innerHeight):Math.max(e.document.documentElement.offsetHeight,e.document.documentElement.scrollHeight);var i=t.dom().getBoundingClientRect().height-n.dom().getBoundingClientRect().height;return r-i},fU=function(e,t){J(e).each(function(e){return uU.showTab(t,e.value)})},mU=function(e,t,n){yu(e,'[role="dialog"]').each(function(r){n.get().map(function(n){return Ks(t,"height","0"),Math.min(n,dU(r,e))}).each(function(e){Ks(t,"height",e+"px")})})},pU=function(e){var t=function(){var t=Fe(b.none()),n=[Ai(function(n){wu(n.element(),'[role="tabpanel"]').each(function(r){Ks(r,"visibility","hidden"),n.getSystem().getByDom(r).toOption().each(function(n){var o=cU(e,r,n),a=lU(o);t.set(a)}),mU(n.element(),r,t),eu(r,"visibility"),fU(e,n),Jy.requestAnimationFrame(function(){mU(n.element(),r,t)})})}),Si(mn(),function(e){wu(e.element(),'[role="tabpanel"]').each(function(n){mU(e.element(),n,t)})}),Si(mk,function(e,n){wu(e.element(),'[role="tabpanel"]').each(function(n){var r=Rh();Ks(n,"visibility","hidden");var o=Qs(n,"height").map(function(e){return parseInt(e,10)});eu(n,"height");var a=n.dom().getBoundingClientRect().height,i=o.forall(function(e){return a>e});i?(t.set(b.from(a)),mU(e.element(),n,t)):o.each(function(e){Ks(n,"height",e+"px")}),eu(n,"visibility"),r.each(Oh)})})],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var e=[],t=!0;return{extraEvents:e,selectFirst:t}}();return{smartTabHeight:t,naiveTabHeight:n}},hU="send-data-to-section",gU="send-data-to-view",vU=function(e,t){var n=Fe({}),r=function(e){var t=_b.getValue(e),r=W$(t).getOr({}),o=n.get(),a=Oe(o,r);n.set(a)},o=function(e){var t=n.get();_b.setValue(e,t)},a=Fe(null),i=I(e.tabs,function(e){return{value:e.title,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[nR.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:I(e.items,function(e){return BM(n,e,t)}),formBehaviours:Yu([Fv.config({mode:"acyclic",useTabstopAt:u(VR.isPseudoStop)}),uy("TabView.form.events",[Ai(o),Mi(r)]),oc.config({channels:Me([{key:hU,value:{onReceive:r}},{key:gU,value:{onReceive:o}}])})])}})]}}}),s=pU(i).smartTabHeight;return uU.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=_b.getValue(t);ii(e,fk,{title:r,oldTitle:a.get()}),a.set(r)},tabs:i,components:[uU.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[eU.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Yu([eT.config({})])}),uU.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:Yu([uy("tabpanel",s.extraEvents),Fv.config({mode:"acyclic"}),zp.config({find:function(e){return J(uU.getViewItems(e))}}),_b.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([hU],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn([gU],{})}}})])})},bU=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[vU({tabs:e.body.tabs},n)];default:return[K$({items:e.body.items},n)]}},a=function(e,t){return b.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:oo({},t.map(function(e){return{id:e}}).getOr({}),r?i:{})},components:[],behaviours:Yu([vR.childAt(0),jP.config({channel:U$,updateState:a,renderComponents:o,initialData:e})])}},yU=function(e,t,n,r){return bU(e,b.some(t),n,r)},wU=function(e,t){return WV.parts().body(bU(e,b.none(),t,!1))},xU=function(e,t){var n=function(e,t){return Si(e,function(e,n){r(e,function(r,o){t(r,n.event(),e)})})},r=function(e,t){jP.getState(e).get().each(function(n){t(n.internalDialog,e)})};return[Di(Je(),VR.onFocus),n(ck,function(t){return t.onSubmit(e())}),n(ak,function(t,n){t.onChange(e(),{name:n.name()})}),n(uk,function(t,n){t.onAction(e(),{name:n.name(),value:n.value()})}),n(fk,function(t,n){t.onTabChange(e(),n.title())}),n(ik,function(e){t.onClose(),e.onClose()}),n(sk,function(t,n,r){t.onCancel(e()),ai(r,ik)}),Mi(function(t){var n=e();_b.setValue(t,n.getData())}),Si(dk,function(e,n){return t.onUnblock()}),Si(lk,function(e,n){return t.onBlock(n.event())})]},CU={init:xU},SU=function(e,t){return GI(e,e.type,t)},kU=function(e,t,n){return F(t,function(e){return e.name===n}).bind(function(t){return t.memento.getOpt(e)})},_U=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),r=B(n,function(e){return"start"===e.align}),o=function(e,t){return BS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:I(t,function(e){return e.memento.asSpec()})})},a=o("start",r.pass),i=o("end",r.fail);return[a,i]},TU=function(e,t){var n=function(e,n){var r=I(n.buttons,function(e){var n=$y(SU(e,t));return{name:e.name,align:e.align,memento:n}}),o=function(e,t){return kU(e,r,t)};return b.some({lookupByName:o,footerButtons:r})};return{dom:Yw('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Yu([jP.config({channel:q$,initialData:e,updateState:n,renderComponents:_U})])}},OU=function(e,t){return TU(e,t)},EU=function(e,t){return WV.parts().footer(TU(e,t))},DU=function(e){return Vy.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){ai(e,sk)}})},RU=function(e,t,n){var r=function(e){return[mu(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:oo({},t.map(function(e){return{id:e}}).getOr({}))},components:r(e),behaviours:Yu([jP.config({channel:$$,renderComponents:r})])}},NU=function(e,t,n){return BS.sketch({dom:Yw('<div class="tox-dialog__header"></div>'),components:[RU(e,b.some(t),n),DU(n)],containerBehaviours:Yu([tV.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return xu(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},IU=function(e,t){var n=WV.parts().title(RU(e,b.none(),t)),r=WV.parts().draghandle({dom:Yw('<div class="tox-dialog__draghandle"></div>')}),o=WV.parts().close(DU(t)),a=[n].concat(e.draggable?[r]:[]).concat([o]);return BS.sketch({dom:Yw('<div class="tox-dialog__header"></div>'),components:a})},AU=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var r=zp.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return nR.getField(r,t).fold(function(){var n=e.getFooter(),o=jP.getState(n);return o.get().bind(function(e){return e.lookupByName(r,t)})},function(e){return b.some(e)})}return b.none()},MU=function(e,t){var n=e.getRoot();return jP.getState(n).get().map(function(e){return va(ga("data",e.dataValidator,t))}).getOr(t)},BU=function(e,t){var n=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},r=function(){var t=e.getRoot(),n=t.getSystem().isConnected()?e.getFormWrapper():t;return _b.getValue(n)},o=function(t){n(function(n){var r=m.getData(),o=Ee(r,t),a=MU(e,o),i=e.getFormWrapper();_b.setValue(i,a)})},a=function(t){AU(e,t).each(zx.disable)},i=function(t){AU(e,t).each(zx.enable)},s=function(t){AU(e,t).each(Mb.focus)},u=function(e){if(!x(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(function(t){ii(t,lk,{message:e})})},c=function(){n(function(e){ai(e,dk)})},l=function(t){n(function(n){var r=e.getBody(),o=jP.getState(r);o.get().exists(function(e){return e.isTabPanel()})&&zp.getCurrent(r).each(function(e){uU.showTab(e,t)})})},d=function(e){n(function(n){var r=t(e);n.getSystem().broadcastOn([V$],r),n.getSystem().broadcastOn([$$],r.internalDialog),n.getSystem().broadcastOn([U$],r.internalDialog),n.getSystem().broadcastOn([q$],r.internalDialog),m.setData(r.initialData)})},f=function(){n(function(e){ai(e,ik)})},m={getData:r,setData:o,disable:a,enable:i,focus:s,block:u,unblock:c,showTab:l,redial:d,close:f};return m},LU=function(e,t,n){var r,o=function(e,t){return b.some(t)},a=IU({title:n.shared.providers.translate(e.internalDialog.title),draggable:!0},n.shared.providers),i=wU({body:e.internalDialog.body},n),s=EU({buttons:e.internalDialog.buttons},n.shared.providers),u=CU.init(function(){return f},{onClose:function(){return t.closeWindow()},onBlock:function(e){WV.setBusy(l,function(t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:Yw('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){WV.setIdle(l)}}),c="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?"tox-dialog--width-lg":"tox-dialog--width-md":[],l=gu(WV.sketch({lazySink:n.shared.getSink,onEscape:function(e){return ai(e,sk),b.some(!0)},useTabstopAt:function(e){return!VR.isPseudoStop(e)&&("button"!==Tr(e)||"disabled"!==Br(e,"disabled"))},modalBehaviours:Yu([jP.config({channel:V$,updateState:o,initialData:e}),Mb.config({}),uy("execute-on-form",u.concat([Ii(Je(),function(e,t){Fv.focusIn(e)})])),uy("scroll-lock",[Ai(function(){zs(mi(),"tox-dialog__disable-scroll")}),Mi(function(){js(mi(),"tox-dialog__disable-scroll")})]),RR.memory({})]),eventOrder:(r={},r[rn()]=["execute-on-form"],r[pn()]=["scroll-lock","reflecting","execute-on-form","alloy.base.behaviour"],r[hn()]=["alloy.base.behaviour","execute-on-form","reflecting","scroll-lock"],r),dom:{tag:"div",classes:["tox-dialog"].concat(c),styles:{position:"relative"}},components:[a,i,s],dragBlockClass:"tox-dialog-wrap",parts:{blocker:{dom:Yw('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}}})),d=function(){var e=function(){var e=WV.getBody(l);return zp.getCurrent(e).getOr(e)};return{getRoot:function(){return l},getBody:function(){return WV.getBody(l)},getFooter:function(){return WV.getFooter(l)},getFormWrapper:e}}(),f=BU(d,t.redial);return{dialog:l,instanceApi:f}},PU=function(e,t,n,r){var o,a,i=no("dialog-label"),s=no("dialog-content"),u=function(e,t){return b.some(t)},c=$y(NU({title:e.internalDialog.title,draggable:!0},i,n.shared.providers)),l=$y(yU({body:e.internalDialog.body},s,n,r)),d=$y(OU({buttons:e.internalDialog.buttons},n.shared.providers)),f=CU.init(function(){return p},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}}),m=gu({dom:{tag:"div",classes:["tox-dialog"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=""+s,o)},eventOrder:(a={},a[nn()]=[jP.name(),oc.name()],a[rn()]=["execute-on-form"],a[pn()]=["reflecting","execute-on-form"],a),behaviours:Yu([Fv.config({mode:"cyclic",onEscape:function(e){return ai(e,ik),b.some(!0)},useTabstopAt:function(e){return!VR.isPseudoStop(e)&&("button"!==Tr(e)||"disabled"!==Br(e,"disabled"))}}),jP.config({channel:V$,updateState:u,initialData:e}),uy("execute-on-form",f),RR.memory({})]),components:[c.asSpec(),l.asSpec(),d.asSpec()]}),p=BU({getRoot:function(){return m},getFooter:function(){return d.get(m)},getBody:function(){return l.get(m)},getFormWrapper:function(){var e=l.get(m);return zp.getCurrent(e).getOr(e)}},t.redial);return{dialog:m,instanceApi:p}},zU=function(e,t){return WV.parts().close(Vy.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Yu([eT.config({})])}))},FU=function(){return WV.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},jU=function(e,t){return WV.parts().body({dom:{tag:"div",classes:["tox-dialog__body","todo-tox-fit"]},components:[{dom:Yw("<p>"+t.translate(e)+"</p>")}]})},HU=function(e){return WV.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},VU=function(e,t){return[BS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),BS.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},$U=function(e){return WV.sketch({lazySink:e.lazySink,onEscape:function(){return e.onCancel(),b.some(!0)},dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses)},components:[{dom:{tag:"div",classes:["tox-dialog__header"]},components:[e.partSpecs.title,e.partSpecs.close]},e.partSpecs.body,e.partSpecs.footer],parts:{blocker:{dom:Yw('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}},modalBehaviours:Yu([uy("basic-dialog-events",[Si(sk,function(t,n){e.onCancel()}),Si(ck,function(t,n){e.onSubmit()})])])})},UU=function(e){var n=e.backstage.shared,r=function(e,r){var o=function(){WV.hide(i),r()},a=$y(GI({name:"close-alert",text:"OK",primary:!0,icon:b.none()},"cancel",n.providers)),i=gu($U({lazySink:function(){return n.getSink()},partSpecs:{title:FU(),close:zU(function(){o()},n.providers),body:jU(e,n.providers),footer:HU(VU([],[a.asSpec()]))},onCancel:function(){return o()},onSubmit:t,extraClasses:["tox-alert-dialog"]}));WV.show(i);var s=a.get(i);Mb.focus(s)};return{open:r}},qU=function(e){var t=e.backstage.shared,n=function(e,n){var r=function(e){WV.hide(i),n(e)},o=$y(GI({name:"yes",text:"Yes",primary:!0,icon:b.none()},"submit",t.providers)),a=GI({name:"no",text:"No",primary:!0,icon:b.none()},"cancel",t.providers),i=gu($U({lazySink:function(){return t.getSink()},partSpecs:{title:FU(),close:zU(function(){r(!1)},t.providers),body:jU(e,t.providers),footer:HU(VU([],[a,o.asSpec()]))},onCancel:function(){return r(!1)},onSubmit:function(){return r(!0)},extraClasses:["tox-confirm-dialog"]}));WV.show(i);var s=o.get(i);Mb.focus(s)};return{open:n}},WU=function(e,t){return va(ga("data",t,e))},KU=function(e){var t=UU(e),n=qU(e),r=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?a(t,e.backstage.shared.anchors.toolbar(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?a(t,e.backstage.shared.anchors.cursor(),r,n.ariaAttrs):o(t,r)},o=function(t,n){var r=function(t,r,o){var a=r,i={dataValidator:o,initialData:a,internalDialog:t},s=LU(i,{redial:H$.redial,closeWindow:function(){WV.hide(s.dialog),n(s.instanceApi)}},e.backstage);return WV.show(s.dialog),s.instanceApi.setData(a),s.instanceApi};return H$.open(r,t)},a=function(t,n,r,o){var a=function(t,a,i){var s=WU(a,i),u={dataValidator:i,initialData:s,internalDialog:t},c=PU(u,{redial:H$.redial,closeWindow:function(){Fy.hide(l),r(c.instanceApi)}},e.backstage,o),l=gu(Fy.sketch({lazySink:e.backstage.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},inlineBehaviours:Yu([uy("window-manager-inline-events",[Si(gn(),function(e,t){ai(c.dialog,sk)})])])}));return Fy.showAt(l,n,vu(c.dialog)),c.instanceApi.setData(s),Fv.focusIn(c.dialog),c.instanceApi};return H$.open(a,t)},i=function(e,t){n.open(e,function(e){t(e)})},s=function(e,n){t.open(e,function(){n()})},u=function(e){e.close()};return{open:r,alert:s,close:u,confirm:i}},YU={setup:KU};function XU(){}ro.add("silver",function(e){var t=dV.setup(e),n=t.mothership,r=t.uiMothership,a=t.backstage,i=t.renderUI,s=t.getUi;FV.setup(e,a),Zr(no("silver-demo"),n),Zr(no("silver-ui-demo"),r),GC.register(e,a.shared);var u=YU.setup({backstage:a});return{renderUI:i,getWindowManagerImpl:o(u),getNotificationManagerImpl:function(){return Qy(e,{backstage:a},r)},ui:s()}})})(window)})()},"0490":function(e,t,n){},"04af":function(e,t,n){},"04b3":function(e,t,n){},"05ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{loading:e.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[n("div",{staticClass:"chart-card-header"},[n("div",{staticClass:"meta"},[n("span",{staticClass:"chart-card-title"},[e._v(e._s(e.title))]),n("span",{staticClass:"chart-card-action"},[e._t("action")],2)]),n("div",{staticClass:"total"},[n("span",[e._v(e._s(e.total))])])]),n("div",{staticClass:"chart-card-content"},[n("div",{staticClass:"content-fix"},[e._t("default")],2)]),n("div",{staticClass:"chart-card-footer"},[n("div",{staticClass:"field"},[e._t("footer")],2)])])},o=[],a={name:"ChartCard",props:{title:{type:String,default:""},total:{type:String,default:""},loading:{type:Boolean,default:!1}}},i=a,s=(n("678a"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"59efd292",null);t["default"]=u.exports},"0673":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exception"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.config[e.type].img}})]),n("div",{staticClass:"content"},[n("h1",[e._v(e._s(e.config[e.type].title))]),n("div",{staticClass:"desc"},[e._v(e._s(e.config[e.type].desc))]),n("div",{staticClass:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleToHome}},[e._v("返回首页")])],1)])])},o=[],a={403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404",desc:"抱歉，你访问的页面不存在或仍在开发中"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500",desc:"抱歉，服务器出错了"}},i=a,s={name:"Exception",props:{type:{type:String,default:"404"}},data:function(){return{config:i}},methods:{handleToHome:function(){this.$router.push({name:"dashboard"})}}},u=s,c=(n("62d6"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"48c3c2d3",null);t["default"]=l.exports},"06a6":function(e,t,n){},"077e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okText:"保存并安排任务",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"任务类名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobClassName",{rules:[{required:!0,message:"请输入任务类名!"}]}],expression:"['jobClassName', {rules: [{ required: true, message: '请输入任务类名!' }]}]"}],attrs:{placeholder:"请输入任务类名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"cron表达式"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cronExpression",{initialValue:"0/1 * * * * ?",rules:[{required:!0,message:"请输入任务类名!"}]}],expression:"['cronExpression', {'initialValue':'0/1 * * * * ?',rules: [{ required: true, message: '请输入任务类名!' }]}]"}],attrs:{placeholder:"请输入cron表达式"}}),n("a",{attrs:{target:"_blank",href:"http://cron.qqe2.com/"}},[n("a-icon",{attrs:{type:"share-alt"}}),e._v("\n          在线cron表达式生成\n        ")],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"参数",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["parameter",{}],expression:"['parameter', {}]"}],attrs:{placeholder:"请输入参数"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:0}],expression:"[ 'status', {'initialValue':0}]"}],attrs:{buttonStyle:"solid"}},[n("a-radio-button",{attrs:{value:0}},[e._v("正常")]),n("a-radio-button",{attrs:{value:-1}},[e._v("停止")])],1)],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l=(n("c1df"),{name:"QuartzJobModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/sys/quartzJob/add",edit:"/sys/quartzJob/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),console.log(this.model),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(c()(t.model,"jobClassName","cronExpression","parameter","description","status"))})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);console.log(u),Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}}),d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,"e3ad297e",null);t["default"]=m.exports},"07d1":function(e,t,n){n("94ce")},"08db":function(e,t,n){"use strict";var r=n("dd8e"),o=n.n(r);o.a},"0923":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rank"},[n("h4",{staticClass:"title"},[e._v(e._s(e.title))]),n("ul",{staticClass:"list",style:{height:e.height?e.height+"px":"auto",overflow:"auto"}},e._l(e.list,function(t,r){return n("li",{key:r},[n("span",{class:r<3?"active":null},[e._v(e._s(r+1))]),n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.total))])])}),0)])},o=[],a=(n("c5f6"),{name:"RankList",props:{title:{type:String,default:""},list:{type:Array,default:null},height:{type:Number,default:null}}}),i=a,s=(n("49a9"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"0869b61a",null);t["default"]=u.exports},"09a7":function(e,t,n){},"09c3":function(e,t,n){},"09cf":function(e,t){(function(){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){}t.add("textcolor",function(){e.console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")})})(window)})()},"0b38":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"操作",width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"唯一识别码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[]}],expression:"[ 'id', {rules: []} ]"}],attrs:{placeholder:"唯一识别码",disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"不起一个名字吗？"}]}],expression:"[ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]"}],attrs:{placeholder:"起一个名字"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[]}],expression:"[ 'status', {rules: []} ]"}]},[n("a-select-option",{attrs:{value:1}},[e._v("正常")]),n("a-select-option",{attrs:{value:2}},[e._v("禁用")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[]}],expression:"[ 'describe', { rules: [] } ]"}],attrs:{rows:5,placeholder:"..."}})],1),n("a-divider"),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"拥有权限",hasFeedback:""}},e._l(e.permissions,function(t,r){return n("a-row",{key:r,attrs:{gutter:16}},[n("a-col",{attrs:{span:4}},[e._v("\n            "+e._s(t.name)+"：\n          ")]),n("a-col",{attrs:{span:20}},[t.actionsOptions.length>0?n("a-checkbox",{attrs:{indeterminate:t.indeterminate,checked:t.checkedAll},on:{change:function(n){return e.onChangeCheckAll(n,t)}}},[e._v("\n              全选\n            ")]):e._e(),n("a-checkbox-group",{attrs:{options:t.actionsOptions},on:{change:function(n){return e.onChangeCheck(t)}},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"permission.selected"}})],1)],1)}),1)],1)],1)],1)},o=[],a=n("795b"),i=n.n(a),s=(n("ac6a"),n("5176")),u=n.n(s),c=n("0fea");function l(e){try{return JSON.parse(e)}catch(t){console.log("err",t.message)}return[]}var d=n("88bc"),f=n.n(d),m={name:"RoleModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),permissions:[]}},created:function(){this.loadPermissions()},methods:{add:function(){this.edit({id:0})},edit:function(e){var t=this;if(this.mdl=u()({},e),this.visible=!0,this.mdl.permissions&&this.permissions){var n={};this.mdl.permissions.forEach(function(e){n[e.permissionId]=e.actionEntitySet.map(function(e){return e.action})}),this.permissions.forEach(function(e){e.selected=n[e.id]})}this.$nextTick(function(){t.form.setFieldsValue(f()(t.mdl,"id","name","status","describe"))}),console.log("this.mdl",this.mdl)},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields(function(t,n){t||(console.log("form values",n),e.confirmLoading=!0,new i.a(function(e){setTimeout(function(){return e()},2e3)}).then(function(){e.$message.success("保存成功"),e.$emit("ok")}).catch(function(){}).finally(function(){e.confirmLoading=!1,e.close()}))})},handleCancel:function(){this.close()},onChangeCheck:function(e){e.indeterminate=!!e.selected.length&&e.selected.length<e.actionsOptions.length,e.checkedAll=e.selected.length===e.actionsOptions.length},onChangeCheckAll:function(e,t){u()(t,{selected:e.target.checked?t.actionsOptions.map(function(e){return e.value}):[],indeterminate:!1,checkedAll:e.target.checked})},loadPermissions:function(){var e=this;Object(c["c"])().then(function(t){var n=t.result;e.permissions=n.map(function(e){var t=l(e.actionData);return e.checkedAll=!1,e.selected=[],e.indeterminate=!1,e.actionsOptions=t.map(function(e){return{label:e.describe,value:e.action}}),e})})}}},p=m,h=n("2877"),g=Object(h["a"])(p,r,o,!1,null,"98a9c9d0",null);t["default"]=g.exports},"0b56":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Monitor\n")])},o=[],a={name:"Monitor"},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"262f850e",null);t["default"]=u.exports},"0b5a":function(e,t,n){},"0bd7":function(e,t,n){"use strict";var r=n("1a83"),o=n.n(r);o.a},"0c3f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},o=[],a={data:function(){return{data:[]}},methods:{}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"2019a4fb",null);t["default"]=u.exports},"0d3f":function(e,t,n){},"0d4b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:12}},[n("a-form-item",{attrs:{label:"账号"}},[n("a-input",{attrs:{placeholder:"请输入账号查询"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"性别"}},[n("a-select",{attrs:{placeholder:"请选择性别查询"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别查询")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"邮箱"}},[n("a-input",{attrs:{placeholder:"请输入邮箱查询"},model:{value:e.queryParam.email,callback:function(t){e.$set(e.queryParam,"email",t)},expression:"queryParam.email"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"手机号码"}},[n("a-input",{attrs:{placeholder:"请输入手机号码查询"},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择用户状态查询"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择用户状态")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("解冻")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"border-top":"5px"}},[n("a-button",{directives:[{name:"has",rawName:"v-has",value:"user:add",expression:"'user:add'"}],attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加用户")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleSyncUser}},[e._v("重新同步流程用户")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"},on:{click:e.batchDel}}),e._v("\n          删除\n        ")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"},on:{click:function(t){return e.batchFrozen("2")}}}),e._v("\n          冻结\n        ")],1),n("a-menu-item",{key:"3"},[n("a-icon",{attrs:{type:"unlock"},on:{click:function(t){return e.batchFrozen("1")}}}),e._v("\n          解冻\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r,o){return[n("div",{staticClass:"anty-img-wrap"},[n("img",{attrs:{src:e.getAvatarView(r.avatar)}})])]}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleChangePassword(r.username)}}},[e._v("密码")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),1==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定冻结吗?"},on:{confirm:function(){return e.handleFrozen(r.id,2)}}},[n("a",[e._v("冻结")])])],1):e._e(),2==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定解冻吗?"},on:{confirm:function(){return e.handleFrozen(r.id,1)}}},[n("a",[e._v("解冻")])])],1):e._e()],1)],1)],1)}}])})],1),n("user-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("password-modal",{ref:"passwordmodal",on:{ok:e.passwordModalOk}})],1)},o=[],a=(n("ac6a"),n("418f")),i=n("ddf9"),s=n("0fea"),u=n("4ec3"),c=n("b65a"),l={name:"UserList",mixins:[c["a"]],components:{UserModal:a["default"],PasswordModal:i["default"]},data:function(){return{description:"这是用户管理页面",queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username",width:120},{title:"真实姓名",align:"center",width:100,dataIndex:"realname"},{title:"头像",align:"center",width:120,dataIndex:"avatar",scopedSlots:{customRender:"avatarslot"}},{title:"性别",align:"center",width:80,dataIndex:"sex_dictText"},{title:"生日",align:"center",width:180,dataIndex:"birthday"},{title:"手机号码",align:"center",width:100,dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:170}],url:{imgerver:window._CONFIG["domianURL"]+"/sys/common/view",syncUser:"/process/extActProcess/doSyncUser",list:"/sys/user/list",delete:"/sys/user/delete",deleteBatch:"/sys/user/deleteBatch",exportXlsUrl:"sys/user/exportXls",importExcelUrl:"sys/user/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getAvatarView:function(e){return this.url.imgerver+"/"+e},batchFrozen:function(e){if(this.selectedRowKeys.length<=0)return this.$message.warning("请选择一条记录！"),!1;var t="",n=this;n.selectedRowKeys.forEach(function(e){t+=e+","}),n.$confirm({title:"确认操作",content:"是否"+(1==e?"解冻":"冻结")+"选中账号?",onOk:function(){Object(u["t"])({ids:t,status:e}).then(function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)})}})},handleMenuClick:function(e){1==e.key?this.batchDel():2==e.key?this.batchFrozen(2):3==e.key&&this.batchFrozen(1)},handleFrozen:function(e,t){var n=this;Object(u["t"])({ids:e,status:t}).then(function(e){e.success?(n.$message.success(e.message),n.loadData()):n.$message.warning(e.message)})},handleChangePassword:function(e){this.$refs.passwordmodal.show(e)},handleSyncUser:function(){var e=this;Object(s["h"])(e.url.syncUser,{}).then(function(t){t.success?e.$message.success(t.message):e.$message.warning(t.message)})},passwordModalOk:function(){}}},d=l,f=(n("f9cc"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"bebf2654",null);t["default"]=m.exports},1037:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("result",{attrs:{isSuccess:!0,content:!1,title:e.email,description:e.description}},[n("template",{slot:"action"},[n("a-button",{attrs:{size:"large",type:"primary"}},[e._v("查看邮箱")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"large"},on:{click:e.goHomeHandle}},[e._v("返回首页")])],1)],2)},o=[],a=n("9a3d"),i={name:"RegisterResult",components:{Result:a["default"]},data:function(){return{description:"激活邮件已发送到你的邮箱中，邮件有效期为24小时。请及时登录邮箱，点击邮件中的链接激活帐户。",form:{}}},computed:{email:function(){var e=this.form&&this.form.email||"xxx",t="你的账户：".concat(e," 注册成功");return t}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:"login"})}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"9ae222f4",null);t["default"]=c.exports},"11cb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:900,keyboard:!1,closable:!1,centered:!0,maskClosable:!1,mask:!1,okText:"确认",cancelText:"取消"},on:{ok:e.ok,cancel:e.cancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("a-tabs",[n("a-tab-pane",{key:"1",attrs:{tab:"方向性图标"}},[n("ul",e._l(e.icons.directionIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),n("a-tab-pane",{key:"2",attrs:{tab:"指示性图标"}},[n("ul",e._l(e.icons.suggestionIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),n("a-tab-pane",{key:"3",attrs:{tab:"编辑类图标"}},[n("ul",e._l(e.icons.editIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),n("a-tab-pane",{key:"4",attrs:{tab:"数据类图标"}},[n("ul",e._l(e.icons.dataIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),n("a-tab-pane",{key:"5",attrs:{tab:"网站通用图标"}},[n("ul",e._l(e.icons.webIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)]),n("a-tab-pane",{key:"6",attrs:{tab:"品牌和标识"}},[n("ul",e._l(e.icons.logoIcons,function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)}),0)])],1)],1)},o=[],a=["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","up-circle-o","down-circle-o","right-circle-o","left-circle-o","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","play-circle-o","up-square","down-square","left-square","right-square","up-square-o","down-square-o","left-square-o","right-square-o","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","radius-upright","fullscreen","fullscreen-exit"],i=["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"],s=["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"],u=["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"],c=["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"],l=["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"],d={name:"Icons",props:{iconChooseVisible:{default:!1}},data:function(){return{icons:{directionIcons:a,suggestionIcons:i,editIcons:s,dataIcons:u,webIcons:c,logoIcons:l},choosedIcon:"",activeIndex:""}},computed:{show:{get:function(){return this.iconChooseVisible},set:function(){}}},methods:{reset:function(){this.activeIndex=""},chooseIcon:function(e){this.activeIndex=e,this.choosedIcon=e,this.$message.success("选中 ".concat(e))},ok:function(){""!==this.choosedIcon?(this.reset(),this.$emit("choose",this.choosedIcon)):this.$message.warning("尚未选择任何图标")},cancel:function(){this.reset(),this.$emit("close")}}},f=d,m=(n("3ab1"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"ea6fbdbc",null);t["default"]=p.exports},"12ce":function(e,t,n){"use strict";var r=n("06a6"),o=n.n(r);o.a},1348:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"main user-layout-register"},[t._m(0),r("a-form",{ref:"formRegister",attrs:{autoFormCreate:function(t){e.form=t},id:"formRegister"}},[r("a-form-item",{attrs:{fieldDecoratorId:"email",fieldDecoratorOptions:{rules:[{required:!0,type:"email",message:"请输入邮箱地址"}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"邮箱"}})],1),r("a-popover",{attrs:{placement:"rightTop",trigger:"click",visible:t.state.passwordLevelChecked}},[r("template",{slot:"content"},[r("div",{style:{width:"240px"}},[r("div",{class:["user-register",t.passwordLevelClass]},[t._v("强度："),r("span",[t._v(t._s(t.passwordLevelName))])]),r("a-progress",{attrs:{percent:t.state.percent,showInfo:!1,strokeColor:t.passwordLevelColor}}),r("div",{staticStyle:{"margin-top":"10px"}},[r("span",[t._v("请至少输入 6 个字符。请不要使用容易被猜到的密码。")])])],1)]),r("a-form-item",{attrs:{fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"至少6位密码，区分大小写"},{validator:this.handlePasswordLevel}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"至少6位密码，区分大小写"},on:{click:t.handlePasswordInputClick}})],1)],2),r("a-form-item",{attrs:{fieldDecoratorId:"password2",fieldDecoratorOptions:{rules:[{required:!0,message:"至少6位密码，区分大小写"},{validator:this.handlePasswordCheck}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"确认密码"}})],1),r("a-form-item",{attrs:{fieldDecoratorId:"mobile",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入正确的手机号",pattern:/^1[3456789]\d{9}$/},{validator:this.handlePhoneCheck}],validateTrigger:["change","blur"]}}},[r("a-input",{attrs:{size:"large",placeholder:"11 位手机号"}},[r("a-select",{attrs:{slot:"addonBefore",size:"large",defaultValue:"+86"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"+86"}},[t._v("+86")]),r("a-select-option",{attrs:{value:"+87"}},[t._v("+87")])],1)],1)],1),r("a-row",{attrs:{gutter:16}},[r("a-col",{staticClass:"gutter-row",attrs:{span:16}},[r("a-form-item",{attrs:{fieldDecoratorId:"captcha",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入验证码"}],validateTrigger:"blur"}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"验证码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1)],1),r("a-col",{staticClass:"gutter-row",attrs:{span:8}},[r("a-button",{staticClass:"getCaptcha",attrs:{size:"large",disabled:t.state.smsSendBtn},domProps:{textContent:t._s(t.state.smsSendBtn?t.state.time+" s":"获取验证码")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.getCaptcha(e)}}})],1)],1),r("a-form-item",[r("a-button",{staticClass:"register-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.registerBtn,disabled:t.registerBtn},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[t._v("注册\n      ")]),r("router-link",{staticClass:"login",attrs:{to:{name:"login"}}},[t._v("使用已有账户登录")])],1)],1)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[n("span",[e._v("注册")])])}],a=n("cebc"),i=n("ac0d"),s=n("7ded"),u={0:"低",1:"低",2:"中",3:"强"},c={0:"error",1:"error",2:"warning",3:"success"},l={0:"#ff0000",1:"#ff0000",2:"#ff7e05",3:"#52c41a"},d={name:"Register",components:{},mixins:[i["b"]],data:function(){return{form:null,state:{time:60,smsSendBtn:!1,passwordLevel:0,passwordLevelChecked:!1,percent:10,progressColor:"#FF0000"},registerBtn:!1}},computed:{passwordLevelClass:function(){return c[this.state.passwordLevel]},passwordLevelName:function(){return u[this.state.passwordLevel]},passwordLevelColor:function(){return l[this.state.passwordLevel]}},methods:{handlePasswordLevel:function(e,t,n){var r=0;/[0-9]/.test(t)&&r++,/[a-zA-Z]/.test(t)&&r++,/[^0-9a-zA-Z_]/.test(t)&&r++,this.state.passwordLevel=r,this.state.percent=30*r,r>=2?(r>=3&&(this.state.percent=100),n()):(0===r&&(this.state.percent=10),n(new Error("密码强度不够")))},handlePasswordCheck:function(e,t,n){var r=this.form.getFieldValue("password");console.log("value",t),void 0===t&&n(new Error("请输入密码")),t&&r&&t.trim()!==r.trim()&&n(new Error("两次密码不一致")),n()},handlePhoneCheck:function(e,t,n){console.log("handlePhoneCheck, rule:",e),console.log("handlePhoneCheck, value",t),console.log("handlePhoneCheck, callback",n),n()},handlePasswordInputClick:function(){this.isMobile()?this.state.passwordLevelChecked=!1:this.state.passwordLevelChecked=!0},handleSubmit:function(){var e=this;this.form.validateFields(function(t,n){t||e.$router.push({name:"registerResult",params:Object(a["a"])({},n)})})},getCaptcha:function(e){var t=this;e.preventDefault();var n=this;this.form.validateFields(["mobile"],{force:!0},function(e,r){if(!e){t.state.smsSendBtn=!0;var o=window.setInterval(function(){n.state.time--<=0&&(n.state.time=60,n.state.smsSendBtn=!1,window.clearInterval(o))},1e3),a=t.$message.loading("验证码发送中..",0);Object(s["a"])({mobile:r.mobile}).then(function(e){setTimeout(a,2500),t.$notification["success"]({message:"提示",description:"验证码获取成功，您的验证码为："+e.result.captcha,duration:8})}).catch(function(e){setTimeout(a,1),clearInterval(o),n.state.time=60,n.state.smsSendBtn=!1,t.requestFailed(e)})}})},requestFailed:function(e){this.$notification["error"]({message:"错误",description:((e.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4}),this.registerBtn=!1}},watch:{"state.passwordLevel":function(e){console.log(e)}}},f=d,m=(n("3c35e"),n("2b56"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"35079d90",null);t["default"]=p.exports},"13d2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-select",{attrs:{value:e.arrayValue,mode:"multiple",placeholder:e.placeholder},on:{change:e.onChange}},e._l(e.options,function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n    "+e._s(t.text)+"\n  ")])}),1)},o=[],a=(n("28a5"),{name:"JSelectMultiple",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!0},triggerChange:{type:Boolean,required:!1,default:!1}},data:function(){return{arrayValue:this.value?this.value.split(","):[]}},watch:{value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{onChange:function(e){this.triggerChange?this.$emit("change",e.join(",")):this.$emit("input",e.join(","))}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},1424:function(e,t,n){},"146b":function(module,__webpack_exports__,__webpack_require__){"use strict";for(var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1__),_components_ChartCard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("05ed"),ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("da05"),ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3896"),_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1d43"),_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("942d"),_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4ec6"),_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("f552"),_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("972f"),_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("8191"),_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bf13"),_components_chart_RankList__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("0923"),_components_chart_Bar__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("edd9"),_components_Trend__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("611e"),_api_manage__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("0fea"),_utils_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ca00"),dayjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("5a0c"),dayjs__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_17__),rankList=[],i=0;i<7;i++)rankList.push({name:"白鹭岛 "+(i+1)+" 号店",total:1234.56-100*i});var dataCol1=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"受理时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"办理进度",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],dataCol2=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"发起时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"超时时间",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],jhjgData=[{type:"房管","一月":900,"二月":1120,"三月":1380,"四月":1480,"五月":1450,"六月":1100,"七月":1300,"八月":900,"九月":1e3,"十月":1200,"十一月":600,"十二月":900},{type:"税务","一月":1200,"二月":1500,"三月":1980,"四月":2e3,"五月":1e3,"六月":600,"七月":900,"八月":1100,"九月":1300,"十月":2e3,"十一月":900,"十二月":1100},{type:"不动产","一月":2e3,"二月":1430,"三月":1300,"四月":1400,"五月":900,"六月":500,"七月":600,"八月":1e3,"九月":600,"十月":1e3,"十一月":1500,"十二月":1200}],jhjgFields=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],xljgData=[{type:"一月","房管":1.12,"税务":1.55,"不动产":1.2},{type:"二月","房管":1.65,"税务":1.32,"不动产":1.42},{type:"三月","房管":1.85,"税务":1.1,"不动产":1.5},{type:"四月","房管":1.33,"税务":1.63,"不动产":1.4},{type:"五月","房管":1.63,"税务":1.8,"不动产":1.7},{type:"六月","房管":1.85,"税务":1.98,"不动产":1.8},{type:"七月","房管":1.98,"税务":1.5,"不动产":1.76},{type:"八月","房管":1.48,"税务":1.2,"不动产":1.3},{type:"九月","房管":1.41,"税务":1.9,"不动产":1.6},{type:"十月","房管":1.1,"税务":1.1,"不动产":1.4},{type:"十一月","房管":1.85,"税务":1.6,"不动产":1.5},{type:"十二月","房管":1.5,"税务":1.4,"不动产":1.3}],xljgFields=["房管","税务","不动产"];__webpack_exports__["a"]={name:"Analysis",components:{ATooltip:ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__["a"],ACol:ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_3__["b"],ChartCard:_components_ChartCard__WEBPACK_IMPORTED_MODULE_2__["default"],MiniArea:_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_5__["default"],MiniBar:_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_6__["default"],MiniProgress:_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_11__["default"],RankList:_components_chart_RankList__WEBPACK_IMPORTED_MODULE_12__["default"],Bar:_components_chart_Bar__WEBPACK_IMPORTED_MODULE_13__["default"],Trend:_components_Trend__WEBPACK_IMPORTED_MODULE_14__["a"],LineChartMultid:_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_7__["default"],AreaChartTy:_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_8__["default"],DashChartDemo:_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_9__["default"],BarMultid:_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_10__["default"]},data:function(){return{xljgData:xljgData,xljgFields:xljgFields,jhjgData:jhjgData,jhjgFields:jhjgFields,loading:!0,rankList:rankList,zsll:0,zbjl:0,todaySll:0,todayBjl:0,todayISll:0,todayIBjl:0,registerTypeList:[{text:"业务受理"},{text:"业务管理"},{text:"文件管理"},{text:"信息查询"}],ipagination:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},dataSource:[],dataSource1:[],dataSource2:[],url:{analysis:"/sps/register/analysis",list:"sps/register/virtualList",countSll:"sps/register/sllTenDaysCount",countBjl:"sps/register/bjlTenDaysCount",countISll:"sps/register/ISllTenDaysCount",countIBjl:"sps/register/IBjlTenDaysCount",queryDiskInfo:"api/queryDiskInfo"},chartData:{sll:[],bjl:[],isll:[],ibjl:[]},cardCount:{sll:0,bjl:0,isll:0,ibjl:0},columns:dataCol1,columns2:dataCol2,diskInfo:[]}},methods:{goPage:function(e){0==e?this.$router.push({path:"/isps/registerStepForm",name:"isps-registerStepForm"}):1==e?this.$router.push({path:"/isps/registerList",name:"isps-registerList"}):2==e?this.$router.push({path:"/isps/fileManage",name:"isps-fileManage"}):3==e&&this.$router.push({path:"/isps/infoSearch",name:"isps-infoSearch"})},loadList:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.list,n).then(function(e){console.log("dsdsd",e.result),t.dataSource1=e.result.data1,t.dataSource2=e.result.data2,t.ipagination.total=5})},getQueryParams:function(){var e={flowStatus:"-3"};return e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(_utils_util__WEBPACK_IMPORTED_MODULE_16__["b"])(e)},formatRespectiveHoldCert:function formatRespectiveHoldCert(value){return"1"==value||eval(value)?"是":"否"},formatCertFormat:function(e){return"1"==e?"单一版":"2"==e?"集成版":e},getFlowRateNumber:function(e){return Number(e)},getFlowPercent:function(e){return"3"==e.flowStatus?100:"0"==e.flowStatus?0:e.flowRate},getFlowStatus:function(e){return"4"==e?"exception":"0"==e?"normal":"3"==e?"success":"active"},queryCount:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.analysis).then(function(t){t.success&&(e.cardCount=t.result),console.log(t)})},loadDiskInfo:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.queryDiskInfo).then(function(t){if(t.success){console.log(t.result);var n=0,r="";for(var o in t.result){var a=Number(t.result[o].max);a>n&&(n=a,r=t.result[o].name)}var i=t.result.filter(function(e){return e.name==r})[0];if(i.restPPT=i.restPPT/10,e.diskInfo.push(i),t.result.length>1){var s=0,u="";for(var c in t.result)if(t.result[c].name!=r){var l=Number(t.result[c].max);l>s&&(s=l,u=t.result[c].name)}var d=t.result.filter(function(e){return e.name==u})[0];d.restPPT=d.restPPT/10,e.diskInfo.push(d)}}else console.log(t.message)})},loadChartData:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.countSll).then(function(t){if(t.success){var n=t.result;for(var r in n){var o=r,a=n[r],i=dayjs__WEBPACK_IMPORTED_MODULE_17___default()(new Date).format("YYYY-MM-DD");o==i&&(e.todaySll=n[i]),e.chartData.sll.push({x:o,y:a})}}}),Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.countBjl).then(function(t){if(t.success){var n=t.result;for(var r in n){var o=r,a=n[r],i=dayjs__WEBPACK_IMPORTED_MODULE_17___default()(new Date).format("YYYY-MM-DD");o==i&&(e.todayBjl=n[i]),e.chartData.bjl.push({x:o,y:a})}}}),Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.countISll).then(function(t){if(t.success){var n=t.result;for(var r in n){var o=r,a=n[r],i=dayjs__WEBPACK_IMPORTED_MODULE_17___default()(new Date).format("YYYY-MM-DD");o==i&&(e.todayISll=n[i]),e.chartData.isll.push({x:r,y:a})}}}),Object(_api_manage__WEBPACK_IMPORTED_MODULE_15__["b"])(this.url.countIBjl).then(function(t){if(t.success){var n=t.result;for(var r in n){var o=r,a=n[r],i=dayjs__WEBPACK_IMPORTED_MODULE_17___default()(new Date).format("YYYY-MM-DD");o==i&&(e.todayIBjl=n[i]),e.chartData.ibjl.push({x:r,y:a})}}})}},created:function(){var e=this;this.loadDiskInfo(),this.queryCount(),this.loadChartData(),this.loadList(1),setTimeout(function(){e.loading=!e.loading},1e3)}}},"14db":function(e,t,n){"use strict";var r=n("7455"),o=n.n(r);o.a},"15dc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"年龄"}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.age,callback:function(t){e.$set(e.queryParam,"age",t)},expression:"queryParam.age"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"字典下拉"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户名称",dictCode:"sex"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"字典表下拉"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户",dictCode:"sys_user,realname,id"},model:{value:e.queryParam.realname,callback:function(t){e.$set(e.queryParam,"realname",t)},expression:"queryParam.realname"}})],1)],1)]:e._e(),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1),n("a-col",{attrs:{md:6,sm:24}},[e.superQueryFlag?[n("a-tooltip",{attrs:{title:"已有高级查询条件生效!"}},[n("button",{staticClass:"ant-btn ant-btn-primary",attrs:{disabled:!1},on:{click:e.superQuery}},[n("a-icon",{attrs:{type:"appstore",theme:"twoTone",spin:"true"}}),n("span",[e._v("高级查询")])],1)])]:n("a-button",{attrs:{type:"primary",icon:"filter"},on:{click:e.superQuery}},[e._v("高级查询")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n            "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n            "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],2)],2)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.jump}},[e._v("创建单据")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onetomany}},[e._v("一对多")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.exportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgDemo-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("JeecgDemoTabsModal",{ref:"jeecgDemoTabsModal",on:{ok:e.modalFormOk}}),n("j-super-query",{ref:"superQueryModal",attrs:{fieldList:e.fieldList},on:{handleSuperQuery:e.handleSuperQuery}})],1)},o=[],a=(n("7f7f"),n("f499")),i=n.n(a),s=n("e814"),u=n.n(s),c=n("c943"),l=n("8c6e"),d=n("3335"),f=(n("96cf"),n("28a5"),n("ac6a"),n("795b")),m=n.n(f);function p(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){return void n(c)}s.done?t(u):m.a.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new m.a(function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,s,"next",e)}function s(e){p(a,r,o,i,s,"throw",e)}i(void 0)})}}var g=n("4ec3");n("0fea");function v(e){return b.apply(this,arguments)}function b(){return b=h(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","字典Code不能为空!");case 2:return e.next=4,Object(g["f"])(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})),b.apply(this,arguments)}function y(e,t){var n="";return e.forEach(function(e){t===e.value&&(n=e.text)}),n}var w=n("b65a"),x=[{type:"date",value:"birthday",text:"生日"},{type:"string",value:"name",text:"用户名"},{type:"int",value:"age",text:"年龄"}],C={name:"JeecgDemoList",mixins:[w["a"]],components:{JeecgDemoModal:c["default"],JSuperQuery:l["default"],JeecgDemoTabsModal:d["default"]},data:function(){var e=this;return{description:"用户管理页面",sexDictOptions:[],importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgDemo/importExcel"),columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return u()(n)+1}},{title:"姓名",align:"center",dataIndex:"name"},{title:"关键词",align:"center",dataIndex:"keyWord"},{title:"打卡时间",align:"center",dataIndex:"punchTime"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(t){return y(e.sexDictOptions,t)}},{title:"年龄",align:"center",dataIndex:"age"},{title:"生日",align:"center",dataIndex:"birthday"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"个人简介",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/test/jeecgDemo/list",delete:"/test/jeecgDemo/delete",deleteBatch:"/test/jeecgDemo/deleteBatch"},fieldList:x}},methods:{exportXls:function(){var e=encodeURI(i()(this.getQueryParams()));console.log("paramsStr: "+e);var t="".concat(window._CONFIG["domianURL"],"/test/jeecgDemo/exportXls?paramsStr=").concat(e);window.location.href=t},handleImportExcel:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(this.$message.success("".concat(e.file.name," 文件上传成功")),this.loadData()):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 文件上传失败."))},initDictConfig:function(){var e=this;console.log("--我才是真的方法!--"),v("sex").then(function(t){t.success&&(e.sexDictOptions=t.result)})},onetomany:function(){this.$refs.jeecgDemoTabsModal.add(),this.$refs.jeecgDemoTabsModal.title="编辑"},jump:function(){this.$router.push({path:"/jeecg/helloworld"})}}},S=C,k=(n("933d"),n("2877")),_=Object(k["a"])(S,r,o,!1,null,"4869823e",null);t["default"]=_.exports},"17d8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"推送标题"}},[n("a-input",{attrs:{placeholder:"请输入推送标题"},model:{value:e.queryParam.esTitle,callback:function(t){e.$set(e.queryParam,"esTitle",t)},expression:"queryParam.esTitle"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"推送内容"}},[n("a-input",{attrs:{placeholder:"请输入推送内容"},model:{value:e.queryParam.esContent,callback:function(t){e.$set(e.queryParam,"esContent",t)},expression:"queryParam.esContent"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"接收人"}},[n("a-input",{attrs:{placeholder:"请输入接收人"},model:{value:e.queryParam.esReceiver,callback:function(t){e.$set(e.queryParam,"esReceiver",t)},expression:"queryParam.esReceiver"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"esContent",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:10}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多"),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysMessage-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("e814"),i=n.n(a),s=n("89ba"),u=n("b65a"),c=n("d579"),l={name:"SysMessageList",mixins:[u["a"]],components:{JEllipsis:c["default"],SysMessageModal:s["default"]},data:function(){return{description:"消息管理页面",show:!1,columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"消息标题",align:"center",dataIndex:"esTitle"},{title:"发送内容",align:"center",dataIndex:"esContent",scopedSlots:{customRender:"esContent"}},{title:"接收人",align:"center",dataIndex:"esReceiver"},{title:"发送次数",align:"center",dataIndex:"esSendNum"},{title:"发送状态",align:"center",dataIndex:"esSendStatus",customRender:function(e){return"0"==e?"未发送":"1"==e?"发送成功":"2"==e?"发送失败":void 0}},{title:"发送时间",align:"center",dataIndex:"esSendTime"},{title:"发送方式",align:"center",dataIndex:"esType",customRender:function(e){return"1"==e?"短信":"2"==e?"邮件":"3"==e?"微信":void 0}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/sysMessage/list",delete:"/message/sysMessage/delete",deleteBatch:"/message/sysMessage/deleteBatch",exportXlsUrl:"message/sysMessage/exportXls",importExcelUrl:"message/sysMessage/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},d=l,f=(n("9b87"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"20f5d94a",null);t["default"]=m.exports},"182e":function(e,t,n){"use strict";var r=n("d39a"),o=n.n(r);o.a},"1a83":function(e,t,n){},"1cf5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{height:e.height,data:e.data,scale:e.scale,forceFit:!0,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],a=(n("c5f6"),{name:"Bar",props:{title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},data:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){},methods:{}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},"1d43":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"antv-chart-mini"},[n("div",{staticClass:"chart-wrapper",style:{height:46}},[n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale,padding:[36,0,18,0]}},[n("v-tooltip"),n("v-smooth-area",{attrs:{position:"x*y"}})],1)],1)])},o=[],a=n("5a0c"),i=n.n(a),s=[],u=(new Date).getTime(),c=0;c<10;c++)s.push({x:i()(new Date(u+864e5*c)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var l={name:"MiniArea",props:{dataSource:{type:Array,default:function(){return[]}},x:{type:String,default:"x"},y:{type:String,default:"y"}},data:function(){return{data:[],height:100}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource}},d=l,f=(n("8cbe"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"1aa6f46a",null);t["default"]=m.exports},"1dc5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"标题"}},[n("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.queryParam.titile,callback:function(t){e.$set(e.queryParam,"titile",t)},expression:"queryParam.titile"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"内容"}},[n("a-input",{attrs:{placeholder:"请输入内容"},model:{value:e.queryParam.msgContent,callback:function(t){e.$set(e.queryParam,"msgContent",t)},expression:"queryParam.msgContent"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),0==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定发布吗?"},on:{confirm:function(){return e.releaseData(r.id)}}},[n("a",[e._v("发布")])])],1):e._e(),1==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定撤销吗?"},on:{confirm:function(){return e.reovkeData(r.id)}}},[n("a",[e._v("撤销")])])],1):e._e()],1)],1)],1)}}])})],1),n("sysAnnouncement-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("e814"),i=n.n(a),s=n("4647"),u=n("4ec3"),c=n("b65a"),l={name:"SysAnnouncementList",mixins:[c["a"]],components:{SysAnnouncementModal:s["default"]},data:function(){return{description:"系统通告表管理页面",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"标题",align:"center",dataIndex:"titile"},{title:"开始时间",align:"center",dataIndex:"startTime"},{title:"结束时间",align:"center",dataIndex:"endTime"},{title:"发布人",align:"center",dataIndex:"sender"},{title:"优先级",align:"center",dataIndex:"priority",customRender:function(e){return"L"==e?"低":"M"==e?"中":"H"==e?"高":e}},{title:"通告对象类型",align:"center",dataIndex:"msgType",customRender:function(e){return"USER"==e?"指定用户":"ALL"==e?"全体用户":e}},{title:"发布状态",align:"center",dataIndex:"sendStatus",customRender:function(e){return 0==e?"未发布":1==e?"已发布":2==e?"已撤销":e}},{title:"发布时间",align:"center",dataIndex:"sendTime"},{title:"撤销时间",align:"center",dataIndex:"cancelTime"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/annountCement/list",delete:"/sys/annountCement/delete",deleteBatch:"/sys/annountCement/deleteBatch",releaseDataUrl:"/sys/annountCement/doReleaseData",reovkeDataUrl:"sys/annountCement/doReovkeData",exportXlsUrl:"sys/annountCement/exportXls",importExcelUrl:"sys/annountCement/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{releaseData:function(e){console.log(e);var t=this;Object(u["l"])({id:e}).then(function(e){e.success?(t.$message.success(e.message),t.loadData(1)):t.$message.warning(e.message)})},reovkeData:function(e){var t=this;Object(u["m"])({id:e}).then(function(e){e.success?(t.$message.success(e.message),t.loadData(1)):t.$message.warning(e.message)})}}},d=l,f=(n("498e"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"2056ec74",null);t["default"]=m.exports},"1dcc":function(e,t,n){"use strict";var r=n("c751"),o=n.n(r);o.a},"1e63":function(e,t,n){"use strict";var r=n("8576"),o=n.n(r);o.a},"1f38":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=function(){return"undefined"!==typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n("c8ba"))},"1f6a":function(e,t,n){},"227d":function(e,t,n){"use strict";var r=n("9a22"),o=n.n(r);o.a},2285:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据规则/按钮权限配置",width:"365",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"数据规则"}},[e.dataruleList.length>0?n("a-checkbox-group",{model:{value:e.dataruleChecked,callback:function(t){e.dataruleChecked=t},expression:"dataruleChecked"}},[n("a-row",[e._l(e.dataruleList,function(t,r){return n("a-col",{key:"dr"+r,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.ruleName))])],1)}),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"100%","margin-top":"15px"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.saveDataruleForRole}},[e._v("点击保存")])],1)])],2)],1):n("div",[n("h3",[e._v("无配置信息!")])])],1)],1)],1)},o=[],a=(n("28a5"),n("290c")),i=n("da05"),s=n("0fea"),u={name:"RoleDataruleModal",components:{ACol:i["b"],ARow:a["a"]},data:function(){return{functionId:"",roleId:"",visible:!1,tabList:[{key:"1",tab:"数据规则"},{key:"2",tab:"按钮权限"}],activeTabKey:"1",url:{datarule:"/sys/role/datarule"},dataruleList:[],dataruleChecked:[]}},methods:{loadData:function(){var e=this;Object(s["b"])("".concat(this.url.datarule,"/").concat(this.functionId,"/").concat(this.roleId)).then(function(t){if(console.log(t),t.success){e.dataruleList=t.result.datarule;var n=t.result.drChecked;n&&(e.dataruleChecked=n.split(","))}})},saveDataruleForRole:function(){var e=this;if(!this.dataruleChecked||0==this.dataruleChecked.length)return this.$message.warning("请现勾选数据权限然后保存!"),!1;var t={permissionId:this.functionId,roleId:this.roleId,dataRuleIds:this.dataruleChecked.join(",")};console.log("保存数据权限",t),Object(s["g"])(this.url.datarule,t).then(function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)})},show:function(e,t){this.onReset(),this.functionId=e,this.roleId=t,this.visible=!0,this.loadData()},onClose:function(){this.visible=!1,this.onReset()},onTabChange:function(e){this.activeTabKey=e},onReset:function(){this.functionId="",this.roleId="",this.dataruleList=[],this.dataruleChecked=[]}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,"c899205e",null);t["default"]=d.exports},"22b8":function(e,t,n){},2401:function(e,t){(function(){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),r=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),o=tinymce.util.Tools.resolve("tinymce.util.VK"),a=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=function(e){return e&&3===e.nodeType},c=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},l=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},d=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},f=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},m=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},p=function(e){return e&&"BR"===e.nodeName},h=function(e){return e.parentNode.firstChild===e},g=function(e){return e.parentNode.lastChild===e},v=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},b=function(e,t){return e&&e.nodeName in t},y=function(e,t){return!!p(t)&&!(!e.isBlock(t.nextSibling)||p(t.previousSibling))},w=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},x=function(e,t){return e.isChildOf(t,e.getRoot())},C={isTextNode:u,isListNode:c,isOlUlNode:l,isDlItemNode:f,isListItemNode:d,isTableCellNode:m,isBr:p,isFirstChild:h,isLastChild:g,isTextBlock:v,isBlock:b,isBogusBr:y,isEmpty:w,isChildOfBody:x},S=function(e,t){if(C.isTextNode(e))return{container:e,offset:t};var r=n.getNode(e,t);return C.isTextNode(r)?{container:r,offset:t>=e.childNodes.length?r.data.length:0}:r.previousSibling&&C.isTextNode(r.previousSibling)?{container:r.previousSibling,offset:r.previousSibling.data.length}:r.nextSibling&&C.isTextNode(r.nextSibling)?{container:r.nextSibling,offset:0}:{container:e,offset:t}},k=function(e){var t=e.cloneRange(),n=S(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=S(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},_={getNormalizedPoint:S,normalizeRange:k},T=s.DOM,O=function(e){var t={},n=function(n){var r,o,a;o=e[n?"startContainer":"endContainer"],a=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=T.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[a]):T.insertAfter(r,o.childNodes[a])):o.appendChild(r),o=r,a=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=a};return n(!0),e.collapsed||n(),t},E=function(e){function t(t){var n,r,o,a=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=a(n),n=n.parentNode,T.remove(o),!n.hasChildNodes()&&T.isBlock(n)&&n.appendChild(T.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=T.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),_.normalizeRange(n)},D={createBookmark:O,resolveBookmark:E},R=function(e){return function(){return e}},N=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},I=R(!1),A=R(!0),M=I,B=A,L=function(){return P},P=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},a=function(){},i={fold:function(e,t){return e()},is:M,isSome:M,isNone:B,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:a,or:n,orThunk:t,map:L,ap:L,each:r,bind:L,flatten:L,exists:M,forall:B,filter:L,equals:e,equals_:e,toArray:function(){return[]},toString:R("none()")};return Object.freeze&&Object.freeze(i),i}(),z=function(e){var t=function(){return e},n=function(){return a},r=function(t){return z(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:B,isNone:M,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(L,function(t){return z(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:P},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(M,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},F=function(e){return null===e||void 0===e?P:z(e)},j={some:z,none:L,from:F},H=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},V=function(e){return function(t){return H(t)===e}},$=V("string"),U=V("boolean"),q=V("function"),W=V("number"),K=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o,e)}return r},Y=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},X=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];t(a,r,e)&&n.push(a)}return n},G=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],a=0,i=e.length;a<i;a++){var s=e[a],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},J=function(e,t,n){return Y(e,function(e){n=t(n,e)}),n},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return j.some(o)}return j.none()},Z=Array.prototype.push,ee=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Z.apply(t,e[n])}return t},te=function(e,t){var n=K(e,t);return ee(n)},ne=Array.prototype.slice,re=function(e){var t=ne.call(e,0);return t.reverse(),t},oe=function(e){return 0===e.length?j.none():j.some(e[0])},ae=function(e){return 0===e.length?j.none():j.some(e[e.length-1])},ie=(q(Array.from)&&Array.from,"undefined"!==typeof e.window?e.window:Function("return this;")()),se=function(e,t){for(var n=void 0!==t&&null!==t?t:ie,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},ue=function(e,t){var n=e.split(".");return se(n,t)},ce=function(e,t){return ue(e,t)},le=function(e,t){var n=ce(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},de={getOrDie:le},fe=function(e){return de.getOrDie("HTMLElement",e)},me=function(e){var t=ue("ownerDocument.defaultView",e);return fe(t).prototype.isPrototypeOf(e)},pe={isPrototypeOf:me},he=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ge=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",Se(e,t))},ve=function(e,t){return e&&1===t.length&&t[0]===e},be=function(e){return i.grep(e.querySelectorAll("ol,ul,dl"),function(e){return C.isListNode(e)})},ye=function(e){var t=ge(e),n=e.selection.getSelectedBlocks();return ve(t,n)?be(t):i.grep(n,function(e){return C.isListNode(e)&&t!==e})},we=function(e,t){var n=i.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",Se(e,t));return n||t});return he.unique(n)},xe=function(e){var t=e.selection.getSelectedBlocks();return i.grep(we(e,t),function(e){return C.isListItemNode(e)})},Ce=function(e){return X(xe(e),C.isDlItemNode)},Se=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},ke=function(e,t){var n=e.dom.getParents(t,"ol,ul",Se(e,t));return ae(n)},_e=function(e){var t=ke(e,e.selection.getStart()),n=X(e.selection.getSelectedBlocks(),C.isOlUlNode);return t.toArray().concat(n)},Te=function(e){var t=_e(e);return Oe(e,t)},Oe=function(e,t){var n=K(t,function(t){return ke(e,t).getOr(t)});return he.unique(n)},Ee=function(e){var t=ge(e);return pe.isPrototypeOf(t)},De={isList:Ee,getParentList:ge,getSelectedSubLists:ye,getSelectedListItems:xe,getClosestListRootElm:Se,getSelectedDlItems:Ce,getSelectedListRoots:Te},Re=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ae(o.childNodes[0])},Ne=function(t,n){var r=n||e.document,o=r.createElement(t);return Ae(o)},Ie=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Ae(o)},Ae=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:R(e)}},Me=function(e,t,n){var r=e.dom();return j.from(r.elementFromPoint(t,n)).map(Ae)},Be={fromHtml:Re,fromTag:Ne,fromText:Ie,fromDom:Ae,fromPoint:Me},Le=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return j.none();n.push(o.getOrDie())}return j.some(t.apply(null,n))},Pe=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return Y(t,function(e){o.appendChild(e.dom())}),Be.fromDom(o)},ze=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Y(e,function(e,n){r[e]=R(t[n])}),r}},Fe=Object.keys,je=function(e,t){for(var n=Fe(e),r=0,o=n.length;r<o;r++){var a=n[r],i=e[a];t(i,a,e)}},He=function(){var e=de.getOrDie("Node");return e},Ve=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},$e=function(e,t){return Ve(e,t,He().DOCUMENT_POSITION_PRECEDING)},Ue=function(e,t){return Ve(e,t,He().DOCUMENT_POSITION_CONTAINED_BY)},qe={documentPositionPreceding:$e,documentPositionContainedBy:Ue},We=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ke=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ye=function(e,t){var n=Ke(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Je(r(1),r(2))},Xe=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ge():Ye(e,n)},Ge=function(){return Je(0,0)},Je=function(e,t){return{major:e,minor:t}},Qe={nu:Je,detect:Xe,unknown:Ge},Ze="Edge",et="Chrome",tt="IE",nt="Opera",rt="Firefox",ot="Safari",at=function(e,t){return function(){return t===e}},it=function(){return st({current:void 0,version:Qe.unknown()})},st=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:at(Ze,t),isChrome:at(et,t),isIE:at(tt,t),isOpera:at(nt,t),isFirefox:at(rt,t),isSafari:at(ot,t)}},ut={unknown:it,nu:st,edge:R(Ze),chrome:R(et),ie:R(tt),opera:R(nt),firefox:R(rt),safari:R(ot)},ct="Windows",lt="iOS",dt="Android",ft="Linux",mt="OSX",pt="Solaris",ht="FreeBSD",gt=function(e,t){return function(){return t===e}},vt=function(){return bt({current:void 0,version:Qe.unknown()})},bt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:gt(ct,t),isiOS:gt(lt,t),isAndroid:gt(dt,t),isOSX:gt(mt,t),isLinux:gt(ft,t),isSolaris:gt(pt,t),isFreeBSD:gt(ht,t)}},yt={unknown:vt,nu:bt,windows:R(ct),ios:R(lt),android:R(dt),linux:R(ft),osx:R(mt),solaris:R(pt),freebsd:R(ht)},wt=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,a=e.isAndroid()&&3===e.version.major,i=e.isAndroid()&&4===e.version.major,s=r||a||i&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:R(r),isiPhone:R(o),isTablet:R(s),isPhone:R(c),isTouch:R(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:R(l)}},xt=function(e,t){var n=String(t).toLowerCase();return Q(e,function(e){return e.search(n)})},Ct=function(e,t){return xt(e,t).map(function(e){var n=Qe.detect(e.versionRegexes,t);return{current:e.name,version:n}})},St=function(e,t){return xt(e,t).map(function(e){var n=Qe.detect(e.versionRegexes,t);return{current:e.name,version:n}})},kt={detectBrowser:Ct,detectOs:St},_t=function(e,t){return-1!==e.indexOf(t)},Tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ot=function(e){return function(t){return _t(t,e)}},Et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=_t(e,"edge/")&&_t(e,"chrome")&&_t(e,"safari")&&_t(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tt],search:function(e){return _t(e,"chrome")&&!_t(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return _t(e,"msie")||_t(e,"trident")}},{name:"Opera",versionRegexes:[Tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ot("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ot("firefox")},{name:"Safari",versionRegexes:[Tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(_t(e,"safari")||_t(e,"mobile/"))&&_t(e,"applewebkit")}}],Dt=[{name:"Windows",search:Ot("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return _t(e,"iphone")||_t(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ot("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ot("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ot("linux"),versionRegexes:[]},{name:"Solaris",search:Ot("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ot("freebsd"),versionRegexes:[]}],Rt={browsers:R(Et),oses:R(Dt)},Nt=function(e){var t=Rt.browsers(),n=Rt.oses(),r=kt.detectBrowser(t,e).fold(ut.unknown,ut.nu),o=kt.detectOs(n,e).fold(yt.unknown,yt.nu),a=wt(o,r,e);return{browser:r,os:o,deviceType:a}},It={detect:Nt},At=We(function(){var t=e.navigator.userAgent;return It.detect(t)}),Mt={detect:At},Bt=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Lt=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,Bt),Pt=function(e,t){var n=e.dom();if(n.nodeType!==Lt)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},zt=function(e,t){return e.dom()===t.dom()},Ft=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},jt=function(e,t){return qe.documentPositionContainedBy(e.dom(),t.dom())},Ht=Mt.detect().browser,Vt=Ht.isIE()?jt:Ft,$t=Pt,Ut=function(e){var t=e.dom();return j.from(t.parentNode).map(Be.fromDom)},qt=function(e){var t=e.dom();return K(t.childNodes,Be.fromDom)},Wt=function(e,t){var n=e.dom().childNodes;return j.from(n[t]).map(Be.fromDom)},Kt=function(e){return Wt(e,0)},Yt=function(e){return Wt(e,e.dom().childNodes.length-1)},Xt=(ze("element","offset"),function(e,t){var n=Ut(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),Gt=function(e,t){e.dom().appendChild(t.dom())},Jt=function(e,t){Y(t,function(t){Xt(e,t)})},Qt=function(e,t){Y(t,function(t){Gt(e,t)})},Zt=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},en=function(e){var t=e.dom().nodeName;return t.toLowerCase()},tn=function(t,n,r){if(!($(r)||U(r)||W(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},nn=function(e,t){var n=e.dom();je(t,function(e,t){tn(n,t,e)})},rn=function(e){return J(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},on=function(e){return void 0!==e.style},an=function(t,n,r){if(!$(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);on(t)&&t.style.setProperty(n,r)},sn=function(e,t,n){var r=e.dom();an(r,t,n)},un=function(e,t){return Be.fromDom(e.dom().cloneNode(t))},cn=function(e){return un(e,!0)},ln=function(e,t){var n=Be.fromTag(t),r=rn(e);return nn(n,r),n},dn=function(e,t){var n=ln(e,t);Xt(e,n);var r=qt(e);return Qt(n,r),Zt(e),n},fn=function(e,t){Gt(e.item,t.list)},mn=function(e){for(var t=1;t<e.length;t++)fn(e[t-1],e[t])},pn=function(e,t){Le([ae(e),oe(t)],fn)},hn=function(e,t){var n={list:Be.fromTag(t,e),item:Be.fromTag("li",e)};return Gt(n.list,n.item),n},gn=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(hn(e,t.listType));return r},vn=function(e,t){for(var n=0;n<e.length-1;n++)sn(e[n].item,"list-style-type","none");ae(e).each(function(e){nn(e.list,t.listAttributes),nn(e.item,t.itemAttributes),Qt(e.item,t.content)})},bn=function(e,t){en(e.list)!==t.listType&&(e.list=dn(e.list,t.listType)),nn(e.list,t.listAttributes)},yn=function(e,t,n){var r=Be.fromTag("li",e);return nn(r,t),Qt(r,n),r},wn=function(e,t){Gt(e.list,t),e.item=t},xn=function(e,t,n){var r=t.slice(0,n.depth);return ae(r).each(function(t){var r=yn(e,n.itemAttributes,n.content);wn(t,r),bn(t,n)}),r},Cn=function(e,t,n){var r=gn(e,n,n.depth-t.length);return mn(r),vn(r,n),pn(t,r),t.concat(r)},Sn=function(e,t){var n=J(t,function(t,n){return n.depth>t.length?Cn(e,t,n):xn(e,t,n)},[]);return oe(n).map(function(e){return e.list})},kn=function(e){return $t(e,"OL,UL")},_n=function(e){return Kt(e).map(kn).getOr(!1)},Tn=function(e){return Yt(e).map(kn).getOr(!1)},On=function(e){return e.depth>0},En=function(e){return e.isSelected},Dn=function(e){var t=qt(e),n=Tn(e)?t.slice(0,-1):t;return K(n,cn)},Rn=function(e,t,n){return Ut(e).map(function(r){return{depth:t,isSelected:n,content:Dn(e),itemAttributes:rn(e),listAttributes:rn(r),listType:en(r)}})},Nn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},In=Object.prototype.hasOwnProperty,An=function(e,t){return t},Mn=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var a=t[o];for(var i in a)In.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},Bn=Mn(An),Ln=function(e,t){e.listType=t.listType,e.listAttributes=Bn({},t.listAttributes)},Pn=function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return j.some(e[r]);if(e[r].depth<n)break}return j.none()},zn=function(e){Y(e,function(t,n){Pn(e,n).each(function(e){Ln(t,e)})})},Fn=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return Fn(n())};return{get:n,set:r,clone:o}},jn=function(e,t,n,r){return Kt(r).filter(kn).fold(function(){t.each(function(e){zt(e.start,r)&&n.set(!0)});var o=Rn(r,e,n.get());t.each(function(e){zt(e.end,r)&&n.set(!1)});var a=Yt(r).filter(kn).map(function(r){return Hn(e,t,n,r)}).getOr([]);return o.toArray().concat(a)},function(r){return Hn(e,t,n,r)})},Hn=function(e,t,n,r){return te(qt(r),function(r){var o=kn(r)?Hn:jn,a=e+1;return o(a,t,n,r)})},Vn=function(e,t){var n=Fn(!1),r=0;return K(e,function(e){return{sourceList:e,entries:Hn(r,t,n,e)}})},$n=tinymce.util.Tools.resolve("tinymce.Env"),Un=function(e,t){var n,r,o,a,i=e.dom,s=e.schema.getBlockElements(),u=i.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&(r=i.create(o),r.tagName===e.settings.forced_root_block&&i.setAttribs(r,e.settings.forced_root_block_attrs),C.isBlock(t.firstChild,s)||u.appendChild(r)),t)while(n=t.firstChild){var c=n.nodeName;a||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(a=!0),C.isBlock(n,s)?(u.appendChild(n),r=null):o?(r||(r=i.create(o),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return e.settings.forced_root_block?a||$n.ie&&!($n.ie>10)||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},qn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},Wn=function(e,t){return K(t,function(t){var n=Pe(t.content);return Be.fromDom(Un(e,n.dom()))})},Kn=function(e,t){return zn(t),Sn(e.contentDocument,t).toArray()},Yn=function(e,t){return te(G(t,On),function(t){var n=oe(t).map(On).getOr(!1);return n?Kn(e,t):Wn(e,t)})},Xn=function(e,t){Y(X(e,En),function(e){return Nn(t,e)})},Gn=function(e){var t=K(De.getSelectedListItems(e),Be.fromDom);return Le([Q(t,N(_n)),Q(re(t),N(_n))],function(e,t){return{start:e,end:t}})},Jn=function(e,t,n){var r=Vn(t,Gn(e));Y(r,function(t){Xn(t.entries,n);var r=Yn(e,t.entries);Y(r,function(t){qn(e,"Indent"===n?"IndentList":"OutdentList",t.dom())}),Jt(t.sourceList,r),Zt(t.sourceList)})},Qn=s.DOM,Zn=function(e,t,n){var r,o,a,s,u,c=function(e){i.each(a,function(t){e.parentNode.insertBefore(t,n.parentNode)}),Qn.remove(e)};for(a=Qn.select('span[data-mce-type="bookmark"]',t),u=Un(e,n),r=Qn.createRng(),r.setStartAfter(n),r.setEndAfter(t),o=r.extractContents(),s=o.firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){Qn.remove(s);break}e.dom.isEmpty(o)||Qn.insertAfter(o,t),Qn.insertAfter(u,t),C.isEmpty(e.dom,n.parentNode)&&c(n.parentNode),Qn.remove(n),C.isEmpty(e.dom,t)&&Qn.remove(t)},er={splitList:Zn},tr=function(e,t){$t(t,"DD")?dn(t,"DT"):$t(t,"DT")&&Ut(t).each(function(n){return er.splitList(e,n.dom(),t.dom())})},nr=function(e){$t(e,"DT")&&dn(e,"DD")},rr=function(e,t,n){Y(n,"Indent"===t?nr:function(t){return tr(e,t)})},or=function(e,t){var n=K(De.getSelectedListRoots(e),Be.fromDom),r=K(De.getSelectedDlItems(e),Be.fromDom),o=!1;if(n.length||r.length){var a=e.selection.getBookmark();Jn(e,n,t),rr(e,t,r),e.selection.moveToBookmark(a),e.selection.setRng(_.normalizeRange(e.selection.getRng())),e.nodeChanged(),o=!0}return o},ar=function(e){return or(e,"Indent")},ir=function(e){return or(e,"Outdent")},sr=function(e){return or(e,"Flatten")},ur=function(e){return/\btox\-/.test(e.className)},cr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},lr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},dr=function(e,t){i.each(t,function(t,n){e.setAttribute(n,t)})},fr=function(e,t,n){dr(t,n["list-attributes"]),i.each(e.select("li",t),function(e){dr(e,n["list-item-attributes"])})},mr=function(e,t,n){lr(e,t,n),fr(e,t,n)},pr=function(e,t,n){i.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},hr=function(e,t,n,r){var o,a;o=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o),!n&&C.isBr(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(C.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},gr=function(e,t,n){for(var r,o=[],s=e.dom,u=hr(e,t,!0,n),c=hr(e,t,!1,n),l=[],d=u;d;d=d.nextSibling)if(l.push(d),d===c)break;return i.each(l,function(t){if(C.isTextBlock(e,t))return o.push(t),void(r=null);if(s.isBlock(t)||C.isBr(t))return C.isBr(t)&&s.remove(t),void(r=null);var i=t.nextSibling;a.isBookmarkNode(t)&&(C.isTextBlock(e,i)||!i&&t.parentNode===n)?r=null:(r||(r=s.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))}),o},vr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},br=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),a="LI",s=De.getClosestListRootElm(e,e.selection.getStart(!0)),u=e.dom;"false"!==u.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(a="DT"),r=D.createBookmark(o),i.each(gr(e,o,s),function(r){var o,i;i=r.previousSibling,i&&C.isListNode(i)&&i.nodeName===t&&vr(u,i,n)?(o=i,r=u.rename(r,a),i.appendChild(r)):(o=u.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=u.rename(r,a)),pr(u,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),mr(u,o,n),Sr(e.dom,o)}),e.selection.setRng(D.resolveBookmark(r)))},yr=function(e,t){return e&&t&&C.isListNode(e)&&e.nodeName===t.nodeName},wr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},xr=function(e,t){return e.className===t.className},Cr=function(e,t,n){return yr(t,n)&&wr(e,t,n)&&xr(t,n)},Sr=function(e,t){var n,r;if(n=t.nextSibling,Cr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Cr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},kr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);mr(e.dom,o,r),qn(e,cr(n),o)}else mr(e.dom,t,r),qn(e,cr(n),t)},_r=function(e,t,n,r,o){if(t.nodeName!==r||Tr(o)){var a=D.createBookmark(e.selection.getRng(!0));i.each([t].concat(n),function(t){kr(e,t,r,o)}),e.selection.setRng(D.resolveBookmark(a))}else sr(e)},Tr=function(e){return"list-style-type"in e},Or=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Tr(r)||ur(t)){var o=D.createBookmark(e.selection.getRng(!0));mr(e.dom,t,r);var a=e.dom.rename(t,n);Sr(e.dom,a),e.selection.setRng(D.resolveBookmark(o)),qn(e,cr(n),a)}else sr(e);else br(e,n,r),qn(e,cr(n),t)},Er=function(e,t,n){var r=De.getParentList(e),o=De.getSelectedSubLists(e);n=n||{},r&&o.length>0?_r(e,r,o,t,n):Or(e,r,t,n)},Dr={toggleList:Er,mergeWithAdjacentLists:Sr},Rr=s.DOM,Nr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),C.isEmpty(e,r)&&Rr.remove(r)):Rr.setStyle(r,"listStyleType","none")),C.isListNode(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},Ir=function(e,t){i.each(i.grep(e.select("ol,ul",t)),function(t){Nr(e,t)})},Ar={normalizeList:Nr,normalizeLists:Ir},Mr=function(e,t,o,a){var i,s,u=t.startContainer,c=t.startOffset;if(3===u.nodeType&&(o?c<u.data.length:c>0))return u;i=e.schema.getNonEmptyElements(),1===u.nodeType&&(u=n.getNode(u,c)),s=new r(u,a),o&&C.isBogusBr(e.dom,u)&&s.next();while(u=s[o?"next":"prev2"]()){if("LI"===u.nodeName&&!u.hasChildNodes())return u;if(i[u.nodeName])return u;if(3===u.nodeType&&u.data.length>0)return u}},Br=function(e,t){var n=t.childNodes;return 1===n.length&&!C.isListNode(n[0])&&e.isBlock(n[0])},Lr=function(e,t){Br(e,t)&&e.remove(t.firstChild,!0)},Pr=function(e,t,n){var r,o;if(o=Br(e,n)?n.firstChild:n,Lr(e,t),!C.isEmpty(e,t,!0))while(r=t.firstChild)o.appendChild(r)},zr=function(e,t,n){var r,o,a=t.parentNode;if(C.isChildOfBody(e,t)&&C.isChildOfBody(e,n)){C.isListNode(n.lastChild)&&(o=n.lastChild),a===n.lastChild&&C.isBr(a.previousSibling)&&e.remove(a.previousSibling),r=n.lastChild,r&&C.isBr(r)&&t.hasChildNodes()&&e.remove(r),C.isEmpty(e,n,!0)&&e.$(n).empty(),Pr(e,t,n),o&&n.appendChild(o);var i=Vt(Be.fromDom(n),Be.fromDom(t)),s=i?e.getParents(t,C.isListNode,n):[];e.remove(t),Y(s,function(t){C.isEmpty(e,t)&&t!==e.getRoot()&&e.remove(t)})}},Fr=function(e,t,n){e.dom.$(n).empty(),zr(e.dom,t,n),e.selection.setCursorLocation(n)},jr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Fr(e,n,r);else{var a=D.createBookmark(t);zr(o,n,r),e.selection.setRng(D.resolveBookmark(a))}},Hr=function(e,t,n,r){var o=D.createBookmark(t);zr(e.dom,n,r);var a=D.resolveBookmark(o);e.selection.setRng(a)},Vr=function(e,t){var n,r,o,a=e.dom,i=e.selection,s=i.getStart(),u=De.getClosestListRootElm(e,s),c=a.getParent(i.getStart(),"LI",u);if(c){if(n=c.parentNode,n===e.getBody()&&C.isEmpty(a,n))return!0;if(r=_.normalizeRange(i.getRng(!0)),o=a.getParent(Mr(e,r,t,u),"LI",u),o&&o!==c)return t?jr(e,r,o,c):Hr(e,r,c,o),!0;if(!o&&!t)return sr(e),!0}return!1},$r=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Ur=function(e,t){var n=e.dom,r=e.selection.getStart(),o=De.getClosestListRootElm(e,r),a=n.getParent(r,n.isBlock,o);if(a&&n.isEmpty(a)){var i=_.normalizeRange(e.selection.getRng(!0)),s=n.getParent(Mr(e,i,t,o),"LI",o);if(s)return e.undoManager.transact(function(){$r(n,a,o),Dr.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},qr=function(e,t){return Vr(e,t)||Ur(e,t)},Wr=function(e){var t=e.selection.getStart(),n=De.getClosestListRootElm(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||De.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),Ar.normalizeLists(e.dom,e.getBody())}),!0)},Kr=function(e,t){return e.selection.isCollapsed()?qr(e,t):Wr(e)},Yr=function(e){e.on("keydown",function(t){t.keyCode===o.BACKSPACE?Kr(e,!1)&&t.preventDefault():t.keyCode===o.DELETE&&Kr(e,!0)&&t.preventDefault()})},Xr={setup:Yr,backspaceDelete:Kr},Gr=function(e){return{backspaceDelete:function(t){Xr.backspaceDelete(e,t)}}},Jr={get:Gr},Qr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},Zr=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?ar(e):"outdent"===n&&ir(e)}),e.addCommand("InsertUnorderedList",function(t,n){Dr.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){Dr.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){Dr.toggleList(e,"DL",n)}),e.addCommand("RemoveList",function(){sr(e)}),e.addQueryStateHandler("InsertUnorderedList",Qr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Qr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Qr(e,"DL"))},eo={register:Zr},to=function(e){return e.getParam("lists_indent_on_tab",!0)},no={shouldIndentOnTab:to},ro=function(e){e.on("keydown",function(t){t.keyCode!==o.TAB||o.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?ir(e):ar(e))&&t.preventDefault()})})},oo=function(e){no.shouldIndentOnTab(e)&&ro(e),Xr.setup(e)},ao={setup:oo},io=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return n}return-1},so=function(e,t){return function(n){var r=function(e){var r=io(e.parents,C.isTableCellNode),o=-1!==r?e.parents.slice(0,r):e.parents,a=i.grep(o,C.isListNode);n.setActive(a.length>0&&a[0].nodeName===t&&!ur(a[0]))};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}},uo=function(e){var t=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return-1!==i.inArray(n.split(/[ ,]/),t)},n=function(t){return function(){return e.execCommand(t)}};t(e,"advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:n("InsertOrderedList"),onSetup:so(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:n("InsertUnorderedList"),onSetup:so(e,"UL")}))},co={register:uo};function lo(){}t.add("lists",function(e){return ao.setup(e),co.register(e),eo.register(e),Jr.get(e)})})(window)})()},"258d":function(e,t,n){},"25f0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{ghost:"",type:"primary",icon:"delete"},on:{click:e.batchDel}},[e._v("批量删除\n    ")]):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{attrs:{columns:e.columns,size:"middle",pagination:!1,dataSource:e.dataSource,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDataRule(r)}}},[e._v("数据规则")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"url",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"component",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e}})],1)}}])})],1),n("permission-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("permission-data-rule-list",{ref:"PermissionDataRuleList",on:{ok:e.modalFormOk}})],1)},o=[],a=n("b90e"),i=n("4ec3"),s=n("b65a"),u=n("56cd1"),c=n("d579"),l=[{title:"菜单名称",dataIndex:"name",key:"name"},{title:"菜单类型",dataIndex:"menuType",key:"menuType",customRender:function(e){return 0==e?"菜单":1==e?"菜单":2==e?"按钮":e}},{title:"icon",dataIndex:"icon",key:"icon"},{title:"组件",dataIndex:"component",key:"component",scopedSlots:{customRender:"component"}},{title:"路径",dataIndex:"url",key:"url",scopedSlots:{customRender:"url"}},{title:"排序",dataIndex:"sortNo",key:"sortNo"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:150}],d={name:"PermissionList",mixins:[s["a"]],components:{PermissionDataRuleList:u["default"],PermissionModal:a["default"],JEllipsis:c["default"]},data:function(){return{description:"这是菜单管理页面",columns:l,loading:!1,url:{list:"/sys/permission/list",delete:"/sys/permission/delete",deleteBatch:"/sys/permission/deleteBatch"}}},methods:{loadData:function(){var e=this;this.dataSource=[],Object(i["w"])().then(function(t){t.success&&(console.log(t.result),e.dataSource=t.result)})},handleDataRule:function(e){this.$refs.PermissionDataRuleList.edit(e)}}},f=d,m=(n("cfb8"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"52783f38",null);t["default"]=p.exports},2832:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.barType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},["month"===e.barType?n("a-form",{staticStyle:{"margin-top":"-4px"},attrs:{layout:"inline"}},[n("a-form-item",{attrs:{label:"月份区间"}},[n("a-range-picker",{attrs:{placeholder:["开始月份","结束月份"],format:"YYYY-MM",value:e.barValue,mode:e.barDate},on:{panelChange:e.handleBarDate}})],1),n("a-button",{staticStyle:{"margin-top":"2px"},attrs:{type:"primary",icon:"search"},on:{click:e.queryDatebar}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-top":"2px","margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1):e._e()],1),n("bar",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource}})],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"饼状图"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.pieType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},["month"===e.pieType?n("a-form",{staticStyle:{"margin-top":"-4px"},attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-form-item",{attrs:{label:"月份区间"}},[n("a-range-picker",{attrs:{placeholder:["开始月份","结束月份"],format:"YYYY-MM",value:e.pieValue,mode:e.pieDate},on:{panelChange:e.handlePieDate}})],1),n("a-button",{staticStyle:{"margin-top":"2px"},attrs:{type:"primary",icon:"search"},on:{click:e.queryDatepie}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-top":"2px","margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1):e._e()],1),n("pie",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource}})],1)],1)],1)],1)},o=[],a=n("edd9"),i=n("6cb2"),s=n("da05"),u=n("0fea"),c={name:"ArchivesStatisticst",components:{ACol:s["b"],Bar:a["default"],Pie:i["default"]},data:function(){return{description:"档案统计页面",queryParam:{},countSource:[],barType:"year",barDate:["month","month"],barValue:[],pieType:"year",pieDate:["month","month"],pieValue:[],tabStatus:"bar",url:{getYearCountInfo:"/api/report/getYearCountInfo",getMonthCountInfo:"/api/report/getMonthCountInfo",getCntrNoCountInfo:"/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/api/report/getCabinetCountInfo"}}},created:function(){var e=this.url.getYearCountInfo;this.loadDate(e,"year",{})},methods:{loadDate:function(e,t,n){var r=this;Object(u["b"])(e,n,"get").then(function(e){if(e.success)r.countSource=[],"year"===t&&r.getYearCountSource(e.result),"month"===t&&r.getMonthCountSource(e.result),"category"===t&&r.getCategoryCountSource(e.result),"cabinet"===t&&r.getCabinetCountSource(e.result);else{var n=r;n.$message.warning(e.message)}})},getYearCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:"".concat(e[t].year,"年"),y:e[t].yearcount}):this.countSource.push({item:"".concat(e[t].year,"年"),count:e[t].yearcount})},getMonthCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].month,y:e[t].monthcount}):this.countSource.push({item:e[t].month,count:e[t].monthcount})},getCategoryCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].classifyname,y:e[t].cntrnocount}):this.countSource.push({item:e[t].classifyname,count:e[t].cntrnocount})},getCabinetCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].cabinetname,y:e[t].cabinetcocunt}):this.countSource.push({item:e[t].cabinetname,count:e[t].cabinetcocunt})},callback:function(e){"1"===e?(this.tabStatus="bar",this.queryDatebar()):(this.tabStatus="pie",this.queryDatepie())},statisticst:function(e){"pie"===this.tabStatus?(this.pieType=e.target.value,this.queryDatepie()):(this.barType=e.target.value,this.queryDatebar())},queryDatebar:function(){this.barValue.length>0?this.getUrl(this.barType,{startTime:this.barValue[0]._d,endTime:this.barValue[1]._d}):this.getUrl(this.barType,{})},queryDatepie:function(){this.pieValue.length>0?this.getUrl(this.pieType,{startTime:this.pieValue[0]._d,endTime:this.pieValue[1]._d}):this.getUrl(this.pieType,{})},searchReset:function(){console.log(this.tabStatus),"pie"===this.tabStatus?this.pieValue=[]:this.barValue=[],this.getUrl(this.barType,{})},getUrl:function(e,t){var n="";"year"===e&&(n=this.url.getYearCountInfo),"month"===e&&(n=this.url.getMonthCountInfo),"category"===e&&(n=this.url.getCntrNoCountInfo),"cabinet"===e&&(n=this.url.getCabinetCountInfo),this.loadDate(n,e,t)},handleBarDate:function(e,t){this.barValue=e,this.barDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]},handlePieDate:function(e,t){this.pieValue=e,this.pieDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]}}},l=c,d=(n("ca7f"),n("2877")),f=Object(d["a"])(l,r,o,!1,null,"0719287a",null);t["default"]=f.exports},2873:function(e,t,n){"use strict";var r=n("f153"),o=n.n(r);o.a},2977:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"登录日志"}}),n("a-tab-pane",{key:"2",attrs:{tab:"操作日志"}})],1)],1),n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"搜索日志"}},[n("a-input",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.queryParam.keyWord,callback:function(t){e.$set(e.queryParam,"keyWord",t)},expression:"queryParam.keyWord"}})],1)],1),n("a-col",{attrs:{md:8,sm:10}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-range-picker",{staticStyle:{width:"210px"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onDateChange,ok:e.onDateOk},model:{value:e.queryParam.createTimeRange,callback:function(t){e.$set(e.queryParam,"createTimeRange",t)},expression:"queryParam.createTimeRange"}})],1)],1),n("a-col",{attrs:{md:8,sm:10}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"right"}},[n("a-button",{staticStyle:{left:"-35px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px",left:"-35px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("a-table",{ref:"table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("p",{directives:[{name:"show",rawName:"v-show",value:2==e.queryParam.logType,expression:"queryParam.logType==2"}],staticStyle:{margin:"0"}},[e._v("\n        请求方法： "+e._s(t.method)+"\n        "),n("a-divider",{attrs:{dashed:""}}),e._v("\n        请求参数： "+e._s(t.requestParam)+"\n      ")],1)}}])})],1)},o=[],a=n("5176"),i=n.n(a),s=n("e814"),u=n.n(s),c=n("ca00"),l=n("b65a"),d={name:"LogList",mixins:[l["a"]],data:function(){return{description:"这是日志管理页面",queryParam:{ipInfo:"",createTimeRange:[],logType:"1",keyWord:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",align:"center",customRender:function(e,t,n){return u()(n)+1}},{title:"日志内容",align:"left",dataIndex:"logContent",sorter:!0},{title:"操作人ID",dataIndex:"userid",align:"center",sorter:!0},{title:"操作人名称",dataIndex:"username",align:"center",sorter:!0},{title:"IP",dataIndex:"ip",align:"center",sorter:!0},{title:"耗时(毫秒)",dataIndex:"costTime",align:"center",sorter:!0},{title:"日志类型",dataIndex:"logType_dictText",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0}],labelCol:{xs:{span:1},sm:{span:2}},wrapperCol:{xs:{span:10},sm:{span:16}},url:{list:"/sys/log/list"}}},methods:{getQueryParams:function(){console.log(this.queryParam.createTimeRange);var e=i()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,delete e.createTimeRange,Object(c["b"])(e)},searchReset:function(){var e=this,t=e.queryParam.logType;e.queryParam={},e.queryParam.logType=t,e.loadData(this.ipagination.current)},callback:function(e){var t=this;t.queryParam.logType=e,t.loadData()},onDateChange:function(e,t){console.log(t[0],t[1]),this.queryParam.createTime_begin=t[0],this.queryParam.createTime_end=t[1]},onDateOk:function(e){console.log(e)}}},f=d,m=(n("3dd7"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"7d294e50",null);t["default"]=p.exports},"2a70":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"5%",height:"85%","overflow-y":"hidden"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",e.validatorRules.roleName],expression:"[ 'roleName', validatorRules.roleName]"}],attrs:{placeholder:"请输入角色名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleCode",e.validatorRules.roleCode],expression:"[ 'roleCode', validatorRules.roleCode]"}],attrs:{placeholder:"请输入角色编码",disabled:e.roleDisabled}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"[ 'description', {} ]"}],attrs:{rows:5,placeholder:"..."}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("88bc"),u=n.n(s),c=n("4ec3"),l={name:"RoleModal",data:function(){return{title:"操作",visible:!1,roleDisabled:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{roleName:{rules:[{required:!0,message:"请输入角色名称!"}]},roleCode:{rules:[{required:!0,message:"请输入角色名称!"},{validator:this.validateRoleCode}]}}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.model.id?this.roleDisabled=!0:this.roleDisabled=!1,this.$nextTick(function(){t.form.setFieldsValue(u()(t.model,"roleName","description","roleCode"))})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o,a=i()(e.model,r);console.log(a),o=e.model.id?Object(c["r"])(a):Object(c["d"])(a),o.then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},validateRoleCode:function(e,t,n){if(/[\u4E00-\u9FA5]/g.test(t))n("角色编码不可输入汉字!");else{var r={id:this.model.id,roleCode:t};Object(c["h"])(r).then(function(e){e.success?n():n("角色编码已存在！")})}}}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,"483d12ee",null);t["default"]=m.exports},"2b56":function(e,t,n){"use strict";var r=n("0159"),o=n.n(r);o.a},"2bcd":function(e,t,n){"use strict";var r=n("04af"),o=n.n(r);o.a},"2ca2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-modal",{attrs:{centered:"",maskClosable:!1},on:{cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("div",{style:{textAlign:"center"},attrs:{slot:"title"},slot:"title"},[t._v("两步验证")]),r("template",{slot:"footer"},[r("div",{style:{textAlign:"center"}},[r("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("返回")]),r("a-button",{key:"submit",attrs:{type:"primary",loading:t.stepLoading},on:{click:t.handleStepOk}},[t._v("\n        继续\n      ")])],1)]),r("a-spin",{attrs:{spinning:t.stepLoading}},[r("a-form",{attrs:{layout:"vertical","auto-form-create":function(t){e.form=t}}},[r("div",{staticClass:"step-form-wrapper"},[t.stepLoading?r("p",{staticStyle:{"text-align":"center"}},[t._v("正在验证.."),r("br"),t._v("请稍后")]):r("p",{staticStyle:{"text-align":"center"}},[t._v("请在手机中打开 Google Authenticator 或两步验证 APP"),r("br"),t._v("输入 6 位动态码")]),r("a-form-item",{style:{textAlign:"center"},attrs:{hasFeedback:"",fieldDecoratorId:"stepCode",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入 6 位动态码!",pattern:/^\d{6}$/,len:6}]}}},[r("a-input",{style:{textAlign:"center"},attrs:{placeholder:"000000"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleStepOk(e)}}})],1),r("p",{staticStyle:{"text-align":"center"}},[r("a",{on:{click:t.onForgeStepCode}},[t._v("遗失手机?")])])],1)])],1)],2)},o=[],a={props:{visible:{type:Boolean,default:!1}},data:function(){return{stepLoading:!1,form:null}},methods:{handleStepOk:function(){var e=this,t=this;this.stepLoading=!0,this.form.validateFields(function(n,r){if(!n)return console.log("values",r),void setTimeout(function(){t.stepLoading=!1,t.$emit("success",{values:r})},2e3);e.stepLoading=!1,e.$emit("error",{err:n})})},handleCancel:function(){this.visible=!1,this.$emit("cancel")},onForgeStepCode:function(){}}},i=a,s=(n("08db"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"de78a346",null);t["default"]=u.exports},"2d33":function(e,t,n){n("303c")},"2d51":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"我的待办",content:"8个任务",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周任务平均处理时间",content:"32分钟",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周完成任务数",content:"24个"}})],1)],1)],1),n("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"标准列表"}},[n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-radio-group",[n("a-radio-button",[e._v("全部")]),n("a-radio-button",[e._v("进行中")]),n("a-radio-button",[e._v("等待中")])],1),n("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"}})],1),n("div",{staticClass:"operate"},[n("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed",icon:"plus"}},[e._v("添加")])],1),n("a-list",{attrs:{size:"large",pagination:{showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50}}},e._l(e.data,function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",{attrs:{description:t.description}},[n("a-avatar",{attrs:{slot:"avatar",size:"large",shape:"square",src:t.avatar},slot:"avatar"}),n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])],1),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a",[e._v("编辑")])]),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",[e._v("编辑")])]),n("a-menu-item",[n("a",[e._v("删除")])])],1),n("a",[e._v("更多"),n("a-icon",{attrs:{type:"down"}})],1)],1)],1),n("div",{staticClass:"list-content"},[n("div",{staticClass:"list-content-item"},[n("span",[e._v("Owner")]),n("p",[e._v(e._s(t.owner))])]),n("div",{staticClass:"list-content-item"},[n("span",[e._v("开始时间")]),n("p",[e._v(e._s(t.startAt))])]),n("div",{staticClass:"list-content-item"},[n("a-progress",{staticStyle:{width:"180px"},attrs:{percent:t.progress.value,status:t.progress.status?t.progress.status:null}})],1)])],1)}),1)],1)],1)},o=[],a=n("81d1"),i=[];i.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",description:"那是一种内在的东西， 他们到达不了，也无法触及的",owner:"付晓晓",startAt:"2018-07-26 22:44",progress:{value:90}}),i.push({title:"Angular",avatar:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",description:"希望是一个好东西，也许是最好的，好东西是不会消亡的",owner:"曲丽丽",startAt:"2018-07-26 22:44",progress:{value:54}}),i.push({title:"Ant Design",avatar:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",description:"生命就像一盒巧克力，结果往往出人意料",owner:"林东东",startAt:"2018-07-26 22:44",progress:{value:66}}),i.push({title:"Ant Design Pro",avatar:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",description:"城镇中有那么多的酒馆，她却偏偏走进了我的酒馆",owner:"周星星",startAt:"2018-07-26 22:44",progress:{value:30}}),i.push({title:"Bootstrap",avatar:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",description:"那时候我只会想自己想要什么，从不想自己拥有什么",owner:"吴加好",startAt:"2018-07-26 22:44",progress:{status:"exception",value:100}});var s={name:"StandardList",components:{HeadInfo:a["default"]},data:function(){return{data:i}}},u=s,c=(n("8343"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"64b9f314",null);t["default"]=l.exports},"2d96":function(e,t,n){"use strict";var r=n("dc0a"),o=n.n(r);o.a},"2dab":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",{attrs:{disabled:e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat},on:{change:e.handleDateChange}})},o=[],a=n("c1df"),i=n.n(a),s={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1}},data:function(){var e=this.value;return{decorator:"",momVal:e?i()(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?i()(e,this.dateFormat):null}},methods:{moment:i.a,handleDateChange:function(e,t){this.triggerChange?this.$emit("change",t):this.$emit("input",t)}}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=l.exports},"2f3a":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"总销售额",total:"￥126,560"}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("周同比")]),e._v("\n            12%\n          ")]),n("trend",{attrs:{flag:"down"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("日同比")]),e._v("\n            11%\n          ")])],1),n("template",{slot:"footer"},[e._v("日均销售额"),n("span",[e._v("￥ 234.56")])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"访问量",total:e._f("NumberFormat")(8846)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area")],1),n("template",{slot:"footer"},[e._v("日访问量"),n("span",[e._v(" "+e._s(e._f("NumberFormat")("1234")))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"支付笔数",total:e._f("NumberFormat")(6560)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{height:40}})],1),n("template",{slot:"footer"},[e._v("转化率 "),n("span",[e._v("60%")])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"运营活动效果",total:"78%"}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-progress",{attrs:{color:"rgb(19, 194, 194)",target:80,percentage:78,height:8}})],1),n("template",{slot:"footer"},[n("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"down"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("同周比")]),e._v("\n            12%\n          ")]),n("trend",{attrs:{flag:"up"}},[n("span",{attrs:{slot:"term"},slot:"term"},[e._v("日环比")]),e._v("\n            80%\n          ")])],1)],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"销售额"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"销售额排行",dataSource:e.barData}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"访问量"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"销售额趋势",dataSource:e.barData}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("rank-list",{attrs:{title:"门店销售排行榜",list:e.rankList}})],1)],1)],1)],1)],1)]),n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{xl:12,lg:24,md:24,sm:24,xs:24}},[n("a-card",{style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1,title:"实时访问统计"}},[n("a-dropdown",{attrs:{slot:"extra",trigger:["click"],placement:"bottomLeft"},slot:"extra"},[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("操作一")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("操作二")])])],1)],1),n("div",{staticStyle:{height:"105px"}},[n("a-row",[n("a-col",{attrs:{span:8}},[n("div",{staticClass:"head-info",class:e.center&&"center"},[n("span",[e._v("今日IP")]),n("p",[n("a",[e._v(e._s(e.loginfo.todayIp))])])])]),n("a-col",{attrs:{span:8}},[n("div",{staticClass:"head-info",class:e.center&&"center"},[n("span",[e._v("今日访问")]),n("p",[n("a",[e._v(e._s(e.loginfo.todayVisitCount))])])])]),n("a-col",{attrs:{span:8}},[n("div",{staticClass:"head-info",class:e.center&&"center"},[n("span",[e._v("访问总览")]),n("p",[n("a",[e._v(e._s(e.loginfo.totalVisitCount))])])])])],1)],1)],1)],1),n("a-col",{attrs:{xl:12,lg:24,md:24,sm:24,xs:24}},[n("a-card",{style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1,title:"销售额类别占比"}},[n("a-dropdown",{attrs:{slot:"extra",trigger:["click"],placement:"bottomLeft"},slot:"extra"},[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("操作一")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("操作二")])])],1)],1),n("p",[e._v("card content")]),n("p",[e._v("card content")]),n("p",[e._v("card content")])],1)],1)],1)],1)},o=[],a=n("05ed"),i=n("da05"),s=n("3896"),u=n("1d43"),c=n("942d"),l=n("bf13"),d=n("0923"),f=n("edd9"),m=n("611e"),p=n("4ec3"),h=[],g=0;g<7;g++)h.push({name:"白鹭岛 "+(g+1)+" 号店",total:1234.56-100*g});for(var v=[],b=0;b<12;b+=1)v.push({x:"".concat(b+1,"月"),y:Math.floor(1e3*Math.random())+200});var y={name:"Analysis",components:{ATooltip:s["a"],ACol:i["b"],ChartCard:a["default"],MiniArea:u["default"],MiniBar:c["default"],MiniProgress:l["default"],RankList:d["default"],Bar:f["default"],Trend:m["a"]},data:function(){return{loading:!0,center:null,rankList:h,barData:v,loginfo:{}}},created:function(){var e=this;setTimeout(function(){e.loading=!e.loading},1e3),this.initLogInfo()},methods:{initLogInfo:function(){var e=this;Object(p["v"])(null).then(function(t){t.success&&(e.loginfo=t.result)})}}},w=y,x=(n("2873"),n("2877")),C=Object(x["a"])(w,r,o,!1,null,"673b9688",null);t["default"]=C.exports},"2f5e":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"small"},slot:"avatar"}),n("div",{staticClass:"meta-cardInfo",attrs:{slot:"description"},slot:"description"},[n("div",[n("p",[e._v("活跃用户")]),n("p",[n("span",[e._v(e._s(t.activeUser)),n("span",[e._v("万")])])])]),n("div",[n("p",[e._v("新增用户")]),n("p",[e._v(e._s(e._f("NumberFormat")(t.newUser)))])])])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[n("a-icon",{attrs:{type:"download"}})],1),n("a",[n("a-icon",{attrs:{type:"edit"}})],1),n("a",[n("a-icon",{attrs:{type:"share-alt"}})],1),n("a",[n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("1st menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("2nd menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("3rd menu item")])])],1)],1)],1)])],2)],1)}}])})],1)},o=[],a=[],i=0;i<11;i++)a.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",activeUser:17,newUser:1700});var s={name:"Article",components:{},data:function(){return{dataSource:a}}},u=s,c=(n("ce31"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"748e5dcb",null);t["default"]=l.exports},"2f6b":function(e,t,n){},"2f9b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  hello world!\n")])},o=[],a={data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},"303c":function(e,t){(function(){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){}t.add("colorpicker",function(){e.console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration")})})(window)})()},3335:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-card",{staticClass:"card",attrs:{bordered:!1}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"['task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"['task.executor',{rules: [{ required: true, message: '请选择执行人'}]}  ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"['task.manager',  {rules: [{ required: true, message: '请选择责任人'}]} ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"['task.time', {rules: [{ required: true, message: '请选择提醒时间'}]} ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"['task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"Tab 1"}},[n("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:!1,size:"middle"},scopedSlots:e._u([e._l(["name","workId","department"],function(t,r){return{key:t,fn:function(o,a,i){return[n("a-tooltip",{attrs:{title:"必填项",defaultVisible:!1,overlayStyle:"{ color: 'red' }"}},[a.editable?n("a-input",{key:t,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:e.columns[r].title},on:{change:function(n){return e.handlerRowChange(n.target.value,a.key,t)}}}):[e._v(e._s(o))]],2)]}}}),{key:"operation",fn:function(t,r,o){return[r.editable?[r.isNew?n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("添加")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1):n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.cancelEditRow(r.key)}}},[e._v("取消")])],1)]:n("span",[n("a",{on:{click:function(t){return e.editRow(r.key)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1)]}}],null,!0)}),n("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:e.newRow}},[e._v("新增成员")])],1),n("a-tab-pane",{key:"2",attrs:{tab:"Tab 2",forceRender:""}},[e._v("\n          Content of Tab Pane 2\n        ")]),n("a-tab-pane",{key:"3",attrs:{tab:"Tab 3"}},[e._v("Content of Tab Pane 3")])],1)],1)],1)],1)},o=[],a=n("75fc"),i=(n("6b54"),n("5176")),s=n.n(i),u=n("0fea"),c=n("88bc"),l=n.n(c),d=n("c1df"),f=n.n(d),m={name:"JeecgDemoTabsModal",data:function(){return{title:"操作",visible:!1,model:{},columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}],confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=s()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(l()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?f()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?f()(t.model.birthday):null})})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var i=s()(e.model,r);i.punchTime=i.punchTime?i.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,i.birthday=i.birthday?i.birthday.format():null,console.log(i),Object(u["f"])(o,i,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},newRow:function(){var e=Math.round((new Date).getTime()).toString();console.log("uuid: "+e),this.data.push({key:e,name:"",workId:"",department:"",editable:!0,isNew:!0})},removeRow:function(e){var t=this.data.filter(function(t){return t.key!==e});this.data=t},saveRow:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!1,t.isNew=!1},handlerRowChange:function(e,t,n){var r=Object(a["a"])(this.data),o=r.filter(function(e){return t===e.key})[0];o&&(o[n]=e,this.data=r)},editRow:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!t.editable},cancelEditRow:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!1}}},p=m,h=(n("3517"),n("2877")),g=Object(h["a"])(p,r,o,!1,null,"e1837066",null);t["default"]=g.exports},"33b1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Note",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['note',{rules: [{ required: true, message: 'Please input your note!' }]}]"}]})],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Please select your gender!"}]}],expression:"['gender',{rules: [{ required: true, message: 'Please select your gender!' }]}]"}],attrs:{placeholder:"Select a option and change input text above"},on:{change:this.handleSelectChange}},[n("a-select-option",{attrs:{value:"male"}},[e._v("male")]),n("a-select-option",{attrs:{value:"female"}},[e._v("female")])],1)],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-cascader",{attrs:{options:e.areaOptions,showSearch:{filter:e.filter},placeholder:"Please select"},on:{change:e.onChange}})],1)],1),n("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",htmlType:"submit"}},[e._v("Submit")])],1)],1)],1)],1)},o=[],a=n("0fea"),i={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),areaOptions:[]}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},handleSelectChange:function(e){console.log(e),this.form.setFieldsValue({note:"Hi, ".concat("male"===e?"man":"lady","!")})},onChange:function(e,t){console.log(e,t)},filter:function(e,t){return t.some(function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1})}},created:function(){var e=this;Object(a["b"])("/api/area").then(function(t){console.log("------------"),console.log(t),e.areaOptions=t})}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},"33e6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-settings-info-view"},[n("a-row",{attrs:{gutter:16}},[n("a-col",{attrs:{md:24,lg:16}},[n("a-form",{attrs:{layout:"vertical"}},[n("a-form-item",{attrs:{label:"昵称"}},[n("a-input",{attrs:{placeholder:"给自己起个名字"}})],1),n("a-form-item",{attrs:{label:"Bio"}},[n("a-textarea",{attrs:{rows:"4",placeholder:"You are not alone."}})],1),n("a-form-item",{attrs:{label:"电子邮件",required:!1}},[n("a-input",{attrs:{placeholder:"exp@admin.com"}})],1),n("a-form-item",{attrs:{label:"加密方式",required:!1}},[n("a-select",{attrs:{defaultValue:"aes-256-cfb"}},[n("a-select-option",{attrs:{value:"aes-256-cfb"}},[e._v("aes-256-cfb")]),n("a-select-option",{attrs:{value:"aes-128-cfb"}},[e._v("aes-128-cfb")]),n("a-select-option",{attrs:{value:"chacha20"}},[e._v("chacha20")])],1)],1),n("a-form-item",{attrs:{label:"连接密码",required:!1}},[n("a-input",{attrs:{placeholder:"h3gSbecd"}})],1),n("a-form-item",{attrs:{label:"登陆密码",required:!1}},[n("a-input",{attrs:{placeholder:"密码"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1),n("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[n("div",{staticClass:"ant-upload-preview",on:{click:function(t){return e.$refs.modal.edit(1)}}},[n("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),n("div",{staticClass:"mask"},[n("a-icon",{attrs:{type:"plus"}})],1),n("img",{attrs:{src:e.option.img}})],1)])],1),n("avatar-modal",{ref:"modal"})],1)},o=[],a=n("8d90"),i={components:{AvatarModal:a["default"]},data:function(){return{preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]}}},methods:{}},s=i,u=(n("0bd7"),n("2877")),c=Object(u["a"])(s,r,o,!1,null,"2ce253bc",null);t["default"]=c.exports},"34de":function(e,t,n){n("09cf")},3517:function(e,t,n){"use strict";var r=n("7ca6"),o=n.n(r);o.a},3521:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"standard-table"},[n("div",{staticClass:"alert"},[n("a-alert",{attrs:{type:"info","show-icon":!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRows.length))]),e._v("  \n        "),e._l(e.needTotalList,function(t,r){return t.needTotal?[e._v("\n          "+e._s(t.title)+" 总计 \n          "),n("a",{key:r,staticStyle:{"font-weight":"600"}},[e._v("\n            "+e._s(t.customRender?t.customRender(t.total):t.total)+"\n          ")]),e._v("  \n        ")]:e._e()}),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])],2)])],1),n("a-table",{attrs:{size:e.size,bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.current,rowKey:e.rowKey,pagination:e.pagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}}})],1)},o=[],a=(n("ac6a"),n("cebc")),i=n("5176"),s=n.n(i),u=(n("c5f6"),{name:"StandardTable",props:{data:{type:Function,required:!0},dataSource:{type:Array,default:function(){return[]}},columns:{type:Array,required:!0},pageSize:{type:Number,default:10},pageNum:{type:Number,default:1},pageSizeOptions:{type:Array,default:function(){return["10","20","30","40","50"]}},responseParamsName:{type:Object,default:function(){return{}}},bordered:{type:Boolean,default:!1},size:{type:String,default:"default"},rowKey:{type:String,default:""},selectedRows:{type:Array,default:null}},data:function(){return{needTotalList:[],selectedRowKeys:[],loading:!0,total:0,pageNumber:this.pageNum,currentPageSize:this.pageSize,defaultCurrent:1,sortParams:{},current:[],pagination:{},paramsName:{}}},created:function(){this.paramsName=s()({},{pageNumber:"pageNo",pageSize:"pageSize",total:"totalCount",results:"data",sortColumns:"sortColumns"},this.responseParamsName),this.needTotalList=this.initTotalList(this.columns),this.loadData({pageNum:this.pageNumber})},methods:{updateSelect:function(e,t){this.selectedRowKeys=e;var n=this.needTotalList;this.needTotalList=n.map(function(e){return Object(a["a"])({},e,{total:t.reduce(function(t,n){return t+n[e.dataIndex]},0)})}),this.$emit("change",e,t)},initTotalList:function(e){var t=[];return e.forEach(function(e){e.needTotal&&t.push(Object(a["a"])({},e,{total:0}))}),t},loadData:function(e){var t=this;t.loading=!0,e=s()({},e);var n=s()({},t.sortParams);n[t.paramsName.pageNumber]=e.pageNum||t.pageNumber,n[t.paramsName.pageSize]=e.pageSize||t.currentPageSize,e.pageNum&&(t.pageNumber=e.pageNum),e.pageSize&&(t.currentPageSize=e.pageSize);var r=t.data(n);r.then(function(e){if(e){var n=e[t.paramsName.results];n=n instanceof Array&&n||[],t.current=n,t.$emit("update:currentData",t.current.slice()),t.$emit("dataloaded",t.current.slice()),t.total=1*e[t.paramsName.total],t.pagination=t.pager(),t.loading=!1}else t.loading=!1},function(){t.loading=!1})},onPagerChange:function(e,t){this.pageNumber=e,this.loadData({pageNum:e})},onPagerSizeChange:function(e,t){this.currentPageSize=t},onClearSelected:function(){this.selectedRowKeys=[],this.updateSelect([],[])},pager:function(){return{total:this.total,showTotal:function(e){return"共有 ".concat(e," 条")},showSizeChanger:!0,pageSizeOptions:this.pageSizeOptions,pageSize:this.pageSize,defaultCurrent:this.defaultCurrent,onChange:this.onPagerChange,onShowSizeChange:this.onPagerSizeChange}}},watch:{selectedRows:function(e){this.needTotalList=this.needTotalList.map(function(t){return Object(a["a"])({},t,{total:e.reduce(function(e,n){return e+n[t.dataIndex]},0)})})}}}),c=u,l=(n("d1c8"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"1cb7fdee",null);t["default"]=d.exports},3699:function(e,t){(function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},n=function(e){return function(n){return t(n)===e}},r=n("string"),o=n("function"),a=Object.prototype.hasOwnProperty,i=function(e,t){return t},s=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var s in i)a.call(i,s)&&(r[s]=e(r[s],i[s]))}return r}},u=s(i),c=function(e){return function(){return e}},l=c(!1),d=c(!0),f=l,m=d,p=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},a=function(){},i={fold:function(e,t){return e()},is:f,isSome:f,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:a,or:n,orThunk:t,map:p,ap:p,each:r,bind:p,flatten:p,exists:f,forall:m,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")};return Object.freeze&&Object.freeze(i),i}(),g=function(e){var t=function(){return e},n=function(){return a},r=function(t){return g(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(p,function(t){return g(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:h},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},v=function(e){return null===e||void 0===e?h:g(e)},b={some:g,none:p,from:v},y=Object.hasOwnProperty,w=function(e,t){return x(e,t)?b.from(e[t]):b.none()},x=function(e,t){return y.call(e,t)},C=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},S=Array.prototype.push,k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t},_=Array.prototype.slice,T=(o(Array.from)&&Array.from,tinymce.util.Tools.resolve("tinymce.util.Tools")),O=function(e){return e.getParam("media_scripts")},E=function(e){return e.getParam("audio_template_callback")},D=function(e){return e.getParam("video_template_callback")},R=function(e){return e.getParam("media_live_embeds",!0)},N=function(e){return e.getParam("media_filter_html",!0)},I=function(e){return e.getParam("media_url_resolver")},A=function(e){return e.getParam("media_alt_source",!0)},M=function(e){return e.getParam("media_poster",!0)},B=function(e){return e.getParam("media_dimensions",!0)},L={getScripts:O,getAudioTemplateCallback:E,getVideoTemplateCallback:D,hasLiveEmbeds:R,shouldFilterHtml:N,getUrlResolver:I,hasAltSource:A,hasPoster:M,hasDimensions:B},P=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),z=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},j={getVideoScriptMatch:F},H=function(e){return e.replace(/px$/,"")},V=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},$=function(e){return function(t){return t?H(t.style[e]):""}},U=function(e){return function(t,n){t&&(t.style[e]=V(n))}},q={getMaxWidth:$("maxWidth"),getMaxHeight:$("maxHeight"),setMaxWidth:U("maxWidth"),setMaxHeight:U("maxHeight")},W=z.DOM,K=function(e){return W.getAttrib(e,"data-ephox-embed-iri")},Y=function(e){var t=W.createFragment(e);return""!==K(t.firstChild)},X=function(e,t){var n={};return P({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,r){if(n.source1||"param"!==t||(n.source1=r.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(n.type||(n.type=t),n=T.extend(r.map,n)),"script"===t){var o=j.getVideoScriptMatch(e,r.map.src);if(!o)return;n={type:"script",source1:r.map.src,width:o.width,height:o.height}}"source"===t&&(n.source1?n.source2||(n.source2=r.map.src):n.source1=r.map.src),"img"!==t||n.poster||(n.poster=r.map.src)}}).parse(t),n.source1=n.source1||n.src||n.data,n.source2=n.source2||"",n.poster=n.poster||"",n},G=function(e){var t=W.createFragment(e),n=t.firstChild;return{type:"ephox-embed-iri",source1:K(n),source2:"",poster:"",width:q.getMaxWidth(n),height:q.getMaxHeight(n)}},J=function(e,t){return Y(t)?G(t):X(e,t)},Q={htmlToData:J},Z=tinymce.util.Tools.resolve("tinymce.util.Promise"),ee=function(e){var t={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},te={guess:ee},ne=tinymce.util.Tools.resolve("tinymce.html.Writer"),re=tinymce.util.Tools.resolve("tinymce.html.Schema"),oe=z.DOM,ae=function(e,t){var n,r,o,a;for(n in t)if(o=""+t[n],e.map[n]){r=e.length;while(r--)a=e[r],a.name===n&&(o?(e.map[n]=o,a.value=o):(delete e.map[n],e.splice(r,1)))}else o&&(e.push({name:n,value:o}),e.map[n]=o)},ie=function(e){var t=ne(),n=P(t);return n.parse(e),t.getContent()},se=function(e,t,n){var r,o=ne(),a=0;return P({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,i,s){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&ae(i,{width:t.width,height:t.height});break}if(n)switch(e){case"video":ae(i,{poster:t.poster,src:""}),t.source2&&ae(i,{src:""});break;case"iframe":ae(i,{src:t.source1});break;case"source":if(a++,a<=2&&(ae(i,{src:t["source"+a],type:t["source"+a+"mime"]}),!t["source"+a]))return;break;case"img":if(!t.poster)return;r=!0;break}o.start(e,i,s)},end:function(e){if("video"===e&&n)for(var i=1;i<=2;i++)if(t["source"+i]){var s=[];s.map={},a<i&&(ae(s,{src:t["source"+i],type:t["source"+i+"mime"]}),o.start("source",s,!0))}if(t.poster&&"object"===e&&n&&!r){var u=[];u.map={},ae(u,{src:t.poster,width:t.width,height:t.height}),o.start("img",u,!0)}o.end(e)}},re({})).parse(e),o.getContent()},ue=function(e){var t=oe.createFragment(e);return""!==oe.getAttrib(t.firstChild,"data-ephox-embed-iri")},ce=function(e,t){var n=oe.createFragment(e),r=n.firstChild;return q.setMaxWidth(r,t.width),q.setMaxHeight(r,t.height),ie(r.outerHTML)},le=function(e,t,n){return ue(e)?ce(e,t):se(e,t,n)},de={updateHtml:le},fe=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],me=function(e,t){for(var n=e.regex.exec(t),r=e.url,o=function(e){r=r.replace("$"+e,function(){return n[e]?n[e]:""})},a=0;a<n.length;a++)o(a);return r.replace(/\?$/,"")},pe=function(e){var t=fe.filter(function(t){return t.regex.test(e)});return t.length>0?T.extend({},t[0],{url:me(t[0],e)}):null},he=function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ge=function(e){var t='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},ve=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>"},be=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"},ye=function(e){return'<script src="'+e.source1+'"><\/script>'},we=function(e,t){var n=T.extend({},t);if(!n.source1&&(T.extend(n,Q.htmlToData(L.getScripts(e),n.embed)),!n.source1))return"";n.source2||(n.source2=""),n.poster||(n.poster=""),n.source1=e.convertURL(n.source1,"source"),n.source2=e.convertURL(n.source2,"source"),n.source1mime=te.guess(n.source1),n.source2mime=te.guess(n.source2),n.poster=e.convertURL(n.poster,"poster");var r=pe(n.source1);if(r&&(n.source1=r.url,n.type=r.type,n.allowFullscreen=r.allowFullscreen,n.width=n.width||r.w,n.height=n.height||r.h),n.embed)return de.updateHtml(n.embed,n,!0);var o=j.getVideoScriptMatch(L.getScripts(e),n.source1);o&&(n.type="script",n.width=o.width,n.height=o.height);var a=L.getAudioTemplateCallback(e),i=L.getVideoTemplateCallback(e);return n.width=n.width||300,n.height=n.height||150,T.each(n,function(t,r){n[r]=e.dom.encode(t)}),"iframe"===n.type?he(n):"application/x-shockwave-flash"===n.source1mime?ge(n):-1!==n.source1mime.indexOf("audio")?ve(n,a):"script"===n.type?ye(n):be(n,i)},xe={dataToHtml:we},Ce={},Se=function(e,t,n){return new Z(function(r,o){var a=function(n){return n.html&&(Ce[e.source1]=n),r({url:e.source1,html:n.html?n.html:t(e)})};Ce[e.source1]?a(Ce[e.source1]):n({url:e.source1},a,o)})},ke=function(e,t){return new Z(function(n){n({html:t(e),url:e.source1})})},_e=function(e){return function(t){return xe.dataToHtml(e,t)}},Te=function(e,t){var n=L.getUrlResolver(e);return n?Se(t,_e(e),n):ke(t,_e(e))},Oe=function(e){return Ce.hasOwnProperty(e)},Ee={getEmbedHtml:Te,isCached:Oe},De=function(e){return u(e,{source1:e.source1.value,source2:w(e,"source2").bind(function(e){return w(e,"value")}).getOr(""),poster:w(e,"poster").bind(function(e){return w(e,"value")}).getOr("")})},Re=function(e){return u(e,{source1:{value:w(e,"source1").getOr("")},source2:{value:w(e,"source2").getOr("")},poster:{value:w(e,"poster").getOr("")}})},Ne=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Ie=function(e,t){return T.extend({},Q.htmlToData(L.getScripts(e),t))},Ae=function(e){var t=e.selection.getNode(),n=t.getAttribute("data-ephox-embed-iri");return n?{source1:n,width:q.getMaxWidth(t),height:q.getMaxHeight(t)}:t.getAttribute("data-mce-object")?Q.htmlToData(L.getScripts(e),e.serializer.serialize(t,{selection:!0})):{}},Me=function(e){var t=e.selection.getNode();return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")?e.selection.getContent():""},Be=function(e,t){return function(n){if(r(n.url)&&n.url.trim().length>0){var o=n.html,a=Ie(t,o),i={source1:n.url,embed:o};C(["width","height"],function(e){w(a,e).each(function(t){var n=i.dimensions||{};n[e]=t,i.dimensions=n})}),e.setData(Re(i))}}},Le=function(e,t){var n,r,o=e.dom.select("img[data-mce-object]");for(n=0;n<t.length;n++)for(r=o.length-1;r>=0;r--)t[n]===o[r]&&o.splice(r,1);e.selection.select(o[0])},Pe=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),Le(e,n),e.nodeChanged()},ze=function(e,t){e.embed=de.updateHtml(e.embed,e),e.embed&&Ee.isCached(e.source1)?Pe(t,e.embed):Ee.getEmbedHtml(t,e).then(function(e){Pe(t,e.html)}).catch(Ne(t))},Fe=function(e){var t=Ae(e),n={source1:"",source2:"",embed:Me(e),poster:"",dimensions:{height:t.height?t.height:"",width:t.width?t.width:""}},r=Re(u(n,t)),o=function(t){var n=De(t.getData());return L.hasDimensions(e)?u(n,{width:n.dimensions.width,height:n.dimensions.height}):n},a=function(t){var n=o(t);Ee.getEmbedHtml(e,n).then(Be(v,e)).catch(Ne(e))},i=function(t){var n=De(t.getData()),r=Ie(e,n.embed);r.dimensions={width:r.width?r.width:n.dimensions.width,height:r.height?r.height:n.dimensions.height},t.setData(Re(r))},s=[{name:"source1",type:"urlinput",filetype:"media",label:"Source"}],c=L.hasDimensions(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",items:k([s,c])},d={type:"textarea",name:"embed",label:"Paste your embed code below:"},f={title:"Embed",items:[d]},m=[];L.hasAltSource(e)&&m.push({name:"source2",type:"urlinput",filetype:"media",label:"Alternative source URL"}),L.hasPoster(e)&&m.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var p={title:"Advanced",items:m},h=[l,f];m.length>0&&h.push(p);var g={type:"tabpanel",tabs:h},v=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:g,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=o(t);ze(n,e),t.close()},onChange:function(e,t){switch(t.name){case"source1":a(e);break;case"embed":i(e);break;default:break}},initialData:r})},je={showDialog:Fe},He=function(e){var t=function(){je.showDialog(e)};return{showDialog:t}},Ve={get:He},$e=function(e){var t=function(){je.showDialog(e)};e.addCommand("mceMedia",t)},Ue={register:$e},qe=tinymce.util.Tools.resolve("tinymce.html.Node"),We=tinymce.util.Tools.resolve("tinymce.Env"),Ke=function(e,t){if(!1===L.shouldFilterHtml(e))return t;var n,r=ne();return P({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){r.comment(e)},cdata:function(e){r.cdata(e)},text:function(e,t){r.text(e,t)},start:function(t,o,a){if(n=!0,"script"!==t&&"noscript"!==t){for(var i=0;i<o.length;i++){if(0===o[i].name.indexOf("on"))return;"style"===o[i].name&&(o[i].value=e.dom.serializeStyle(e.dom.parseStyle(o[i].value),t))}r.start(t,o,a),n=!1}},end:function(e){n||r.end(e)}},re({})).parse(t),r.getContent()},Ye={sanitize:Ke},Xe=function(e,t){var n,r=t.name;return n=new qe("img",1),n.shortEnded=!0,Je(e,t,n),n.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===r?"30":"150"),style:t.attr("style"),src:We.transparentSrc,"data-mce-object":r,class:"mce-object mce-object-"+r}),n},Ge=function(e,t){var n,r,o,a=t.name;return n=new qe("span",1),n.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":a,class:"mce-preview-object mce-object-"+a}),Je(e,t,n),r=new qe(a,1),r.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),class:t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"}),o=new qe("span",1),o.attr("class","mce-shim"),n.append(r),n.append(o),n},Je=function(e,t,n){var r,o,a,i,s;a=t.attributes,i=a.length;while(i--)r=a[i].name,o=a[i].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(o=e.convertURL(o,r)),n.attr("data-mce-p-"+r,o));s=t.firstChild&&t.firstChild.value,s&&(n.attr("data-mce-html",escape(Ye.sanitize(e,s))),n.firstChild=null)},Qe=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},Ze=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Qe(e))return!0;return!1},et=function(e){return function(t){var n,r,o=t.length;while(o--)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=j.getVideoScriptMatch(L.getScripts(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),"iframe"===n.name&&L.hasLiveEmbeds(e)&&We.ceFalse?Ze(n)||n.replace(Ge(e,n)):Ze(n)||n.replace(Xe(e,n))))}},tt={createPreviewIframeNode:Ge,createPlaceholderNode:Xe,placeHolderConverter:et},nt=function(e){e.on("preInit",function(){var t=e.schema.getSpecialElements();T.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var n=e.schema.getBoolAttrs();T.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){n[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",tt.placeHolderConverter(e)),e.serializer.addAttributeFilter("data-mce-object",function(t,n){var r,o,a,i,s,u,c,l,d=t.length;while(d--)if(r=t[d],r.parent){c=r.attr(n),o=new qe(c,1),"audio"!==c&&"script"!==c&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),i=r.attributes,a=i.length;while(a--){var f=i[a].name;0===f.indexOf("data-mce-p-")&&o.attr(f.substr(11),i[a].value)}"script"===c&&o.attr("type","text/javascript"),s=r.attr("data-mce-html"),s&&(u=new qe("#text",3),u.raw=!0,u.value=Ye.sanitize(e,unescape(s)),o.append(u)),r.replace(o)}})}),e.on("setContent",function(){e.$("span.mce-preview-object").each(function(t,n){var r=e.$(n);0===r.find("span.mce-shim",n).length&&r.append('<span class="mce-shim"></span>')})})},rt={setup:nt},ot=function(e){e.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})},at={setup:ot},it=function(e){e.on("click keyup",function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),e.on("objectResized",function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(de.updateHtml(t,{width:e.width,height:e.height})))))})},st={setup:it},ut=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}},ct=function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:ut(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})},lt={register:ct};function dt(){}e.add("media",function(e){return Ue.register(e),lt.register(e),at.setup(e),rt.setup(e),st.setup(e),Ve.get(e)})})()})()},"386b":function(e,t,n){var r=n("5ca1"),o=n("79e5"),a=n("be13"),i=/"/g,s=function(e,t,n,r){var o=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(i,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},"39a5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[e.editStatus?n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"客户姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入客户姓名!"}]}],expression:"['name', {rules: [{ required: true, message: '请输入客户姓名!' }]}]"}],attrs:{placeholder:"请输入客户姓名",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证号码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idcard",e.validatorRules.idcard],expression:"['idcard', validatorRules.idcard]"}],attrs:{placeholder:"请输入身份证号码",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证扫描件",hasFeedback:""}},[n("a-upload",{attrs:{action:e.uploadAction,listType:"picture-card",headers:e.headers,fileList:e.fileList},on:{change:e.handleChange,preview:e.handlePreview}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n            upload\n          ")],1)],1),e.model.idcardPic?n("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getIdCardView(),alt:"头像"}}):e._e(),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handlePicCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})]),n("br")],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"联系方式",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telphone",e.validatorRules.telphone],expression:"[ 'telphone', validatorRules.telphone]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1)],1)],1):e._e()],1)},o=[],a=(n("28a5"),n("3b2b"),n("5176")),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l=n("2b0e"),d=n("9fb0"),f={name:"JeecgOrderCustomerModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},columns:[{title:"客户名",align:"center",dataIndex:"name"},{title:"性别",align:"center",dataIndex:"sex"},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"身份证扫描件",align:"center",dataIndex:"idcardPic"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"订单号码",dataIndex:"orderId",align:"center"},{title:"创建人",dataIndex:"createBy",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center"},{title:"更新时间",dataIndex:"updateBy",align:"center"},{title:"更新人",dataIndex:"updateTime",align:"center"}],fileList:[],disableSubmit:!1,selectedRowKeys:[],orderId:"",hiding:!1,headers:{},picUrl:"",previewVisible:!1,previewImage:"",addStatus:!1,editStatus:!1,confirmLoading:!1,form:this.$form.createForm(this),url:{add:"/test/order/addCustomer",edit:"/test/order/editCustomer",fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",imgerver:window._CONFIG["domianURL"]+"/sys/common/view",getOrderCustomerList:"/test/order/listOrderCustomerByMainId"},validatorRules:{telphone:{rules:[{validator:this.validateMobile}]},idcard:{rules:[{validator:this.validateIdCard}]}}}},computed:{uploadAction:function(){return this.url.fileUpload}},created:function(){var e=l["a"].ls.get(d["a"]);this.headers={"X-Access-Token":e}},methods:{add:function(e){this.hiding=!0,e?(this.orderId=e,this.edit({orderId:e},"")):this.$message.warning("请选择一个客户信息")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.picUrl=e.idcardPic,this.model=i()({},e),e.id?(this.hiding=!1,this.addStatus=!1,this.editStatus=!0,this.$nextTick(function(){n.form.setFieldsValue(c()(n.model,"id","name","sex","idcard","idcardPic","telphone","orderId","createBy","createTime","updateBy","updateTime"))})):(this.addStatus=!1,this.editStatus=!0),this.visible=!0},close:function(){this.$emit("close"),this.visible=!1,this.picUrl="",this.fileList=[]},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);console.log(u),u.orderId=e.orderId,u.idcardPic=e.picUrl,Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")},validateIdCard:function(e,t,n){!t||new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/).test(t)?n():n("您的身份证号码格式不正确!")},handleChange:function(e){if(this.fileList=e.fileList,"uploading"!==e.file.status&&"done"===e.file.status){var t=e.file.response;console.log(t),t.success?this.picUrl+=t.message+",":this.$message.warning(t.message)}},handlePicCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},getIdCardView:function(){var e=this.model.idcardPic.split(","),t=e.length;return this.url.imgerver+"/"+e[t-2]}}},m=f,p=(n("e42e"),n("2877")),h=Object(p["a"])(m,r,o,!1,null,"854d8002",null);t["default"]=h.exports},"3ab1":function(e,t,n){"use strict";var r=n("3bf4"),o=n.n(r);o.a},"3ada":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!0,description:e.description,title:e.title}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回列表")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("查看项目")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("打印")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"20px"}},[e._v("项目名称")]),n("a-row",{staticStyle:{"margin-bottom":"16px"}},[n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("项目 ID：")]),e._v("\n          20180724089\n        ")]),n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("负责人：")]),e._v("\n          曲丽丽是谁？\n        ")]),n("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:12}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("生效时间：")]),e._v("\n          2016-12-12 ~ 2017-12-12\n        ")])],1),n("a-steps",{attrs:{current:1,direction:e.isMobile()&&e.directionType.vertical||e.directionType.horizontal,progressDot:""}},[n("a-step",[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("创建项目")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                曲丽丽\n                "),n("a-icon",{staticStyle:{"margin-left":"8px"},attrs:{type:"dingding-o"}})],1),n("div",[e._v("2016-12-12 12:32")])])])],2),n("a-step",{attrs:{title:"部门初审"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("部门初审")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                周毛毛\n                "),n("a-icon",{staticStyle:{"margin-left":"8px",color:"#00A0E9"},attrs:{type:"dingding-o"}})],1),n("div",[n("a",{attrs:{href:""}},[e._v("催一下")])])])])],2),n("a-step",{attrs:{title:"财务复核"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("财务复核")])]),n("a-step",{attrs:{title:"完成"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("完成")])])],1)],1)],2)],1)},o=[],a=n("9a3d"),i=n("ac0d"),s={horizontal:"horizontal",vertical:"vertical"},u={name:"Success",components:{Result:a["default"]},mixins:[i["b"]],data:function(){return{title:"提交成功",description:"提交结果页用于反馈一系列操作任务的处理结果，\n 如果仅是简单操作，使用 Message 全局提示反馈即可。\n 本文字区域可以展示简单的补充说明，如果有类似展示\n “单据”的需求，下面这个灰色区域可以呈现比较复杂的内容。",directionType:s}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,"58ec35a0",null);t["default"]=d.exports},"3aea":function(e,t,n){n("3699")},"3bf4":function(e,t,n){},"3c35e":function(e,t,n){"use strict";var r=n("afa7"),o=n.n(r);o.a},"3dd7":function(e,t,n){"use strict";var r=n("e0c9"),o=n.n(r);o.a},"3e57":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"40px"},attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0,maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form,layout:"inline"}},[n("a-list",[n("a-row",{staticStyle:{width:"100%"},attrs:{gutter:e.gutter}},[n("a-col",{attrs:{span:7}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper,label:"编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code ]"}],attrs:{placeholder:"请输入编码"}})],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入名称"}})],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper}})],1)],1),n("a-row",{staticStyle:{width:"100%"},attrs:{gutter:e.gutter}},[n("a-col",{attrs:{span:20}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.oneCol.label,wrapperCol:e.oneCol.wrapper,label:"报表SQL"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["cgrSql",e.validatorRules.cgrSql],expression:"['cgrSql', validatorRules.cgrSql ]"}],attrs:{rows:"3",placeholder:"请输入查询SQL"}})],1)],1),n("a-col",{attrs:{span:4}},[n("a-popover",{attrs:{title:"使用指南",trigger:"hover"}},[n("template",{slot:"content"},[e._v("\n                您可以键入“”作为一个参数，这里abc是参数的名称。例如："),n("br"),e._v("\n                select * from table where id = ${abc}。"),n("br"),e._v("\n                select * from table where id like concat('%',${abc},'%')。(mysql模糊查询)"),n("br"),e._v("\n                select * from table where id like '%'||${abc}||'%'。(oracle模糊查询)"),n("br"),e._v("\n                select * from table where id like '%'+${abc}+'%'。(sqlserver模糊查询)"),n("br"),n("span",{staticStyle:{color:"red"}},[e._v("注：参数只支持动态报表，popup暂不支持")])]),n("a-icon",{attrs:{type:"question-circle"}})],2),n("a-button",{attrs:{type:"primary"},on:{click:e.handleSQLAnalyze}},[e._v("SQL解析")])],1)],1),n("a-divider",{staticStyle:{"margin-bottom":"1px"}}),n("a-list-item",{staticStyle:{display:"none"}},[n("a-row",{staticStyle:{width:"100%"},attrs:{gutter:e.gutter}},[n("a-col",{attrs:{span:24}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.oneCol.label,wrapperCol:e.oneCol.wrapper,label:"描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content"],expression:"['content']"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1),n("a-list-item",[n("a-row",{staticStyle:{width:"100%"},attrs:{gutter:e.gutter}},[n("a-col",{attrs:{span:8}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper,label:"返回值字段"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["returnValField",{}],expression:"['returnValField', {}]"}],attrs:{placeholder:"请输入返回值字段"}})],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper,label:"返回文本字段"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["returnTxtField",{}],expression:"['returnTxtField', {}]"}],attrs:{placeholder:"请输入返回文本字段"}})],1)],1),n("a-col",{attrs:{span:8}},[n("a-form-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.threeCol.label,wrapperCol:e.threeCol.wrapper,label:"返回类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["returnType",{}],expression:"[ 'returnType', {}]"}],staticStyle:{width:"100%"},attrs:{width:"100%",placeholder:"请选择返回类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("单选")]),n("a-select-option",{attrs:{value:"2"}},[e._v("多选")])],1)],1)],1)],1)],1)],1)],1),n("a-tabs",{on:{change:e.handleChangeTab},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[n("a-tab-pane",{key:"1",attrs:{tab:"动态报表配置明细",forceRender:!0}},[n("j-editable-table",{ref:"editableTable1",attrs:{loading:e.tab1.loading,columns:e.tab1.columns,dataSource:e.tab1.dataSource,rowNumber:!0,rowSelection:!0,actionButton:!0,maxHeight:300}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"报表参数",forceRender:!0}},[n("j-editable-table",{ref:"editableTable2",attrs:{loading:e.tab2.loading,columns:e.tab2.columns,dataSource:e.tab2.dataSource,rowNumber:!0,rowSelection:!0,actionButton:!0,maxHeight:300}})],1)],1)],1)],1)},o=[],a=(n("6b54"),n("795b")),i=n.n(a),s=(n("ac6a"),n("5176")),u=n.n(s),c=n("7550"),l=n("e2e0"),d=n("0fea"),f=n("88bc"),m=n.n(f),p={name:"OnlCgreportHeadModal",components:{JEditableTable:c["default"]},data:function(){return{title:"操作",visible:!1,model:{},reportSql:"",gutter:0,oneCol:{label:{span:3},wrapper:{span:21}},threeCol:{label:{span:9},wrapper:{span:15}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{code:{rules:[{required:!0,message:"请输入编码!"},{pattern:/^[a-z|A-Z][a-z|A-Z|\d|_|-]{0,}$/,message:"编码必须以字母开头，可包含数字、下划线、横杠"}]},name:{rules:[{required:!0,message:"请输入报表名称!"}]},cgrSql:{rules:[{required:!0,message:"请输入查询SQL!"}]}},url:{add:"/online/cgreport/head/add",edit:"/online/cgreport/head/editAll",sql:"/online/cgreport/head/parseSql",param:{listByHeadId:"/online/cgreport/param/listByHeadId"},item:{listByHeadId:"/online/cgreport/item/listByHeadId"}},activeKey:"1",tab1:{loading:!1,columns:[{title:"字段名",width:"13%",key:"fieldName",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"排序",width:"7%",key:"orderNum",type:l["a"].inputNumber,defaultValue:0,placeholder:"${title}",validateRules:[{required:!0,message:"${title}"}]},{title:"字段文本",width:"13%",key:"fieldTxt",type:l["a"].input,placeholder:"请输入${title}",defaultValue:"",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"类型",width:"13%",key:"fieldType",type:l["a"].select,options:[{title:"数值类型",value:"Integer"},{title:"日期类型",value:"Date"},{title:"字符类型",value:"String"},{title:"长整型",value:"Long"}],defaultValue:"String",placeholder:"请选择${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"是否显示",width:"3%",key:"isShow",type:l["a"].checkbox,customValue:["1","0"],defaultChecked:!0},{title:"字段href",width:"12%",key:"fieldHref",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}"},{title:"查询模式",width:"12%",key:"searchMode",type:l["a"].select,options:[{title:"单条件查询",value:"single"},{title:"范围查询",value:"group"}],defaultValue:"",placeholder:"请选择${title}"},{title:"取值表达式",width:"12%",key:"replaceVal",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}"},{title:"字典code",width:"12%",key:"dictCode",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}"},{title:"是否查询",width:"3%",key:"isSearch",type:l["a"].checkbox,customValue:["1","0"],defaultChecked:!1}],dataSource:[]},tab2:{loading:!1,columns:[{width:"23%",title:"参数",key:"paramName",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{width:"23%",title:"参数文本",key:"paramTxt",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{width:"23%",title:"默认值",key:"paramValue",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}"},{width:"23%",title:"排序",key:"orderNum",type:l["a"].inputNumber,defaultValue:0,placeholder:"${title}",validateRules:[{required:!0,message:"${title}不能为空"}]}],dataSource:[]}}},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=u()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(m()(t.model,"code","name","cgrSql","returnValField","returnTxtField","returnType","content"))}),this.reportSql=this.model.cgrSql,e.id&&this.requestData(e.id)},close:function(){var e=this;this.visible=!1,this.$refs.editableTable1&&["1","2"].forEach(function(t){e.$refs["editableTable"+t].initialize(),e["tab"+t].dataSource=[]}),this.activeKey="1",this.$emit("close")},handleOk:function(){this.validateFields()},handleCancel:function(){this.close()},requestData:function(e){this.requestTabData(this.url.item.listByHeadId,e,this.tab1),this.requestTabData(this.url.param.listByHeadId,e,this.tab2)},requestTabData:function(e,t,n){n.loading=!0,Object(d["b"])(e,{headId:t}).then(function(e){n.dataSource=e.result||[]}).finally(function(){n.loading=!1})},handleSQLAnalyze:function(){var e=this;this.confirmLoading=!0;var t=this.form.getFieldValue("cgrSql")||"",n={sql:t};Object(d["b"])(this.url.sql,n).then(function(t){t.success&&(e.$message.success("解析成功"),e.tab1.dataSource=t.result.fields||[])}).finally(function(){e.confirmLoading=!1})},handleChangeTab:function(e){this.$refs["editableTable".concat(e)].resetScrollTop()},validateFields:function(){var e=this,t={};new i.a(function(t,n){e.form.validateFields(function(e,r){e?n(l["b"]):t(r)})}).then(function(n){return t.head=u()(e.model,n),e.validateTableFields()}).then(function(n){u()(t,n);var r=e.classifyIntoFormData(t);return e.requestAddOrEdit(r)})},requestAddOrEdit:function(e){var t=this,n="post",r=this.url.add;this.model.id&&(n="put",r=this.url.edit),this.confirmLoading=!0,Object(d["f"])(r,e,n).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1})},classifyIntoFormData:function(e){var t=m()(e,"head");return t.items=e.table1.values,t.deleteItemIds=e.table1.deleteIds.join(","),t.params=e.table2.values,t.deleteParamIds=e.table2.deleteIds.join(","),t},validateTableFields:function(){var e=this;return new i.a(function(t,n){var r=[];r.push(e.$refs.editableTable1),r.push(e.$refs.editableTable2),Object(l["e"])(r).then(function(e){var n={};e.forEach(function(e,t){n["table".concat(t+1)]=e}),t(n)}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.error===l["b"]&&(e.activeKey=(t.index+1).toString()),n(t)})})}}},h=p,g=n("2877"),v=Object(g["a"])(h,r,o,!1,null,"4cd3a476",null);t["default"]=v.exports},4002:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"角色ID"}},[n("a-input",{attrs:{placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons"},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")])],1)])],1)],1)],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("div",{staticStyle:{margin:"0"}},[n("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},e._l(t.permissions,function(t,r){return n("a-col",{key:r,style:{marginBottom:"12px"},attrs:{span:12}},[n("a-col",{attrs:{span:4}},[n("span",[e._v(e._s(t.permissionName)+"：")])]),t.actionEntitySet.length>0?n("a-col",{attrs:{span:20}},e._l(t.actionEntitySet,function(t,r){return n("a-tag",{key:r,attrs:{color:"cyan"}},[e._v(e._s(t.describe))])}),1):n("a-col",{attrs:{span:20}},[e._v("-")])],1)}),1)],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.modal.edit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n          更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1)],1)}}])}),n("role-modal",{ref:"modal",on:{ok:e.handleOk}})],1)},o=[],a=(n("ac6a"),n("5176")),i=n.n(a),s=n("e8c4"),u=n("0b38"),c={name:"TableList",components:{STable:s["a"],RoleModal:u["default"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/role",{params:i()(t,e.queryParam)}).then(function(e){return e.result})},selectedRowKeys:[],selectedRows:[]}},methods:{handleEdit:function(e){this.mdl=i()({},e),this.mdl.permissions.forEach(function(e){e.actionsOptions=e.actionEntitySet.map(function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}})}),console.log(this.mdl),this.visible=!0},handleOk:function(){this.$refs.table.refresh()},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=c,d=n("2877"),f=Object(d["a"])(l,r,o,!1,null,null,null);t["default"]=f.exports},"418f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible},on:{close:e.handleCancel}},[n("template",{slot:"title"},[n("div",{staticStyle:{width:"100%"}},[n("span",[e._v(e._s(e.title))]),n("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[n("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username],expression:"[ 'username', validatorRules.username]"}],attrs:{placeholder:"请输入用户账号",readOnly:!!e.model.id}})],1),e.model.id?e._e():[n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],n("a-form-item",{attrs:{label:"用户名字",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realname",e.validatorRules.realname],expression:"[ 'realname', validatorRules.realname]"}],attrs:{placeholder:"请输入用户名称"}})],1),n("a-form-item",{attrs:{label:"角色分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择用户角色"},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},e._l(e.roleList,function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n            "+e._s(t.roleName)+"\n          ")])}),1)],1),n("a-form-item",{attrs:{label:"部门分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input-search",{attrs:{placeholder:"点击右侧按钮选择部门",disabled:""},on:{search:e.onSearch},model:{value:e.checkedDepartNameString,callback:function(t){e.checkedDepartNameString=t},expression:"checkedDepartNameString"}},[n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1),n("a-form-item",{attrs:{label:"头像",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-upload",{staticClass:"avatar-uploader",attrs:{listType:"picture-card",showUploadList:!1,action:e.uploadAction,data:{isup:1},headers:e.headers,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[e.model.avatar?n("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getAvatarView(),alt:"头像"}}):n("div",[n("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v("上传")])],1)])],1),n("a-form-item",{attrs:{label:"生日",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{initialValue:e.model.birthday?e.moment(e.model.birthday,e.dateFormat):null}],expression:"['birthday', {initialValue:!model.birthday?null:moment(model.birthday,dateFormat)}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择生日"}})],1),n("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"[ 'sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:1}},[e._v("男")]),n("a-select-option",{attrs:{value:2}},[e._v("女")])],1)],1),n("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",e.validatorRules.email],expression:"[ 'email', validatorRules.email]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",e.validatorRules.phone],expression:"[ 'phone', validatorRules.phone]"}],attrs:{placeholder:"请输入手机号码"}})],1)],2)],1),n("depart-window",{ref:"departWindow",on:{ok:e.modalFormOk}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableSubmit,expression:"!disableSubmit"}],staticClass:"drawer-bootom-button"},[n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.handleCancel}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},o=[],a=n("a745"),i=n.n(a),s=(n("3b2b"),n("5176")),u=n.n(s),c=n("88bc"),l=n.n(c),d=n("c1df"),f=n.n(d),m=n("2b0e"),p=n("c63e"),h=n("9fb0"),g=n("0fea"),v=n("4ec3"),b={name:"RoleModal",components:{departWindow:p["default"]},data:function(){return{modalWidth:800,drawerWidth:700,modaltoggleFlag:!0,confirmDirty:!1,selectedDepartKeys:[],checkedDepartKeys:[],checkedDepartNames:[],checkedDepartNameString:"",userId:"",disableSubmit:!1,userDepartModel:{userId:"",departIdList:[]},dateFormat:"YYYY-MM-DD",validatorRules:{username:{rules:[{required:!0,message:"请输入用户账号!"},{validator:this.validateUsername}]},password:{rules:[{required:!0,message:"请输入密码!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]},realname:{rules:[{required:!0,message:"请输入用户名称!"}]},phone:{rules:[{validator:this.validatePhone}]},email:{rules:[{type:"email",message:"请输入正确格式的电子邮箱!"}]},roles:{}},title:"操作",visible:!1,model:{},roleList:[],selectedRole:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},uploadLoading:!1,confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{addUDepartIds:"/sys/user/addUDepartIds",editUDepartIds:"/sys/user/editUDepartIds",fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",imgerver:window._CONFIG["domianURL"]+"/sys/common/view",userWithDepart:"/sys/user/userDepartList"}}},created:function(){var e=m["a"].ls.get(h["a"]);this.headers={"X-Access-Token":e}},computed:{uploadAction:function(){return this.url.fileUpload}},methods:{toggleScreen:function(){this.modaltoggleFlag?this.modalWidth=window.innerWidth:this.modalWidth=800,this.modaltoggleFlag=!this.modaltoggleFlag},initialRoleList:function(){var e=this;Object(v["J"])().then(function(t){t.success?e.roleList=t.result:console.log(t.message)})},loadUserRoles:function(e){var t=this;Object(v["H"])({userid:e}).then(function(e){e.success?t.selectedRole=e.result:console.log(e.message)})},refresh:function(){this.selectedDepartKeys=[],this.checkedDepartKeys=[],this.checkedDepartNames=[],this.checkedDepartNameString="",this.userId=""},add:function(){this.refresh(),this.edit({})},edit:function(e){var t=this;this.resetScreenSize();var n=this;n.initialRoleList(),n.checkedDepartNameString="",n.form.resetFields(),e.hasOwnProperty("id")&&n.loadUserRoles(e.id),n.userId=e.id,n.visible=!0,n.model=u()({},e),n.$nextTick(function(){n.form.setFieldsValue(l()(t.model,"username","sex","realname","email","phone"))}),n.checkedDepartKeys=[],n.loadCheckedDeparts()},loadCheckedDeparts:function(){var e=this,t=this;Object(g["b"])(t.url.userWithDepart,{userId:t.userId}).then(function(n){if(t.checkedDepartNames=[],n.success)for(var r=0;r<n.result.length;r++)t.checkedDepartNames.push(n.result[r].title),e.checkedDepartNameString=e.checkedDepartNames.join(","),t.checkedDepartKeys.push(n.result[r].key);else console.log(n.message)})},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[],this.userDepartModel={},this.checkedDepartNames=[]},moment:f.a,handleSubmit:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o=t.model.avatar;r.birthday?r.birthday=r.birthday.format(e.dateFormat):r.birthday="";var a,i=u()(e.model,r);i.avatar=o,i.selectedroles=e.selectedRole.length>0?e.selectedRole.join(","):"",t.addDepartsToUser(t,i),e.model.id?a=Object(v["s"])(i):(i.id=e.userId,a=Object(v["e"])(i)),a.then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.checkedDepartNames=[],t.close()})}})},handleCancel:function(){this.close()},addDepartsToUser:function(e,t){var n=this,r="",o="";this.userDepartModel.userId!=t.id?(r+=this.url.addUDepartIds,o="post"):(r+=this.url.editUDepartIds,o="put"),Object(g["f"])(r,this.userDepartModel,o).then(function(t){t.success?n.userDepartModel={}:e.$message.warning(t.message)})},validateToNextPassword:function(e,t,n){var r=this.form;t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},validatePhone:function(e,t,n){!t||new RegExp(/^1[3|4|5|7|8][0-9]\d{8}$/).test(t)?n():n("请输入正确格式的手机号码!")},validateUsername:function(e,t,n){var r={id:this.model.id,username:t};Object(v["i"])(r).then(function(e){e.success?n():n("用户账号已存在！")})},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},normFile:function(e){return console.log("Upload event:",e),i()(e)?e:e&&e.fileList},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){if("uploading"!==e.file.status){if("done"===e.file.status){var t=e.file.response;this.uploadLoading=!1,console.log(t),t.success?this.model.avatar=t.message:this.$message.warning(t.message)}}else this.uploadLoading=!0},getAvatarView:function(){return this.url.imgerver+"/"+this.model.avatar},onSearch:function(){this.$refs.departWindow.add(this.checkedDepartKeys,this.userId)},modalFormOk:function(e){this.checkedDepartNames=[],this.selectedDepartKeys=[],this.userId=e.userId,this.userDepartModel.userId=e.userId;for(var t=0;t<e.departIdList.length;t++)this.selectedDepartKeys.push(e.departIdList[t].key),this.checkedDepartNames.push(e.departIdList[t].title),this.checkedDepartNameString=this.checkedDepartNames.join(",");this.userDepartModel.departIdList=this.selectedDepartKeys},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700}}},y=b,w=(n("5f0d"),n("2877")),x=Object(w["a"])(y,r,o,!1,null,"0ae73b48",null);t["default"]=x.exports},"41b7":function(e,t,n){"use strict";var r=n("7a8a"),o=n.n(r);o.a},"422d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayStyle:{width:"300px"}}},[n("template",{slot:"content"},[n("a-spin",{attrs:{spinning:e.loadding}},[n("a-tabs",e._l(e.tabs,function(e,t){return n("a-tab-pane",{key:t,attrs:{tab:e.title}})}),1)],1)],1),n("span",{staticClass:"header-notice",on:{click:e.fetchNotice}},[n("a-badge",{attrs:{count:"12"}},[n("a-icon",{staticStyle:{"font-size":"16px",padding:"4px"},attrs:{type:"bell"}})],1)],1)],2)},o=[],a={name:"HeaderNotice",props:{tabs:{type:Array,default:null,required:!0}},data:function(){return{loadding:!1}},methods:{fetchNotice:function(){var e=this;this.loadding?this.loadding=!1:(this.loadding=!0,setTimeout(function(){e.loadding=!1},2e3))}}},i=a,s=(n("fb72"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"781c09be",null);t["default"]=u.exports},"444c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n        "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysDepart-modal",{ref:"sysDepartModal",on:{ok:e.modalFormOk}})],1)},o=[],a=n("a4bb"),i=n.n(a),s=n("c1af"),u=n("4ec3"),c=n("0fea"),l=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],d={name:"DepartList2",components:{SysDepartModal:s["default"]},data:function(){return{description:"jeecg 生成SysDepart代码管理页面",queryParam:{},factories:"",dataSource:[],columns:l,isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/sysdepart/sysDepart/list",delete:"/sysdepart/sysDepart/delete",deleteBatch:"/sysdepart/sysDepart/deleteBatch"}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.dataSource=[],Object(u["z"])().then(function(t){t.success&&(e.dataSource=t.result)})},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){var t=this;Object(c["a"])(t.url.delete,{id:e}).then(function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)})},handleDetail:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="详情",this.$refs.sysDepartModal.disableSubmit=!0},batchDel:function(){if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(c["a"])(n.url.deleteBatch,{ids:e}).then(function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)})}})}},handleEdit:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="编辑"},handleAdd:function(){this.$refs.sysDepartModal.add(),this.$refs.sysDepartModal.title="新增"},handleTableChange:function(e,t,n){console.log(n),i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.loadData()},modalFormOk:function(){this.loadData()}}},f=d,m=(n("bbec"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"4bfe3def",null);t["default"]=p.exports},4647:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titile",e.validatorRules.title],expression:"['titile', validatorRules.title]"}],attrs:{placeholder:"请输入标题",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"内容"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgContent",{}],expression:"[ 'msgContent', {} ]"}],attrs:{rows:5,placeholder:"..."}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime",{}],expression:"[ 'startTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime",{}],expression:"[ 'endTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"优先级"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority",{}],expression:"[ 'priority', {}]"}],attrs:{placeholder:"请选择优先级",disabled:e.disableSubmit}},[n("a-select-option",{attrs:{value:"L"}},[e._v("低")]),n("a-select-option",{attrs:{value:"M"}},[e._v("中")]),n("a-select-option",{attrs:{value:"H"}},[e._v("高")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"通告对象类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgType",{}],expression:"[ 'msgType', {}]"}],attrs:{placeholder:"请选择通告对象类型",disabled:e.disableSubmit},on:{change:e.chooseMsgType}},[n("a-select-option",{attrs:{value:"USER"}},[e._v("指定用户")]),n("a-select-option",{attrs:{value:"ALL"}},[e._v("全体用户")])],1)],1),e.userType?n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"指定用户"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userIds",{}],expression:"['userIds',{}]"}],attrs:{placeholder:"请选择用户",disabled:"true"},on:{click:e.selectUserIds}})],1):e._e()],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("bd86"),u=n("0fea"),c=n("88bc"),l=n.n(c),d=n("c1df"),f=n.n(d),m={name:"SysAnnouncementModal",data:function(){var e;return e={title:"操作",visible:!1,disableSubmit:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{title:{rules:[{required:!0,message:"请输入标题!"}]}},url:{add:"/sys/annountCement/add",edit:"/sys/annountCement/edit"},userType:!1},Object(s["a"])(e,"visible",!1),Object(s["a"])(e,"confirmLoading",!1),e},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(l()(t.model,"titile","msgContent","priority","msgType")),t.form.setFieldsValue({startTime:t.model.startTime?f()(t.model.startTime):null}),t.form.setFieldsValue({endTime:t.model.endTime?f()(t.model.endTime):null})})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=i()(e.model,r);s.startTime=s.startTime?s.startTime.format("YYYY-MM-DD HH:mm:ss"):null,s.endTime=s.endTime?s.endTime.format("YYYY-MM-DD HH:mm:ss"):null,console.log(s),Object(u["f"])(o,s,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},chooseMsgType:function(e){this.userType="USER"==e},selectUserIds:function(){console.log(1),this.$refs.modalSelectUser.show()}}},p=m,h=n("2877"),g=Object(h["a"])(p,r,o,!1,null,"9a12e81a",null);t["default"]=g.exports},4867:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"表名"}},[n("a-input",{attrs:{placeholder:"请输入表名"},model:{value:e.queryParam.dataTable,callback:function(t){e.$set(e.queryParam,"dataTable",t)},expression:"queryParam.dataTable"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"数据ID"}},[n("a-input",{attrs:{placeholder:"请输入ID"},model:{value:e.queryParam.dataId,callback:function(t){e.$set(e.queryParam,"dataId",t)},expression:"queryParam.dataId"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleCompare()}}},[e._v("数据比较")])],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"dataContent",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:80}})],1)}}])})],1),n("data-log-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("b4690"),i=n("b65a"),s=n("d579"),u={name:"DataLogList",mixins:[i["a"]],components:{JEllipsis:s["default"],DataLogModal:a["default"]},data:function(){return{description:"数据日志管理页面",columns:[{title:"表名",align:"center",dataIndex:"dataTable"},{title:"数据ID",align:"center",dataIndex:"dataId"},{title:"版本号",align:"center",dataIndex:"dataVersion"},{title:"数据内容",align:"center",dataIndex:"dataContent",width:"120px",scopedSlots:{customRender:"dataContent"}},{title:"创建人",align:"center",dataIndex:"createBy"}],url:{list:"/sys/dataLog/list"}}},methods:{handleCompare:function(){return this.selectionRows&&2==this.selectionRows.length?this.selectionRows[0].dataId!=this.selectionRows[1].dataId?(this.openNotifIcon("请选择相同的数据库表和数据ID进行比较"),!1):(this.$refs.modalForm.addModal(this.selectionRows),void(this.$refs.modalForm.title="数据比较")):(this.openNotifIcon("请选择两条数据"),!1)},openNotifIcon:function(e){this.$notification["warning"]({message:"提示信息",description:e})}}},c=u,l=(n("d6d2"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"297843f6",null);t["default"]=d.exports},"48f3":function(e,t,n){},"498e":function(e,t,n){"use strict";var r=n("0490"),o=n.n(r);o.a},"49a9":function(e,t,n){"use strict";var r=n("e824"),o=n.n(r);o.a},"4a1c":function(e,t,n){"use strict";var r=n("831f"),o=n.n(r);o.a},"4a49":function(e,t,n){},"4ced":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-chart",{attrs:{forceFit:!0,height:e.height,width:e.width,data:e.data,scale:e.scale,padding:0}},[n("v-tooltip"),n("v-interval",{attrs:{shape:["liquid-fill-gauge"],position:"transfer*value",color:"","v-style":{lineWidth:8,opacity:.75},tooltip:["transfer*value",function(e,t){return{name:e,value:t}}]}}),e._l(e.data,function(e,t){return n("v-guide",{key:t,attrs:{type:"text",top:!0,position:{gender:e.transfer,value:45},content:e.value+"%","v-style":{fontSize:100,textAlign:"center",opacity:.75}}})})],2)],1)},o=[],a=(n("c5f6"),[{transfer:"一月",value:813},{transfer:"二月",value:233},{transfer:"三月",value:561}]),i={name:"Liquid",props:{height:{type:Number,default:0},width:{type:Number,default:0}},data:function(){return{data:a,scale:[]}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"383ba75c",null);t["default"]=c.exports},"4ea8":function(e,t,n){n("cdd9")},"4ec6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-line",{attrs:{position:"type*y",color:"x"}}),n("v-point",{attrs:{position:"type*y",color:"x",size:4,"v-style":e.style,shape:"circle"}})],1)],1)},o=[],a=n("5176"),i=n.n(a),s=(n("c5f6"),n("7104")),u=[{type:"Jan",jeecg:7,jeebt:3.9},{type:"Feb",jeecg:6.9,jeebt:4.2},{type:"Mar",jeecg:9.5,jeebt:5.7},{type:"Apr",jeecg:14.5,jeebt:8.5},{type:"May",jeecg:18.4,jeebt:11.9},{type:"Jun",jeecg:21.5,jeebt:15.2},{type:"Jul",jeecg:25.2,jeebt:17},{type:"Aug",jeecg:26.5,jeebt:16.6},{type:"Sep",jeecg:23.3,jeebt:14.2},{type:"Oct",jeecg:18.3,jeebt:10.3},{type:"Nov",jeecg:13.9,jeebt:6.6},{type:"Dec",jeecg:9.6,jeebt:4.8}],c={name:"LineChartMultid",props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return["jeecg","jeebt"]}},height:{type:Number,default:254}},data:function(){return{data:"",scale:[{dataKey:"x",min:0,max:1}],style:{stroke:"#fff",lineWidth:1}}},watch:{dataSource:function(){this.drawChart()}},mounted:function(){this.drawChart()},methods:{drawChart:function(){var e=u;this.dataSource&&this.dataSource.length>0&&(e=this.dataSource.map(function(e){var t=i()({},e);return t.type=t.x,t}));var t=(new s["DataSet"].View).source(e);t.transform({type:"fold",fields:this.fields,key:"x",value:"y"}),this.data=t.rows}}},l=c,d=n("2877"),f=Object(d["a"])(l,r,o,!1,null,"8f9c3024",null);t["default"]=f.exports},"4f21":function(e,t,n){},"4f56":function(e,t,n){},"4fa6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-range-picker",{on:{change:e.onChangeDate},model:{value:e.queryParam.createTimeIsRange,callback:function(t){e.$set(e.queryParam,"createTimeIsRange",t)},expression:"queryParam.createTimeIsRange"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handlePerssion(r.id)}}},[e._v("授权")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("user-role-modal",{ref:"modalUserRole"})],1)},o=[],a=n("e814"),i=n.n(a),s=n("2a70"),u=n("ee18"),c=n("b65a"),l={name:"RoleList",mixins:[c["a"]],components:{RoleModal:s["default"],UserRoleModal:u["default"]},data:function(){return{description:"角色管理页面",queryParam:{roleName:"",createTimeIsRange:[]},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"角色编码",align:"center",dataIndex:"roleCode"},{title:"备注",align:"center",dataIndex:"description"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0},{title:"更新时间",dataIndex:"updateTime",align:"center",sorter:!0},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/role/list",delete:"/sys/role/delete",deleteBatch:"/sys/role/deleteBatch",exportXlsUrl:"sys/role/exportXls",importExcelUrl:"sys/role/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handlePerssion:function(e){this.$refs.modalUserRole.show(e)},onChangeDate:function(e,t){console.log(e,t)}}},d=l,f=(n("e1ea"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"7692bc50",null);t["default"]=m.exports},"4ff1":function(e,t,n){"use strict";var r=n("a10c"),o=n.n(r);o.a},5139:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("bar",{attrs:{title:"销售额排行",dataSource:e.barData,height:e.height}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"多列柱状图"}},[n("bar-multid",{attrs:{title:"多列柱状图",height:e.height}})],1),n("a-tab-pane",{key:"3",attrs:{tab:"迷你柱状图"}},[n("mini-bar",{attrs:{dataSource:e.barData,width:400,height:200}})],1),n("a-tab-pane",{key:"4",attrs:{tab:"面积图"}},[n("area-chart-ty",{attrs:{title:"销售额排行",dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1),n("a-tab-pane",{key:"5",attrs:{tab:"迷你面积图"}},[n("div",{staticStyle:{"padding-top":"100px",width:"600px",height:"200px"}},[n("mini-area",{attrs:{dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1)]),n("a-tab-pane",{key:"6",attrs:{tab:"多行折线图"}},[n("line-chart-multid",{attrs:{title:"多行折线图",height:e.height}})],1),n("a-tab-pane",{key:"7",attrs:{tab:"饼图"}},[n("pie",{attrs:{title:"饼图",height:e.height}})],1),n("a-tab-pane",{key:"8",attrs:{tab:"雷达图"}},[n("radar",{attrs:{title:"雷达图",height:e.height}})],1),n("a-tab-pane",{key:"9",attrs:{tab:"仪表盘"}},[n("dash-chart-demo",{attrs:{title:"仪表盘",value:9,height:e.height}})],1),n("a-tab-pane",{key:"10",attrs:{tab:"进度条"}},[n("mini-progress",{attrs:{percentage:30,target:40,height:30}}),n("mini-progress",{attrs:{percentage:51,target:60,height:30,color:"#FFA500"}}),n("mini-progress",{attrs:{percentage:66,target:80,height:30,color:"#1E90FF"}}),n("mini-progress",{attrs:{percentage:74,target:70,height:30,color:"#FF4500"}}),n("mini-progress",{attrs:{percentage:92,target:100,height:30,color:"#49CC49"}})],1),n("a-tab-pane",{key:"11",attrs:{tab:"排名列表"}},[n("rank-list",{staticStyle:{width:"600px",margin:"0 auto"},attrs:{title:"门店销售排行榜",list:e.rankList}})],1),n("a-tab-pane",{key:"12",attrs:{tab:"TransferBar"}},[n("transfer-bar",{attrs:{title:"年度消耗流量一览表",data:e.barData,x:"月份",y:"流量(Mb)",height:e.height}})],1),n("a-tab-pane",{key:"13",attrs:{tab:"Trend"}},[n("trend",{attrs:{title:"Trend",term:"Trend：",percentage:30}})],1),n("a-tab-pane",{key:"14",attrs:{tab:"Liquid"}},[n("liquid",{attrs:{height:e.height}})],1)],1)],1)},o=[],a=n("bd86"),i=n("f552"),s=n("edd9"),u=n("8191"),c=n("972f"),l=n("4ec6"),d=n("4ced"),f=n("942d"),m=n("1d43"),p=n("bf13"),h=n("6cb2"),g=n("3981"),v=n("0923"),b=n("1cf5"),y=n("527e"),w={name:"ViserChartDemo",components:{Bar:s["default"],MiniBar:f["default"],BarMultid:u["default"],AreaChartTy:i["default"],LineChartMultid:l["default"],Pie:h["default"],Radar:g["default"],DashChartDemo:c["default"],MiniProgress:p["default"],RankList:v["default"],TransferBar:b["default"],Trend:y["default"],Liquid:d["default"],MiniArea:m["default"]},data:function(){return{height:420,rankList:[],barData:[],areaData:[]}},created:function(){var e=this;setTimeout(function(){e.loadBarData(),e.loadAreaData(),e.loadRankListData()},100)},methods:{loadData:function(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"月",s=[],u=0;u<12;u+=1){var c;s.push((c={},Object(a["a"])(c,e,"".concat(o).concat(u+1).concat(i)),Object(a["a"])(c,t,Math.floor(Math.random()*n)+r),c))}return s},loadBarData:function(){this.barData=this.loadData("x","y",1e3,200)},loadAreaData:function(){this.areaData=this.loadData("x","y",500,100)},loadRankListData:function(){this.rankList=this.loadData("name","total",2e3,100,"北京朝阳 "," 号店")}}},x=w,C=n("2877"),S=Object(C["a"])(x,r,o,!1,null,"1ba837c7",null);t["default"]=S.exports},"51b5":function(e,t,n){},"527e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-trend"},[e._v("\n  "+e._s(e.term)+"\n  "),n("span",[e._v(e._s(e.rate)+"%")]),n("span",{class:["trend-icon",e.trend]},[n("a-icon",{attrs:{type:"caret-"+e.trend}})],1)])},o=[],a=(n("d263"),n("c5f6"),{name:"Trend",props:{term:{type:String,default:"",required:!0},percentage:{type:Number,default:null},type:{type:Boolean,default:null},target:{type:Number,default:0},value:{type:Number,default:0},fixed:{type:Number,default:2}},data:function(){return{trend:this.type?"up":"down",rate:this.percentage}},created:function(){var e=null===this.type?this.value>=this.target:this.type;this.trend=e?"up":"down",this.rate=(null===this.percentage?100*Math.abs(this.value-this.target)/this.target:this.percentage).toFixed(this.fixed)}}),i=a,s=(n("f635"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"11a70d96",null);t["default"]=u.exports},"53d7":function(e,t,n){"use strict";var r=n("51b5"),o=n.n(r);o.a},"55c3":function(e,t,n){"use strict";n.r(t);var r,o,a=n("5976"),i=n("160c"),s=n("fe2b"),u=n("a6b6"),c=n("ac0d"),l=u["a"].Meta,d={components:{AListItem:u["a"],AList:s["b"],ASwitch:i["a"],Meta:l},mixins:[c["a"]],data:function(){return{}},filters:{themeFilter:function(e){var t={dark:"暗色",light:"白色"};return t[e]}},methods:{colorFilter:function(e){var t=a["a"].filter(function(t){return t.color===e})[0];return t&&t.key},onChange:function(e){e?this.$store.dispatch("ToggleTheme","dark"):this.$store.dispatch("ToggleTheme","light")}},render:function(){var e=arguments[0];return e(s["b"],{attrs:{itemLayout:"horizontal"}},[e(u["a"],[e(l,[e("a",{slot:"title"},["风格配色"]),e("span",{slot:"description"},["整体风格配色设置"])]),e("div",{slot:"actions"},[e(i["a"],{attrs:{checkedChildren:"暗色",unCheckedChildren:"白色",defaultChecked:"dark"===this.navTheme},on:{change:this.onChange}})])]),e(u["a"],[e(l,[e("a",{slot:"title"},["主题色"]),e("span",{slot:"description"},["页面风格配色： ",e("a",{domProps:{innerHTML:this.colorFilter(this.primaryColor)}})])])])])}},f=d,m=n("2877"),p=Object(m["a"])(f,r,o,!1,null,"6ab256a2",null);t["default"]=p.exports},5694:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{centered:"",title:e.title,width:1e3,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-row",{attrs:{gutter:18}},[n("a-col",{attrs:{span:16}},[n("a-card",{attrs:{title:"选择人员",bordered:!0}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-form-item",{attrs:{label:"姓名"}},[n("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1),n("a-col",{attrs:{span:8}},[n("a-card",{attrs:{title:"用户选择",bordered:!0}},[n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,loading:e.loading,scroll:{y:240}},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a-button",{attrs:{type:"primary",size:"small",icon:"delete"},on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])],1)}}])})],1)])],1)],1)],1)],1)},o=[],a=n("a4bb"),i=n.n(a),s=n("5176"),u=n.n(s),c=n("e814"),l=n.n(c),d=n("ca00"),f=n("0fea"),m={name:"SelectDemoModal",data:function(){return{title:"用户列表",names:[],visible:!1,placement:"right",description:"人员管理页面",queryParam:{},columns1:[{title:"#",dataIndex:"",key:"rowIndex",width:50,align:"center",customRender:function(e,t,n){return l()(n)+1}},{title:"姓名",align:"center",width:113,dataIndex:"name"},{title:"年龄",align:"center",width:100,dataIndex:"age"},{title:"出生日期",align:"center",width:100,dataIndex:"birthday"}],columns2:[{title:"用户账号",align:"center",width:100,dataIndex:"name"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/test/jeecgDemo/list"}}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(f["b"])(this.url.list,n).then(function(e){e.success&&(t.dataSource1=e.result.records,t.ipagination.total=e.result.total)})},getQueryParams:function(){var e=u()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(d["b"])(e)},getQueryField:function(){},onSelectAll:function(e,t,n){if(!0===e)for(var r=0;r<n.length;r++)this.dataSource2.push(n[r]);else for(var o=0;o<n.length;o++)this.dataSource2.splice(this.dataSource2.indexOf(n[o]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var n=this.dataSource2.indexOf(e);n>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,n){console.log(n),i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},p=m,h=(n("1e63"),n("2877")),g=Object(h["a"])(p,r,o,!1,null,"dadcbf72",null);t["default"]=g.exports},"56cd1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据权限规则",width:e.drawerWidth,visible:e.visible,wrapStyle:{height:"calc(100% - 108px)",overflow:"auto",paddingBottom:"108px"}},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则名称",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.queryParam.ruleName,callback:function(t){e.$set(e.queryParam,"ruleName",t)},expression:"queryParam.ruleName"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则值",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则值"},model:{value:e.queryParam.ruleValue,callback:function(t){e.$set(e.queryParam,"ruleValue",t)},expression:"queryParam.ruleValue"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:e.addPermissionRule}},[e._v("添加")])],1)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,loading:e.loading},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("编辑\n          ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)]),n("permission-data-rule-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("4ec3"),i=n("b65a"),s=n("7c33"),u=[{title:"规则名称",dataIndex:"ruleName",key:"ruleName"},{title:"规则字段",dataIndex:"ruleColumn",key:"ruleColumn"},{title:"规则值",dataIndex:"ruleValue",key:"ruleValue"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],c={name:"PermissionDataRuleList",mixins:[i["a"]],components:{PermissionDataRuleModal:s["default"]},data:function(){return{queryParam:{},drawerWidth:650,columns:u,permId:"",visible:!1,form:this.$form.createForm(this),loading:!1,url:{list:"/sys/permission/getPermRuleListByPermId",delete:"/sys/permission/deletePermissionRule"}}},created:function(){this.resetScreenSize()},methods:{loadData:function(){var e=this;this.dataSource=[];var t=this.getQueryParams();Object(a["x"])(t).then(function(t){t.success&&(e.dataSource=t.result)})},edit:function(e){e.id&&(this.visible=!0,this.permId=e.id),this.queryParam={},this.queryParam.permissionId=e.id,this.visible=!0,this.loadData(),this.resetScreenSize()},addPermissionRule:function(){this.$refs.modalForm.add(this.permId),this.$refs.modalForm.title="新增"},searchQuery:function(){var e=this,t=this.getQueryParams();t.permissionId=this.permId,Object(a["B"])(t).then(function(t){t.success&&(e.dataSource=t.result)})},searchReset:function(){this.queryParam={},this.queryParam.permissionId=this.permId,this.loadData(1)},onClose:function(){this.visible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:650}}},l=c,d=n("2877"),f=Object(d["a"])(l,r,o,!1,null,"085500dd",null);t["default"]=f.exports},"57ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dictName",e.validatorRules.dictName],expression:"[ 'dictName', validatorRules.dictName]"}],attrs:{placeholder:"请输入字典名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dictCode",e.validatorRules.dictCode],expression:"[ 'dictCode', validatorRules.dictCode]"}],attrs:{placeholder:"请输入字典编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[ 'description']"}]})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("88bc"),u=n.n(s),c=n("4ec3"),l={name:"DictModal",data:function(){return{value:1,title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{dictName:{rules:[{required:!0,message:"请输入字典名称!"}]},dictCode:{rules:[{required:!0,message:"请输入字典编码!"},{validator:this.validateDictCode}]}}}},created:function(){},methods:{validateDictCode:function(e,t,n){var r={tableName:"sys_dict",fieldName:"dict_code",fieldVal:t,dataId:this.model.id};Object(c["n"])(r).then(function(e){e.success?n():n(e.message)})},handleChange:function(e){this.model.status=e},add:function(){this.edit({})},edit:function(e){var t=this;e.id?this.visiblekey=!0:this.visiblekey=!1,this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(u()(t.model,"dictName","dictCode","description"))})},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o,a=i()(e.model,r);console.log(a),e.model.id?o=Object(c["o"])(a):(a.delFlag="1",o=Object(c["a"])(a)),o.then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,null,null);t["default"]=m.exports},"57ef":function(e,t,n){"use strict";var r=n("4a49"),o=n.n(r);o.a},5831:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"规则编号"}},[n("a-input",{attrs:{placeholder:""}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),e.advanced?[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"调用次数"}},[n("a-input-number",{staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"更新日期"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v("\n              "+e._s(e.advanced?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.$router.push({name:"anime-add"})}}},[e._v("新建")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"}}),e._v("锁定")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,showAlertInfo:!0},on:{onSelect:e.onChange},scopedSlots:e._u([e._l(e.columns,function(t,r){return{key:t.dataIndex,fn:function(r,o,a){return t.scopedSlots?[n("div",{key:a},[o.editable?n("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:r},on:{change:function(n){return e.handleChange(n.target.value,o.key,t)}}}):[e._v(e._s(r))]],2)]:void 0}}}),{key:"action",fn:function(t,r,o){return[n("div",{staticClass:"editable-row-operations"},[r.editable?n("span",[n("a",{on:{click:function(){return e.save(r)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"真的放弃编辑吗?"},on:{confirm:function(){return e.cancel(r)}}},[n("a",[e._v("取消")])])],1):n("span",[n("a",{staticClass:"edit",on:{click:function(){return e.edit(r)}}},[e._v("修改")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{staticClass:"delete",on:{click:function(){return e.del(r)}}},[e._v("删除")])],1)])]}}],null,!0)})],1)},o=[],a=n("795b"),i=n.n(a),s=n("5176"),u=n.n(s),c=n("e8c4"),l={name:"TableList",components:{STable:c["a"]},data:function(){var e=this;return{advanced:!1,queryParam:{},columns:[{title:"规则编号",dataIndex:"no",width:90},{title:"描述",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"服务调用次数",dataIndex:"callNo",width:"150px",sorter:!0,needTotal:!0,scopedSlots:{customRender:"callNo"}},{title:"状态",dataIndex:"status",width:"100px",needTotal:!0,scopedSlots:{customRender:"status"}},{title:"更新时间",dataIndex:"updatedAt",width:"150px",sorter:!0,scopedSlots:{customRender:"updatedAt"}},{table:"操作",dataIndex:"action",width:"120px",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/service",{params:u()(t,e.queryParam)}).then(function(e){return e.result})},selectedRowKeys:[],selectedRows:[]}},methods:{handleChange:function(e,t,n){console.log(e,t,n)},edit:function(e){e.editable=!0,this.$refs.table.updateEdit()},del:function(e){this.$confirm({title:"警告",content:"真的要删除吗?",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){return console.log("OK"),new i.a(function(e,t){setTimeout(Math.random()>.5?e:t,1e3)}).catch(function(){return console.log("Oops errors!")})},onCancel:function(){console.log("Cancel")}})},save:function(e){delete e.editable,this.$refs.table.updateEdit()},cancel:function(e){delete e.editable,this.$refs.table.updateEdit()},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},d=l,f=(n("4ff1"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"48253dea",null);t["default"]=m.exports},5968:function(e,t,n){"use strict";var r=n("aa30"),o=n.n(r);o.a},"596d":function(e,t,n){},5983:function(e,t,n){"use strict";var r=n("88bd"),o=n.n(r);o.a},"59a0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-drawer",{attrs:{title:"字典列表",width:e.screenWidth,visible:e.visible},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline",form:e.form}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:8,sm:12}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入名称"},model:{value:e.queryParam.itemText,callback:function(t){e.$set(e.queryParam,"itemText",t)},expression:"queryParam.itemText"}})],1)],1),n("a-col",{attrs:{md:9,sm:24}},[n("a-form-item",{staticStyle:{width:"170px"},attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"0"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:7,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("搜索")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:2,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)])]),n("dict-item-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("5176"),i=n.n(a),s=n("88bc"),u=n.n(s),c=n("ca00"),l=n("8144"),d=n("b65a"),f={name:"DictItemList",mixins:[d["a"]],components:{DictItemModal:l["default"]},data:function(){return{columns:[{title:"名称",align:"center",dataIndex:"itemText"},{title:"数据值",align:"center",dataIndex:"itemValue"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],queryParam:{dictId:"",dictName:"",itemText:"",delFlag:"1",status:[]},title:"操作",visible:!1,screenWidth:800,model:{},dictId:"",status:1,labelCol:{xs:{span:5},sm:{span:5}},wrapperCol:{xs:{span:12},sm:{span:12}},form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}},url:{list:"/sys/dictItem/list",delete:"/sys/dictItem/delete",deleteBatch:"/sys/dictItem/deleteBatch"}}},created:function(){this.resetScreenSize()},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.id),this.queryParam={},this.form.resetFields(),this.model=i()({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(u()(t.model,"itemText","itemValue"))}),this.loadData()},getQueryParams:function(){var e=i()({},this.queryParam);return e.dictId=this.dictId,e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["b"])(e)},handleAdd:function(){this.$refs.modalForm.add(this.dictId),this.$refs.modalForm.title="新增"},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1,this.form.resetFields(),this.dataSource=[]},resetScreenSize:function(){var e=document.body.clientWidth;this.screenWidth=e<600?e:600}}},m=f,p=n("2877"),h=Object(p["a"])(m,r,o,!1,null,"5f259f91",null);t["default"]=h.exports},"5a29":function(e,t,n){},"5aa8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"actions",fn:function(e,n){return r("span",{},t._l(n.actionList,function(e,n){return r("a-tag",{key:n},[t._v(t._s(e.describe))])}),1)}},{key:"status",fn:function(e){return r("span",{},[t._v("\n      "+t._s(t._f("statusFilter")(e))+"\n    ")])}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"权限名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"permission_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"赋予权限",hasFeedback:""}},[r("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",allowClear:!0},model:{value:t.mdl.actions,callback:function(e){t.$set(t.mdl,"actions",e)},expression:"mdl.actions"}},t._l(t.permissionList,function(e,n){return r("a-select-option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1)],1)],1)},o=[],a=n("795b"),i=n.n(a),s=n("5176"),u=n.n(s),c=n("e8c4"),l={name:"TableList",components:{STable:c["a"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"权限名称",dataIndex:"name"},{title:"可操作权限",dataIndex:"actions",scopedSlots:{customRender:"actions"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],permissionList:null,loadData:function(t){return e.$http.get("/api/permission",{params:u()(t,e.queryParam)}).then(function(e){var t=e.result;return t.data.map(function(e){return e.actionList=JSON.parse(e.actionData),e}),t})},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){var t={1:"正常",2:"禁用"};return t[e]}},created:function(){this.loadPermissionList()},methods:{loadPermissionList:function(){var e=this;new i.a(function(e){var t=[{label:"新增",value:"add",defaultChecked:!1},{label:"查询",value:"get",defaultChecked:!1},{label:"修改",value:"update",defaultChecked:!1},{label:"列表",value:"query",defaultChecked:!1},{label:"删除",value:"delete",defaultChecked:!1},{label:"导入",value:"import",defaultChecked:!1},{label:"导出",value:"export",defaultChecked:!1}];setTimeout(e(t),1500)}).then(function(t){e.permissionList=t})},handleEdit:function(e){this.mdl=u()({},e),console.log(this.mdl),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,null,null);t["default"]=m.exports},"5d6b":function(e,t,n){var r=n("e53d").parseInt,o=n("a1ce").trim,a=n("e692"),i=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},"5df3":function(e,t,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},"5e4c":function(e,t){(function(){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");function n(){}t.add("contextmenu",function(){e.console.warn("Context menu plugin is now built in to the core editor, please remove it from your editor configuration")})})(window)})()},"5eda":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{size:"default",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return r("div",{staticStyle:{margin:"0"}},[r("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},t._l(e.permissions,function(e,n){return r("a-col",{key:n,style:{marginBottom:"12px"},attrs:{span:12}},[r("a-col",{attrs:{lg:4,md:24}},[r("span",[t._v(t._s(e.permissionName)+"：")])]),e.actionEntitySet.length>0?r("a-col",{attrs:{lg:20,md:24}},t._l(e.actionEntitySet,function(e,n){return r("a-tag",{key:n,attrs:{color:"cyan"}},[t._v(t._s(e.describe))])}),1):r("a-col",{attrs:{span:20}},[t._v("-")])],1)}),1)],1)}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{staticStyle:{top:"20px"},attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"角色名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"role_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"拥有权限",hasFeedback:""}},t._l(t.mdl.permissions,function(e,n){return r("a-row",{key:n,attrs:{gutter:16}},[r("a-col",{attrs:{span:4}},[t._v("\n            "+t._s(e.permissionName)+"：\n          ")]),r("a-col",{attrs:{span:20}},[r("a-checkbox-group",{attrs:{options:e.actionsOptions}})],1)],1)}),1)],1)],1)],1)},o=[],a=(n("ac6a"),n("5176")),i=n.n(a),s=n("e8c4"),u=n("0fea"),c={name:"TableList",components:{STable:s["a"]},data:function(){return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){return Object(u["d"])(e).then(function(e){return e.result})},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(u["e"])().then(function(e){console.log("getServiceList.call()",e)}),Object(u["d"])().then(function(e){console.log("getRoleList.call()",e)})},methods:{handleEdit:function(e){this.mdl=i()({},e),this.mdl.permissions.forEach(function(e){e.actionsOptions=e.actionEntitySet.map(function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}})}),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=c,d=n("2877"),f=Object(d["a"])(l,r,o,!1,null,null,null);t["default"]=f.exports},"5f0d":function(e,t,n){"use strict";var r=n("b38b"),o=n.n(r);o.a},"617d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"受理量",total:e._f("NumberFormat")(e.cardCount.sll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.sll}})],1),n("template",{slot:"footer"},[e._v("今日受理量："),n("span",[e._v(e._s(e.todaySll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"办结量",total:e._f("NumberFormat")(e.cardCount.bjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.bjl}})],1),n("template",{slot:"footer"},[e._v("今日办结量："),n("span",[e._v(e._s(e.todayBjl))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户受理量",total:e._f("NumberFormat")(e.cardCount.isll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.isll}})],1),n("template",{slot:"footer"},[e._v("用户今日受理量："),n("span",[e._v(e._s(e.todayISll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户办结量",total:e._f("NumberFormat")(e.cardCount.ibjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.ibjl}})],1),n("template",{slot:"footer"},[e._v("用户今日办结量："),n("span",[e._v(e._s(e.todayIBjl))])])],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"受理监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"受理量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)}),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"交互监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar-multid",{attrs:{dataSource:e.jhjgData,fields:e.jhjgFields,title:"平台与部门交互量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)}),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"3",attrs:{tab:"效率监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("line-chart-multid",{attrs:{dataSource:e.xljgData,fields:e.xljgFields,title:"平台与部门交互效率统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)}),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"4",attrs:{tab:"存储监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("a-row",[e.diskInfo&&e.diskInfo.length>0?e._l(e.diskInfo,function(e,t){return n("a-col",{key:"diskInfo"+t,attrs:{span:12}},[n("dash-chart-demo",{attrs:{title:e.name,dataSource:e.restPPT}})],1)}):e._e()],2)],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:10}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)}),1)],1)])],1)],1)],1)],1)],1)]),n("a-row",{attrs:{gutter:12}},[n("a-card",{class:{"anty-list-cust":!0},style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1}},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("a-radio-group",{attrs:{defaultValue:"1"}},[n("a-radio-button",{attrs:{value:"1"}},[e._v("转移登记")]),n("a-radio-button",{attrs:{value:"2"}},[e._v("抵押登记")])],1)],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"业务流程限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource1,size:"default",rowKey:"id",columns:e.columns,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,o){return[n("a-progress",{staticStyle:{width:"80px"},attrs:{percent:e.getFlowRateNumber(r.flowRate)}})]}}])})],1),n("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"业务节点限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource2,size:"default",rowKey:"id",columns:e.columns2,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,o){return[n("span",{staticStyle:{color:"red"}},[e._v(e._s(r.flowRate)+"分钟")])]}}])})],1)],1)],1)],1)],1)},o=[],a=n("146b"),i=a["a"],s=(n("e6ea"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"1e81ca89",null);t["default"]=u.exports},6239:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-form-item",{attrs:{label:"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入标题"}]}],expression:"[\n          'name',\n          {rules: [{ required: true, message: '请输入标题' }]}\n        ]"}],attrs:{name:"name",placeholder:"给目标起个名字"}})],1),n("a-form-item",{attrs:{label:"起止日期",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["buildTime",{rules:[{required:!0,message:"请选择起止日期"}]}],expression:"[\n          'buildTime',\n          {rules: [{ required: true, message: '请选择起止日期' }]}\n        ]"}],staticStyle:{width:"100%"},attrs:{name:"buildTime"}})],1),n("a-form-item",{attrs:{label:"目标描述",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:"请输入目标描述"}]}],expression:"[\n          'description',\n          {rules: [{ required: true, message: '请输入目标描述' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入你阶段性工作目标"}})],1),n("a-form-item",{attrs:{label:"衡量标准",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入衡量标准"}]}],expression:"[\n          'type',\n          {rules: [{ required: true, message: '请输入衡量标准' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入衡量标准"}})],1),n("a-form-item",{attrs:{label:"客户",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["customer",{rules:[{required:!0,message:"请描述你服务的客户"}]}],expression:"[\n          'customer',\n          {rules: [{ required: true, message: '请描述你服务的客户' }]}\n        ]"}],attrs:{placeholder:"请描述你服务的客户，内部客户直接 @姓名／工号"}})],1),n("a-form-item",{attrs:{label:"邀评人",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input",{attrs:{placeholder:"请直接 @姓名／工号，最多可邀请 5 人"}})],1),n("a-form-item",{attrs:{label:"权重",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input-number",{attrs:{min:0,max:100}}),n("span",[e._v(" %")])],1),n("a-form-item",{attrs:{label:"目标公开",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1,help:"客户、邀评人默认被分享"}},[n("a-radio-group",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("a-radio",{attrs:{value:1}},[e._v("公开")]),n("a-radio",{attrs:{value:2}},[e._v("部分公开")]),n("a-radio",{attrs:{value:3}},[e._v("不公开")])],1),n("a-form-item",[2===e.value?n("a-select",{attrs:{mode:"multiple"}},[n("a-select-option",{attrs:{value:"4"}},[e._v("同事一")]),n("a-select-option",{attrs:{value:"5"}},[e._v("同事二")]),n("a-select-option",{attrs:{value:"6"}},[e._v("同事三")])],1):e._e()],1)],1),n("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[n("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1)},o=[],a={name:"BaseForm",data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},"62d6":function(e,t,n){"use strict";var r=n("0b5a"),o=n.n(r);o.a},"63c3":function(e,t,n){"use strict";var r=n("7ae4"),o=n.n(r);o.a},6620:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",filterMultiple:"filterMultiple",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.type},customRow:e.clickThenCheck},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("Jeecg-Order-Customer-List",{ref:"JeecgOrderCustomerList"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("Jeecg-Order-Ticket-List",{ref:"JeecgOrderTicketList"})],1)],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=(n("28a5"),n("e814")),i=n.n(a),s=n("dd9d"),u=n("d544"),c=n("8c22"),l=n("0fea"),d=n("39a5"),f=n("aa8e"),m=n("b65a"),p={name:"JeecgOrderDMainList",mixins:[m["a"]],components:{JeecgOrderTicketModal:f["default"],JeecgOrderCustomerModal:d["default"],JeecgOrderDMainModal:s["default"],JeecgOrderCustomerList:u["default"],JeecgOrderTicketList:c["default"]},data:function(){return{description:"订单管理页面",ipagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch"}}},methods:{clickThenCheck:function(e){var t=this;return{on:{click:function(){t.onSelectChange(e.id.split(","),[e])}}}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t,this.$refs.JeecgOrderCustomerList.getOrderMain(this.selectedRowKeys[0]),this.$refs.JeecgOrderTicketList.getOrderMain(this.selectedRowKeys[0])},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[]},handleDelete:function(e){var t=this,n=this;Object(l["a"])(n.url.delete,{id:e}).then(function(e){e.success?(n.$message.success(e.message),n.loadData(),t.$refs.JeecgOrderCustomerList.loadData(),t.$refs.JeecgOrderTicketList.loadData()):n.$message.warning(e.message)})},searchQuery:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[],this.loadData()}}},h=p,g=(n("a468"),n("2877")),v=Object(g["a"])(h,r,o,!1,null,"1bacfb3c",null);t["default"]=v.exports},"678a":function(e,t,n){"use strict";var r=n("d92a"),o=n.n(r);o.a},6816:function(e,t,n){"use strict";var r=n("22b8"),o=n.n(r);o.a},"683d":function(e,t,n){},"692e":function(e,t,n){var r={"./App.vue":"3dfd","./components/AvatarList/Item.vue":"58f7","./components/AvatarList/List.vue":"a40c","./components/ChartCard.vue":"05ed","./components/CountDown/CountDown.vue":"6a2a","./components/Ellipsis/Ellipsis.vue":"2095","./components/NumberInfo/NumberInfo.vue":"23fe","./components/Trend/Trend.vue":"996b","./components/chart/AreaChartTy.vue":"f552","./components/chart/Bar.vue":"edd9","./components/chart/BarMultid.vue":"8191","./components/chart/DashChartDemo.vue":"972f","./components/chart/LineChartMultid.vue":"4ec6","./components/chart/Liquid.vue":"4ced","./components/chart/MiniArea.vue":"1d43","./components/chart/MiniBar.vue":"942d","./components/chart/MiniProgress.vue":"bf13","./components/chart/Pie.vue":"6cb2","./components/chart/Radar.vue":"3981","./components/chart/RankList.vue":"0923","./components/chart/TransferBar.vue":"1cf5","./components/chart/Trend.vue":"527e","./components/dict/JDictSelectTag.vue":"7b16","./components/jeecg/JCheckbox.vue":"a726","./components/jeecg/JDate.vue":"2dab","./components/jeecg/JEditableTable.vue":"7550","./components/jeecg/JEditor.vue":"a061","./components/jeecg/JEllipsis.vue":"d579","./components/jeecg/JImportModal.vue":"7c93","./components/jeecg/JSelectMultiple.vue":"13d2","./components/jeecg/JSuperQuery.vue":"8c6e","./components/jeecgbiz/JSearchUserByDep.vue":"77fc","./components/jeecgbiz/JSearchUserByDepModal.vue":"fc40","./components/jeecgbiz/JSelectUser.vue":"b6f5","./components/jeecgbiz/SearchUserByDepModal.vue":"8459","./components/jeecgbiz/SelectMultipleUserModal.vue":"5694","./components/jeecgbiz/modal/SelectUserListModal.vue":"9caf","./components/layouts/BasicLayout.vue":"5f32","./components/layouts/BlankLayout.vue":"e017","./components/layouts/IframePageView.vue":"e6b8","./components/layouts/PageView.vue":"345a","./components/layouts/RouteView.vue":"501f","./components/layouts/TabLayout.vue":"0f63","./components/layouts/UserLayout.vue":"7efd","./components/menu/Contextmenu.vue":"91ad","./components/menu/SideMenu.vue":"e5f9","./components/page/GlobalFooter.vue":"911c","./components/page/GlobalHeader.vue":"630d","./components/page/GlobalLayout.vue":"8415","./components/page/PageHeader.vue":"603b","./components/page/PageLayout.vue":"b445","./components/page/SHeaderNotice.vue":"422d","./components/setting/SettingDrawer.vue":"2191","./components/setting/SettingItem.vue":"5d9b","./components/table/StandardTable.vue":"3521","./components/tools/Breadcrumb.vue":"e97b","./components/tools/DetailList.vue":"c16f","./components/tools/FooterToolBar.vue":"c984","./components/tools/HeadInfo.vue":"81d1","./components/tools/HeaderNotice.vue":"a4b0","./components/tools/Logo.vue":"a250","./components/tools/TwoStepCaptcha.vue":"2ca2","./components/tools/UserMenu.vue":"8d4d","./views/404.vue":"8cdb","./views/Home.vue":"bb51","./views/account/center/Index.vue":"f2f0","./views/account/center/page/App.vue":"2f5e","./views/account/center/page/Article.vue":"b8ea","./views/account/center/page/Project.vue":"b8c5","./views/account/settings/AvatarModal.vue":"8d90","./views/account/settings/BaseSetting.vue":"33e6","./views/account/settings/Binding.vue":"91be","./views/account/settings/Custom.vue":"55c3","./views/account/settings/Index.vue":"cd07","./views/account/settings/Notification.vue":"0c3f","./views/account/settings/Security.vue":"a9a9","./views/dashboard/Analysis.vue":"2f3a","./views/dashboard/Monitor.vue":"0b56","./views/dashboard/Workplace.vue":"004c","./views/exception/403.vue":"e409","./views/exception/404.vue":"cc89","./views/exception/500.vue":"6c05","./views/exception/ExceptionPage.vue":"0673","./views/form/BasicForm.vue":"6239","./views/form/advancedForm/AdvancedForm.vue":"70d7","./views/form/advancedForm/RepositoryForm.vue":"cd43","./views/form/advancedForm/TaskForm.vue":"8dd6","./views/form/stepForm/Step1.vue":"82ef","./views/form/stepForm/Step2.vue":"f4a3","./views/form/stepForm/Step3.vue":"a462","./views/form/stepForm/StepForm.vue":"f311","./views/jeecg/InterfaceTest.vue":"ff2a","./views/jeecg/JSearchUserByDepList.vue":"9c73","./views/jeecg/JeecgDemoList.vue":"15dc","./views/jeecg/JeecgEditableTableExample.vue":"b020","./views/jeecg/JeecgOrderMainList.vue":"9b15","./views/jeecg/JeecgOrderMainListForJEditableTable.vue":"b2da","./views/jeecg/PrintDemo.vue":"91b6","./views/jeecg/SearchUserByDepList.vue":"ef28","./views/jeecg/SelectDemo.vue":"b2b7","./views/jeecg/TableExpandeSub.vue":"8428","./views/jeecg/helloworld.vue":"33b1","./views/jeecg/helloworld2.vue":"2f9b","./views/jeecg/modules/JeecgDemoModal.vue":"c943","./views/jeecg/modules/JeecgDemoTabsModal.vue":"3335","./views/jeecg/modules/JeecgOrderMainModal.vue":"8a45","./views/jeecg/modules/JeecgOrderModalForJEditableTable.vue":"b8ad3","./views/jeecg/modules/SuperQueryModal.vue":"f534","./views/jeecg/report/Analysis.vue":"617d","./views/jeecg/report/ArchivesStatisticst.vue":"2832","./views/jeecg/report/ViserChartDemo.vue":"5139","./views/jeecg/tablist/JeecgOrderCustomerList.vue":"d544","./views/jeecg/tablist/JeecgOrderDMainList.vue":"6620","./views/jeecg/tablist/JeecgOrderTicketList.vue":"8c22","./views/jeecg/tablist/form/JeecgOrderCustomerModal.vue":"39a5","./views/jeecg/tablist/form/JeecgOrderDMainModal.vue":"dd9d","./views/jeecg/tablist/form/JeecgOrderTicketModal.vue":"aa8e","./views/list/CardList.vue":"d039","./views/list/PermissionList.vue":"5aa8","./views/list/RoleList.vue":"4002","./views/list/StandardList.vue":"2d51","./views/list/TableInnerEditList.vue":"5831","./views/list/TableList.vue":"f5eb","./views/list/UserList.vue":"5eda","./views/list/modules/RoleModal.vue":"0b38","./views/list/search/SearchLayout.vue":"9cbf","./views/modules/message/SysMessageList.vue":"17d8","./views/modules/message/SysMessageTemplateList.vue":"fd15","./views/modules/message/modules/SysMessageModal.vue":"89ba","./views/modules/message/modules/SysMessageTemplateModal.vue":"e5ab","./views/modules/message/modules/SysMessageTestModal.vue":"86a6","./views/modules/online/cgreport/OnlCgreportHeadList.vue":"a60b","./views/modules/online/cgreport/auto/OnlCgreportAutoList.vue":"ca7e","./views/modules/online/cgreport/auto/OnlCgreportQueryFormItem.vue":"be9c","./views/modules/online/cgreport/modules/OnlCgreportHeadModal.vue":"3e57","./views/profile/advanced/Advanced.vue":"b644","./views/profile/basic/Index.vue":"df55","./views/result/Error.vue":"f32b","./views/result/Result.vue":"9a3d","./views/result/Success.vue":"3ada","./views/system/DataLogList.vue":"4867","./views/system/DepartList.vue":"c9c2","./views/system/DepartList2.vue":"444c","./views/system/DictItemList.vue":"59a0","./views/system/DictList.vue":"b4e3","./views/system/LogList.vue":"2977","./views/system/PermissionDataRuleList.vue":"56cd1","./views/system/PermissionList.vue":"25f0","./views/system/QuartzJobList.vue":"7a9d","./views/system/RoleList.vue":"4fa6","./views/system/SysAnnouncementList.vue":"1dc5","./views/system/UserList.vue":"0d4b","./views/system/modules/DataLogCompareModal.vue":"fcbc","./views/system/modules/DataLogModal.vue":"b4690","./views/system/modules/DepartModal.vue":"c1af","./views/system/modules/DepartWindow.vue":"c63e","./views/system/modules/DictItemModal.vue":"8144","./views/system/modules/DictModal.vue":"57ed","./views/system/modules/PasswordModal.vue":"ddf9","./views/system/modules/PermissionDataRuleModal.vue":"7c33","./views/system/modules/PermissionModal.vue":"b90e","./views/system/modules/QuartzJobModal.vue":"077e","./views/system/modules/RoleDataruleModal.vue":"2285","./views/system/modules/RoleModal.vue":"2a70","./views/system/modules/SysAnnouncementModal.vue":"4647","./views/system/modules/UserModal.vue":"418f","./views/system/modules/UserRoleModal.vue":"ee18","./views/system/modules/icon/Icons.vue":"11cb","./views/user/Login.vue":"ac2a","./views/user/Register.vue":"1348","./views/user/RegisterResult.vue":"1037"};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="692e"},"6c05":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"500"}})},o=[],a=n("0673"),i={components:{ExceptionPage:a["default"]}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"58acec66",null);t["default"]=c.exports},"6cb2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale}},[n("v-tooltip",{attrs:{showTitle:!1,dataKey:"item*percent"}}),n("v-axis"),n("v-legend",{attrs:{dataKey:"item"}}),n("v-pie",{attrs:{position:"percent",color:"item","v-style":e.pieStyle,label:e.labelConfig}}),n("v-coord",{attrs:{type:"theta"}})],1)},o=[],a=(n("c5f6"),n("7104")),i=[{item:"事例一",percent:40},{item:"事例二",percent:21},{item:"事例三",percent:17},{item:"事例四",percent:13},{item:"事例五",percent:9}],s=[{dataKey:"percent",min:0,formatter:".0%"}],u={props:{title:{type:String,default:""},height:{type:Number,default:254},dataSource:{type:Array,default:function(){return[]}}},created:function(){this.change()},watch:{dataSource:function(){this.change()}},methods:{change:function(){if(0===this.dataSource.length)this.data=i;else{var e=(new a.View).source(this.dataSource);e.transform({type:"percent",field:"count",dimension:"item",as:"percent"}),this.data=e.rows}}},data:function(){return{data:"",scale:s,pieStyle:{stroke:"#fff",lineWidth:1},labelConfig:["percent",{formatter:function(e,t){return t.point.item+": "+e}}]}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},"70d7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("a-card",{staticClass:"card",attrs:{title:"仓库管理",bordered:!1}},[r("repository-form",{ref:"repository",attrs:{showSubmit:!1}})],1),r("a-card",{staticClass:"card",attrs:{title:"任务管理",bordered:!1}},[r("task-form",{ref:"task",attrs:{showSubmit:!1}})],1),r("a-card",[r("form",{attrs:{autoFormCreate:function(t){return e.form=t}}},[r("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:!1},scopedSlots:t._u([t._l(["name","workId","department"],function(e,n){return{key:e,fn:function(o,a,i){return[a.editable?r("a-input",{key:e,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:t.columns[n].title},on:{change:function(n){return t.handleChange(n.target.value,a.key,e)}}}):[t._v(t._s(o))]]}}}),{key:"operation",fn:function(e,n,o){return[n.editable?[n.isNew?r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("添加")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1):r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("保存")]),r("a-divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:r("span",[r("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1)]}}],null,!0)}),r("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:t.newMember}},[t._v("新增成员")])],1)]),r("footer-tool-bar",[r("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.validate}},[t._v("提交")])],1)],1)},o=[],a=n("75fc"),i=n("cd43"),s=n("8dd6"),u=n("c984"),c={name:"AdvancedForm",components:{FooterToolBar:u["default"],RepositoryForm:i["default"],TaskForm:s["default"]},data:function(){return{description:"高级表单常见于一次性输入和提交大批量数据的场景。",loading:!1,columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}]}},methods:{handleSubmit:function(e){e.preventDefault()},newMember:function(){this.data.push({key:"-1",name:"",workId:"",department:"",editable:!0,isNew:!0})},remove:function(e){var t=this.data.filter(function(t){return t.key!==e});this.data=t},saveRow:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!1,t.isNew=!1},toggle:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!t.editable},getRowByKey:function(e,t){var n=this.data;return(t||n).filter(function(t){return t.key===e})[0]},cancel:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!1},handleChange:function(e,t,n){var r=Object(a["a"])(this.data),o=r.filter(function(e){return t===e.key})[0];o&&(o[n]=e,this.data=r)},validate:function(){var e=this;this.$refs.repository.form.validateFields(function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})}),this.$refs.task.form.validateFields(function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})})}}},l=c,d=(n("53d7"),n("2877")),f=Object(d["a"])(l,r,o,!1,null,"856511da",null);t["default"]=f.exports},7445:function(e,t,n){var r=n("63b6"),o=n("5d6b");r(r.G+r.F*(parseInt!=o),{parseInt:o})},7455:function(e,t,n){},7550:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-spin",{attrs:{spinning:e.loading}},[e.actionButton?n("div",{staticClass:"action-button"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleClickAdd}},[e._v("新增")]),n("span",{staticClass:"gap"}),e.selectedRowIds.length>0?[n("a-popconfirm",{attrs:{title:"确定要删除这 "+e.selectedRowIds.length+" 项吗?"},on:{confirm:e.handleConfirmDelete}},[n("a-button",{attrs:{type:"primary",icon:"minus"}},[e._v("删除")])],1),e.showClearSelectButton?[n("span",{staticClass:"gap"}),n("a-button",{attrs:{icon:"delete"},on:{click:e.handleClickClearSelect}},[e._v("清空选择")])]:e._e()]:e._e()],2):e._e(),n("div",{staticClass:"input-table",attrs:{id:e.caseId+"inputTable"}},[n("div",{staticClass:"thead"},[n("div",{staticClass:"tr"},[e.rowSelection?n("div",{staticClass:"td td-cb",style:e.style.tdLeft},[n("a-checkbox",{attrs:{checked:e.getSelectAll,indeterminate:e.getSelectIndeterminate},on:{change:e.handleChangeCheckedAll}})],1):e._e(),e.rowNumber?n("div",{staticClass:"td td-num",style:e.style.tdLeft},[n("span",[e._v("#")])]):e._e(),e._l(e.columns,function(t){return[n("div",{key:t.key,staticClass:"td",style:e.buildTdStyle(t)},[n("span",[e._v(e._s(t.title))])])]})],2)]),n("div",{staticClass:"tbody",style:e.tbodyStyle,attrs:{id:e.caseId+"tbody"}},[n("div",{staticClass:"tr-expand",style:"height:"+e.getExpandHeight+"px; z-index:"+(e.loading?"11":"9")+";"}),0===e.rows.length?n("div",{staticClass:"tr-nodata"},[n("span",[e._v("暂无数据")])]):e._e(),e._l(e.rows,function(t,r){return[r>=parseInt(""+(e.scrollTop-e.rowHeight)/e.rowHeight)&&parseInt(""+e.scrollTop/e.rowHeight)+9>r?n("div",{key:t.id,staticClass:"tr",class:-1!==e.selectedRowIds.indexOf(t.id)?"tr-checked":"",style:e.buildTrStyle(r),attrs:{id:e.caseId+"tbody-tr-"+r,"data-idx":r}},[e.rowSelection?n("div",{staticClass:"td td-cb",style:e.style.tdLeft},[e._l([""+t.id],function(t,r){return[n("a-checkbox",{key:r,attrs:{id:t,checked:-1!==e.selectedRowIds.indexOf(t)},on:{change:e.handleChangeLeftCheckbox}})]})],2):e._e(),e.rowNumber?n("div",{staticClass:"td td-num",style:e.style.tdLeft},[n("span",[e._v(e._s(r+1))])]):e._e(),e._l(e.columns,function(o){return n("div",{key:o.key,staticClass:"td",style:e.buildTdStyle(o)},[e._l([""+o.key+t.id],function(a,i){return[o.type===e.formTypes.input||o.type===e.formTypes.inputNumber?n("label",{key:i},[n("a-tooltip",{attrs:{id:a,placement:"top",title:(e.tooltips[a]||{}).title,visible:(e.tooltips[a]||{}).visible||!1,autoAdjustOverflow:!0}},[n("input",e._b({attrs:{id:a,"data-input-number":o.type===e.formTypes.inputNumber,placeholder:e.replaceProps(o,o.placeholder)},on:{input:function(n){e.handleInputCommono(n.target,r,t,o)},mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},"input",e.buildProps(t,o),!1))])],1):o.type===e.formTypes.checkbox?[n("a-checkbox",e._b({key:i,attrs:{id:a,checked:e.checkboxValues[a]},on:{change:e.handleChangeCheckboxCommon}},"a-checkbox",e.buildProps(t,o),!1))]:o.type===e.formTypes.select?[n("a-tooltip",{key:i,attrs:{id:a,placement:"top",title:(e.tooltips[a]||{}).title,visible:(e.tooltips[a]||{}).visible||!1,autoAdjustOverflow:!0}},[n("span",{on:{mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},[n("a-select",e._b({key:i,staticStyle:{width:"100%"},attrs:{id:a,value:e.selectValues[a],placeholder:e.replaceProps(o,o.placeholder)},on:{change:function(n){return e.handleChangeSelectCommon(n,a,t,o)}}},"a-select",e.buildProps(t,o),!1),[e._l(o.options,function(t,r){return[n("a-select-option",{key:r,attrs:{value:t.value}},[e._v(e._s(t.title))])]})],2)],1)])]:o.type===e.formTypes.date||o.type===e.formTypes.datetime?[n("a-tooltip",{key:i,attrs:{id:a,placement:"top",title:(e.tooltips[a]||{}).title,visible:(e.tooltips[a]||{}).visible||!1,autoAdjustOverflow:!0}},[n("span",{on:{mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},[n("j-date",e._b({key:i,staticStyle:{width:"100%"},attrs:{id:a,value:e.jdateValues[a],placeholder:e.replaceProps(o,o.placeholder),"trigger-change":!0,showTime:o.type===e.formTypes.datetime,dateFormat:o.type===e.formTypes.date?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss"},on:{change:function(n){return e.handleChangeJDateCommon(n,a,t,o)}}},"j-date",e.buildProps(t,o),!1))],1)])]:n("span",{key:i},[e._v(e._s(o.defaultValue))])]})],2)})],2):e._e()]})],2)])])},o=[],a=(n("a481"),n("3b2b"),n("5d73")),i=n.n(a),s=n("768b"),u=n("795b"),c=n.n(u),l=(n("28a5"),n("7618")),d=n("e814"),f=n.n(d),m=(n("6b54"),n("ac6a"),n("5176")),p=n.n(m),h=(n("c5f6"),n("e2e0")),g=n("ca00"),v=n("2dab"),b=61,y={name:"JEditableTable",components:{JDate:v["default"]},props:{columns:{type:Array,required:!0},dataSource:{type:Array,required:!0},actionButton:{type:Boolean,default:!1},rowNumber:{type:Boolean,default:!1},rowSelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},maxHeight:{type:Number,default:400},disabledRows:{type:Object,default:function(){return{}}}},data:function(){return{caseId:"_jet-".concat(Object(g["e"])(6),"-"),el:{inputTable:null,tbody:null},style:{tbody:{left:"0px","max-height":"400px"},tdLeft:{"min-width":"4%","max-width":"45px"}},formTypes:h["a"],rows:[],rowHeight:b,scrollTop:0,selectValues:{},checkboxValues:{},jdateValues:{},selectedRowIds:[],deleteIds:[],tooltips:{},notPassedIds:[]}},created:function(){this.visibleTrEls=[],this.inputValues=[],this.disabledRowIds=this.disabledRowIds||[]},computed:{getExpandHeight:function(){return this.rows.length*this.rowHeight},getSelectIndeterminate:function(){return this.selectedRowIds.length>0&&this.selectedRowIds.length<this.rows.length},getSelectAll:function(){return this.selectedRowIds.length===this.rows.length&&this.rows.length>0},tbodyStyle:function(){var e=p()({},this.style.tbody);return e["max-height"]="".concat(this.maxHeight,"px"),e},showClearSelectButton:function(){var e=0;for(var t in this.disabledRows)this.disabledRows.hasOwnProperty(t)&&e++;return e>0}},watch:{dataSource:function(e){var t=this;this.initialize();var n=[],r={},o={},a={},i=this.disabledRowIds||[];e.forEach(function(e){var s={id:t.caseId+e.id},u={id:s.id},c=!1;t.columns.forEach(function(n){var l=n.key+s.id,d=(null==e[n.key]?"":e[n.key]).toString();if(n.type===h["a"].checkbox)if(n.customValue instanceof Array){var f=(n.customValue[0]||"").toString();r[l]=d===f}else r[l]=d;else n.type===h["a"].select?o[l]=d||void 0:n.type===h["a"].date||n.type===h["a"].datetime?a[l]=d:s[n.key]=d;for(var m in t.disabledRows)t.disabledRows.hasOwnProperty(m)&&e.hasOwnProperty(m)&&!0!==c&&(c=t.disabledRows[m]===e[m],c&&i.push(u.id))}),t.inputValues.push(s),n.push(u)}),this.disabledRowIds=i,this.checkboxValues=r,this.selectValues=o,this.jdateValues=a,this.rows=n,this.$nextTick(function(){t.updateFormValues()})},selectedRowIds:function(e){this.$emit("selectRowChange",Object(g["a"])(e))}},mounted:function(){var e=this,t={};["inputTable","tbody"].forEach(function(n){t[n]=document.getElementById(e.caseId+n)}),this.el=t;var n=this;this.el.inputTable.onscroll=function(e){n.syncScrollBar(e.target.scrollLeft)},this.el.tbody.onscroll=function(e){n.recalcTrHiddenItem(e.target.scrollTop)}},methods:{initialize:function(){var e=this;this.visibleTrEls=[],this.rows=[],this.deleteIds=[],this.inputValues=[],this.selectValues={},this.checkboxValues={},this.jdateValues={},this.selectedRowIds=[],this.tooltips={},this.notPassedIds=[],this.scrollTop=0,this.$nextTick(function(){e.el.tbody.scrollTop=0})},syncScrollBar:function(e){this.style.tbody.left="".concat(e,"px"),this.el.tbody.scrollLeft=e},resetScrollTop:function(e){this.el.tbody.scrollTop=null!=e&&"number"===typeof e?e:this.scrollTop},recalcTrHiddenItem:function(e){var t=this,n=e-this.scrollTop;n<0&&(n=this.scrollTop-e),n>=.3*this.rowHeight&&(this.scrollTop=e,this.$nextTick(function(){t.updateFormValues()}))},push:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;if(r instanceof Array||(r=Object(g["a"])(this.rows)||[]),null==e.id){var o=(new Date).getTime();e.id="".concat(this.caseId).concat(o).concat(r.length)}-1===e.id.indexOf(this.caseId)&&(e.id=this.caseId+e.id);var a={id:e.id},i={id:a.id},s=p()({},this.checkboxValues),u=p()({},this.selectValues),c=p()({},this.jdateValues);return this.columns.forEach(function(n){var r=n.key,o=r+a.id,l=null!=e[r];if(n.type===h["a"].input)i[r]=l?e[r]:n.defaultValue;else if(n.type===h["a"].inputNumber)!0===n.isOrder?i[r]=t.getInputNumberMaxValue(n)+1:i[r]=l?e[r]:n.defaultValue;else if(n.type===h["a"].checkbox)s[o]=l?e[r]:n.defaultChecked;else if(n.type===h["a"].select){var d=n.defaultValue;0===d||d||(d=void 0),u[o]=l?e[r]:d}else n.type===h["a"].date||n.type===h["a"].datetime?c[o]=l?e[r]:n.defaultValue:i[r]=l?e[r]:""}),r.push(a),this.inputValues.push(i),this.checkboxValues=s,this.selectValues=u,this.jdateValues=c,n&&(this.rows=r,this.$nextTick(function(){t.updateFormValues()})),r},getInputNumberMaxValue:function(e){var t=0;return this.inputValues.forEach(function(n,r){var o,a=n[e.key];try{o=f()(a)}catch(i){o=0}t=0===r?o:o>t?o:t}),t},add:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(new Date).getTime(),o=this.rows,a=0;a<t;a++){var i={id:"".concat(this.caseId).concat(r).concat(o.length)};o=this.push(i,!1,o)}this.rows=o,this.$nextTick(function(){e.updateFormValues()});var s=this.el.tbody,u=s.offsetHeight,c=s.scrollTop+u;(!1!==n||s.scrollHeight-c<=10)&&(this.$nextTick(function(){s.scrollTop=s.scrollHeight}),this.$emit("added"))},removeSelectedRows:function(){this.removeRows(this.selectedRowIds),this.selectedRowIds=[]},removeRows:function(e){var t=this,n=e;if(!(e instanceof Array)){if("string"!==typeof e)throw"InputTable.removeRows() 函数需要的参数可以是string或Array类型，但提供的却是".concat(Object(l["a"])(e));n=[e]}var r=Object(g["a"])(this.rows);return n.forEach(function(e){var n=function(t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t.splice(n,1),!0};n(r)&&t.deleteIds.push(e.split(t.caseId)[1]),n(t.inputValues)}),this.rows=r,this.$emit("deleted",this.getDeleteIds()),!0},getValues:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,o=Object(g["a"])(this.inputValues),a=p()({},this.tooltips),i=Object(g["a"])(this.notPassedIds);o.forEach(function(e){t.columns.forEach(function(o){var s=o.key+e.id;if(o.type===h["a"].checkbox){var u=t.checkboxValues[s];o.customValue instanceof Array?e[o.key]=u?o.customValue[0]:o.customValue[1]:e[o.key]=u}else o.type===h["a"].select?e[o.key]=t.selectValues[s]:o.type!==h["a"].date&&o.type!==h["a"].datetime||(e[o.key]=t.jdateValues[s]);if(n){var c=t.validateOneInput(e[o.key],e,o,i,!1);a[s]=c[0],a[s].visible&&r++,a[s].visible=!1,i=c[1]}}),e.id=e.id.split(t.caseId)[1]}),this.tooltips=a,this.notPassedIds=i,"function"===typeof e&&e(r,o)},getValuesPromise:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new c.a(function(n,r){e.getValues(function(e,t){0===e?n(t):r(h["b"])},t)})},getDeleteIds:function(){return Object(g["a"])(this.deleteIds)},getAll:function(e){var t=this;return new c.a(function(n,r){var o=t.getDeleteIds();t.getValuesPromise(e).then(function(e){n({values:e,deleteIds:o})}).catch(function(e){r(e)})})},setValues:function(e){var t=this;e.forEach(function(e){var n=e.rowKey,r=e.values,o=function(e){if(r.hasOwnProperty(e)){var o=r[e],a=!1;t.inputValues.forEach(function(r){"".concat(t.caseId).concat(n)===r.id&&(a=!0,r[e]=o)});var i="".concat(e).concat(t.caseId).concat(n);!a&&t.selectValues.hasOwnProperty(i)&&(t.selectValues[i]=0===o||o?o:void 0,a=!0),!a&&t.checkboxValues.hasOwnProperty(i)&&(t.checkboxValues[i]=o,a=!0),!a&&t.jdateValues.hasOwnProperty(i)&&(t.jdateValues[i]=o,a=!0)}};for(var a in r)o(a)}),this.forceUpdateFormValues()},validateOneInput:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=p()({},this.tooltips),i=n.key+t.id,u=this.validateValue(n.validateRules,e),c=Object(s["a"])(u,2),l=c[0],d=c[1];a[i]=a[i]?a[i]:{},a[i].visible=!l;var f=r.indexOf(i),m=null,g=null;l?-1!==f&&r.splice(f,1):(a[i].title=this.replaceProps(n,d),m="red",g="0 0 0 2px rgba(255, 0, 0, 0.2)",-1===f&&r.push(i));var v=document.getElementById(i);return null!=v&&(n.type===h["a"].select&&(v=v.getElementsByClassName("ant-select-selection")[0]),n.type!==h["a"].date&&n.type!==h["a"].datetime||(v=v.getElementsByTagName("input")[0]),v.style.borderColor=m,v.style.boxShadow=g),o&&(this.tooltips=a,this.notPassedIds=r),[a[i],r]},validateValue:function(e,t){if(!(e instanceof Array))return[!0,""];var n=!0,r="",o=!0,a=!1,s=void 0;try{for(var u,c=i()(e);!(o=(u=c.next()).done);o=!0){var l=u.value,d=null==t||""===t;if(!0===l.required){if(d){n=!1,r=l.message;break}}else if(l.pattern&&!d){n=new RegExp(l.pattern).test(t),r=l.message;break}}}catch(f){a=!0,s=f}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return[n,r]},updateFormValues:function(){var e=this,t=this.el.tbody.getElementsByClassName("tr"),n=[],r=!0,o=!1,a=void 0;try{for(var s,u=i()(t);!(r=(s=u.next()).done);r=!0){var c=s.value;n.push(c)}}catch(w){o=!0,a=w}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var l=n;if(this.visibleTrEls.length>0){l=[];for(var d=0;d<n.length;d++){var f=n[d],m=!0,p=!0,h=!1,g=void 0;try{for(var v,b=i()(this.visibleTrEls);!(p=(v=b.next()).done);p=!0){var y=v.value;if(y.id===f.id){m=!1;break}}}catch(w){h=!0,g=w}finally{try{p||null==b.return||b.return()}finally{if(h)throw g}}m&&l.push(f)}}this.visibleTrEls=n,l.forEach(function(t){var n=t.dataset.idx,r=e.inputValues[n];for(var o in r)if(r.hasOwnProperty(o)){var a="".concat(o).concat(r.id),i=document.getElementById(a);i&&(i.value=r[o])}})},forceUpdateFormValues:function(){this.visibleTrEls=[],this.updateFormValues()},handleChangeCheckedAll:function(){var e=this,t=[];this.getSelectAll||this.rows.forEach(function(n){-1===(e.disabledRowIds||[]).indexOf(n.id)&&t.push(n.id)}),this.selectedRowIds=t},handleChangeLeftCheckbox:function(e){var t=e.target.id;if(-1===(this.disabledRowIds||[]).indexOf(t)){var n=this.selectedRowIds.indexOf(t);-1!==n?this.selectedRowIds.splice(n,1):this.selectedRowIds.push(t)}},handleClickAdd:function(){this.add()},handleConfirmDelete:function(){this.removeSelectedRows()},handleClickClearSelect:function(){this.selectedRowIds=[]},handleMouseoverCommono:function(e,t){var n=t.key+e.id;-1!==this.notPassedIds.indexOf(n)&&this.showOrHideTooltip(n,!0)},handleMouseoutCommono:function(e,t){var n=t.key+e.id;this.showOrHideTooltip(n,!1)},handleInputCommono:function(e,t,n,r){var o=e.value,a=e.dataset,i=e.selectionStart;if("true"==="".concat(a.inputNumber)){var s=o.replace(/[^0-9]/g,"");o!==s&&(o=s,e.value=s,"number"===typeof i&&(e.selectionStart=i-1,e.selectionEnd=i-1))}this.inputValues[t][r.key]=o,this.validateOneInput(o,n,r,this.notPassedIds,!0)},handleChangeCheckboxCommon:function(e){var t=e.target,n=t.id,r=t.checked;this.checkboxValues=this.bindValuesChange(r,n,"checkboxValues")},handleChangeSelectCommon:function(e,t,n,r){this.selectValues=this.bindValuesChange(e,t,"selectValues"),this.validateOneInput(e,n,r,this.notPassedIds,!0)},handleChangeJDateCommon:function(e,t,n,r){this.jdateValues=this.bindValuesChange(e,t,"jdateValues"),this.validateOneInput(e,n,r,this.notPassedIds,!0)},bindValuesChange:function(e,t,n){var r=p()({},this[n]);return r[t]=e,r},showOrHideTooltip:function(e,t){var n=p()({},this.tooltips);n[e]=n[e]?n[e]:{},n[e].visible=t,this.tooltips=n},log:console.log,replaceProps:function(e,t){return t&&"string"===typeof t&&(t=t.replace(/\${title}/g,e.title),t=t.replace(/\${key}/g,e.key),t=t.replace(/\${defaultValue}/g,e.defaultValue)),t},buildTrStyle:function(e){return{top:"".concat(b*e,"px")}},buildTdStyle:function(e){var t={};e.width?t["width"]=e.width:this.columns?t["width"]="".concat(92/this.columns.length,"%"):t["width"]="120px";var n=e.type===h["a"].checkbox;return n&&(t["align-items"]="center",t["text-align"]="center",t["padding-left"]="0",t["padding-right"]="0"),t},buildProps:function(e,t){var n={};if("object"===Object(l["a"])(t.props))for(var r in t.props)t.props.hasOwnProperty(r)&&(n[r]=this.replaceProps(t,t.props[r]));return!0!==n["disabled"]&&(n["disabled"]=-1!==(this.disabledRowIds||[]).indexOf(e.id)),n}}},w=y,x=(n("227d"),n("2877")),C=Object(x["a"])(w,r,o,!1,null,"d5d6970e",null);t["default"]=C.exports},"768b":function(e,t,n){"use strict";var r=n("a745"),o=n.n(r);function a(e){if(o()(e))return e}var i=n("5d73"),s=n.n(i);function u(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=s()(e);!(r=(i=u.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(c){o=!0,a=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw a}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){return a(e)||u(e,t)||c()}n.d(t,"a",function(){return l})},"77fc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:this.onSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入用户名搜索"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),n("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)],1)],1)],1)},o=[],a=(n("6b54"),n("a4bb")),i=n.n(a),s=n("5176"),u=n.n(s),c=n("ca00"),l=n("4ec3"),d={name:"JSearchUserByDep",components:{},data:function(){return{queryParam:{username:""},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"}],scrollTrigger:{},dataSource:[],selectedKeys:[],userNameArr:[],departName:"",userRolesMap:{},title:"",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectedRows:[],modalWidth:1250,departTree:[],visible:!1,form:this.$form.createForm(this)}},created:function(){this.resetScreenSize(),this.queryUserRoleMap()},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["y"])(n).then(function(e){e.success&&(t.dataSource=e.result.records,t.assignRoleName(t.dataSource),t.ipagination.total=e.result.total)})},queryUserRoleMap:function(){var e=this;Object(l["I"])().then(function(t){t.success&&(e.userRolesMap=t.result,e.loadData())})},resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.assignRoleName(this.dataSource),this.queryDepartTree(),this.form.resetFields()},getQueryParams:function(){var e=u()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;t.selectedRowKeys=[],t.userNameArr=[],t.queryParam={},t.selectedKeys=[],0!==e&&t.loadData()},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){for(var e=this,t=0,n=this.selectedRowKeys.length;t<n;t++)this.getUserNames(this.selectedRowKeys[t]);e.$emit("ok",e.userNameArr.join(",")),e.close()},getUserNames:function(e){for(var t=this.dataSource,n=0,r=t.length;n<r;n++)e===t[n].id&&this.userNameArr.push(t[n].realname)},onSelect:function(e){null!=e[0]&&(this.queryUserByDepId(e),this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},queryUserByDepId:function(e){var t=this;Object(l["G"])({id:e.toString()}).then(function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length,t.assignRoleName(t.dataSource))})},queryUserRole:function(e){var t=this.userRolesMap,n=[];for(var r in t)e===r&&n.push(t[r]);return n.join(",")},queryDepartTree:function(){var e=this;Object(l["z"])().then(function(t){t.success&&(e.departTree=t.result)})},assignRoleName:function(e){for(var t="",n="",r=0,o=e.length;r<o;r++)t=this.dataSource[r].id,n=this.queryUserRole(t),this.dataSource[r].roleName=n},modalFormOk:function(){this.loadData()}}},f=d,m=(n("12ce"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"595fef5c",null);t["default"]=p.exports},"79f4":function(e,t,n){"use strict";var r=n("b8fa"),o=n.n(r);o.a},"7a8a":function(e,t,n){},"7a9d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务类名"}},[n("a-input",{attrs:{placeholder:"请输入任务类名"},model:{value:e.queryParam.jobClassName,callback:function(t){e.$set(e.queryParam,"jobClassName",t)},expression:"queryParam.jobClassName"}})],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务状态"}},[n("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("全部")]),n("a-select-option",{attrs:{value:"0"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"-1"}},[e._v("停止")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"description",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[-1==r.status?n("a",{on:{click:function(t){return e.resumeJob(r)}}},[e._v("启动")]):e._e(),0==r.status?n("a",{on:{click:function(t){return e.pauseJob(r)}}},[e._v("停止")]):e._e(),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"customRenderStatus",fn:function(t,r){return[0==t?n("a-tag",{attrs:{color:"green"}},[e._v("已启动")]):e._e(),-1==t?n("a-tag",{attrs:{color:"orange"}},[e._v("已暂停")]):e._e()]}}])})],1),n("quartzJob-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("a4bb"),i=n.n(a),s=n("e814"),u=n.n(s),c=n("077e"),l=n("0fea"),d=n("b65a"),f=n("d579"),m={name:"QuartzJobList",mixins:[d["a"]],components:{QuartzJobModal:c["default"],JEllipsis:f["default"]},data:function(){return{description:"定时任务在线管理",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return u()(n)+1}},{title:"任务类名",align:"center",dataIndex:"jobClassName",sorter:!0},{title:"cron表达式",align:"center",dataIndex:"cronExpression"},{title:"参数",align:"center",dataIndex:"parameter"},{title:"描述",align:"center",width:300,dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"状态",align:"center",dataIndex:"status",scopedSlots:{customRender:"customRenderStatus"},filterMultiple:!1,filters:[{text:"已启动",value:"0"},{text:"已暂停",value:"-1"}]},{title:"操作",dataIndex:"action",align:"center",width:180,scopedSlots:{customRender:"action"}}],url:{list:"/sys/quartzJob/list",delete:"/sys/quartzJob/delete",deleteBatch:"/sys/quartzJob/deleteBatch",pause:"/sys/quartzJob/pause",resume:"/sys/quartzJob/resume",exportXlsUrl:"sys/quartzJob/exportXls",importExcelUrl:"sys/quartzJob/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTableChange:function(e,t,n){i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.filters.status=t.status[0],this.ipagination=e,this.loadData()},pauseJob:function(e){var t=this;this.$confirm({title:"确认暂停",content:"是否暂停选中任务?",onOk:function(){Object(l["g"])(t.url.pause,e).then(function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)})}})},resumeJob:function(e){var t=this;this.$confirm({title:"确认启动",content:"是否启动选中任务?",onOk:function(){Object(l["g"])(t.url.resume,e).then(function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)})}})}}},p=m,h=(n("182e"),n("2877")),g=Object(h["a"])(p,r,o,!1,null,"72c84772",null);t["default"]=g.exports},"7ae4":function(e,t,n){},"7c33":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleName",e.validatorRules.ruleName],expression:"['ruleName', validatorRules.ruleName]"}],attrs:{placeholder:"请输入规则名称"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showRuleColumn,expression:"showRuleColumn"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则字段"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleColumn",e.validatorRules.ruleColumn],expression:"['ruleColumn', validatorRules.ruleColumn]"}],attrs:{placeholder:"请输入规则字段"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"条件规则"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleConditions",e.validatorRules.ruleConditions],expression:"['ruleConditions', validatorRules.ruleConditions]"}],attrs:{placeholder:"请输入条件规则",triggerChange:!0,dictCode:"rule_conditions"},on:{change:e.handleChangeRuleCondition}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleValue",e.validatorRules.ruleValue],expression:"['ruleValue', validatorRules.ruleValue]"}],attrs:{placeholder:"请输入规则值"}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l={name:"PermissionDataRuleModal",data:function(){return{queryParam:{},title:"操作",visible:!1,model:{},ruleConditionList:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),permissionId:"",validatorRules:{ruleConditions:{rules:[{required:!0,message:"请选择条件!"}]},ruleName:{rules:[{required:!0,message:"请输入规则名称!"}]},ruleValue:{rules:[{required:!0,message:"请输入规则值!"}]},ruleColumn:{rules:[]}},url:{list:"/sys/dictItem/list",add:"/sys/permission/addPermissionRule",edit:"/sys/permission/editPermissionRule"},showRuleColumn:!0}},created:function(){},methods:{add:function(e){this.permissionId=e,this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),e.permissionId?this.model.permissionId=e.permissionId:this.model.permissionId=this.permissionId,this.visible=!0,this.initRuleCondition(),this.$nextTick(function(){t.form.setFieldsValue(c()(t.model,"ruleName","ruleColumn","ruleConditions","ruleValue"))})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},initRuleCondition:function(){this.model.ruleConditions&&"USE_SQL_RULES"==this.model.ruleConditions?this.showRuleColumn=!1:this.showRuleColumn=!0},handleChangeRuleCondition:function(e){"USE_SQL_RULES"==e?(this.form.setFieldsValue({ruleColumn:""}),this.showRuleColumn=!1):this.showRuleColumn=!0}}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,"79817b38",null);t["default"]=m.exports},"7c93":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"导入EXCEL",width:600,visible:e.visible,confirmLoading:e.uploading},on:{cancel:e.handleClose}},[n("a-upload",{attrs:{name:"file",multiple:!0,accept:".xls,.xlsx",fileList:e.fileList,remove:e.handleRemove,beforeUpload:e.beforeUpload}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n      选择导入文件\n    ")],1)],1),n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleClose}},[e._v("关闭")]),n("a-button",{attrs:{type:"primary",disabled:0===e.fileList.length,loading:e.uploading},on:{click:e.handleImport}},[e._v("\n      "+e._s(e.uploading?"上传中...":"开始上传")+"\n    ")])],1)],2)},o=[],a=(n("ac6a"),n("75fc")),i=n("0fea"),s={name:"JImportModal",props:{url:{type:String,default:"",required:!1}},data:function(){return{visible:!1,uploading:!1,fileList:[],uploadAction:""}},watch:{url:function(e){e&&(this.uploadAction=window._CONFIG["domianURL"]+e)}},created:function(){this.uploadAction=window._CONFIG["domianURL"]+this.url},methods:{handleClose:function(){this.visible=!1},show:function(){this.fileList=[],this.uploading=!1,this.visible=!0},handleRemove:function(e){var t=this.fileList.indexOf(e),n=this.fileList.slice();n.splice(t,1),this.fileList=n},beforeUpload:function(e){return this.fileList=Object(a["a"])(this.fileList).concat([e]),!1},handleImport:function(){var e=this,t=this.fileList,n=new FormData;t.forEach(function(e){n.append("files[]",e)}),this.uploading=!0,Object(i["g"])(this.uploadAction,n).then(function(t){e.uploading=!1,t.success?(e.$message.success(t.message),e.visible=!1,e.$emit("ok")):e.$message.warning(t.message)})}}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,"6f1e59ad",null);t["default"]=l.exports},"7ca6":function(e,t,n){},"7e79":function(e,t,n){!function(t,n){e.exports=n()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(0);n.n(r).a},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),i=null,s=0,u=[],c=n(5);function l(e,t){for(var n=0;n<e.length;n++){var o=e[n],a=r[o.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](o.parts[i]);for(;i<o.parts.length;i++)a.parts.push(g(o.parts[i],t))}else{var s=[];for(i=0;i<o.parts.length;i++)s.push(g(o.parts[i],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function p(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){return n.nc}();r&&(e.attrs.nonce=r)}return h(t,e.attrs),f(e,t),t}function h(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var u=s++;n=i||(i=p(t)),r=b.bind(null,n,u,!1),o=b.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",h(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return l(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var i=n[a];(s=r[i.id]).refs--,o.push(s)}for(e&&l(d(e,t),t),a=0;a<o.length;a++){var s;if(0===(s=o[a]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[n("div",{staticClass:"cropper-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[n("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]),e._v(" "),n("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[n("span",{staticClass:"cropper-view-box"},[n("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),n("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?n("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v("\n          "+e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height)+"\n        ")]):e._e(),e._v(" "),e.fixedBox?e._e():n("span",[n("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};r._withStripped=!0;var o={getData:function(e){return new Promise(function(t,n){var r={};(function(e){var t=null;return new Promise(function(n,r){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r),a=0;a<n;a++)o[a]=t.charCodeAt(a);return r}(e.src),n(t);else if(/^blob\:/i.test(e.src)){var o=new FileReader;o.onload=function(e){t=e.target.result,n(t)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,function(e){o.readAsArrayBuffer(e)})}else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=a.response,n(t),a=null},a.open("GET",e.src,!0),a.responseType="arraybuffer",a.send(null)}else r("img error")})})(e).then(function(e){r.arrayBuffer=e,r.orientation=function(e){var t,n,r,o,a,i,s,u,c,l=new DataView(e),d=l.byteLength;if(255===l.getUint8(0)&&216===l.getUint8(1))for(u=2;u<d;){if(255===l.getUint8(u)&&225===l.getUint8(u+1)){i=u;break}u++}if(i&&(n=i+10,"Exif"===function(e,t,n){var r,o="";for(r=t,n+=t;r<n;r++)o+=String.fromCharCode(e.getUint8(r));return o}(l,i+4,4)&&(a=l.getUint16(n),((o=18761===a)||19789===a)&&42===l.getUint16(n+2,o)&&(r=l.getUint32(n+4,o))>=8&&(s=n+r))),s)for(d=l.getUint16(s,o),c=0;c<d;c++)if(u=s+12*c+2,274===l.getUint16(u,o)){u+=8,t=l.getUint16(u,o);break}return t}(e),t(r)}).catch(function(e){n(e)})})}},a=o,i={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1;return t}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(e,t,n,r){var o=this,a=document.createElement("canvas"),i=a.getContext("2d");switch(i.save(),t){case 2:a.width=n,a.height=r,i.translate(n,0),i.scale(-1,1);break;case 3:a.width=n,a.height=r,i.translate(n/2,r/2),i.rotate(180*Math.PI/180),i.translate(-n/2,-r/2);break;case 4:a.width=n,a.height=r,i.translate(0,r),i.scale(1,-1);break;case 5:a.height=n,a.width=r,i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:a.width=r,a.height=n,i.translate(r/2,n/2),i.rotate(90*Math.PI/180),i.translate(-n/2,-r/2);break;case 7:a.height=n,a.width=r,i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:a.height=n,a.width=r,i.translate(r/2,n/2),i.rotate(-90*Math.PI/180),i.translate(-n/2,-r/2);break;default:a.width=n,a.height=r}i.drawImage(e,0,0,n,r),i.restore(),a.toBlob(function(e){var t=URL.createObjectURL(e);o.imgs=t},"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(""!==this.img){this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),!1;var n=t.width,r=t.height;a.getData(t).then(function(o){e.orientation=o.orientation||1;var a=e.maxImgSize;!e.orientation&&n<a&r<a?e.imgs=e.img:(n>a&&(r=r/n*a,n=a),r>a&&(n=n/r*a,r=a),e.checkOrientationImage(t,e.orientation,n,r))})},t.onerror=function(){e.$emit("imgLoad","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var n=new XMLHttpRequest;n.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},n.open("GET",this.img,!0),n.responseType="blob",n.send()}else t.src=this.img}},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var n=this.scale,r=this.touches[0].clientX,o=this.touches[0].clientY,a=e.touches[0].clientX,i=e.touches[0].clientY,s=this.touches[1].clientX,u=this.touches[1].clientY,c=e.touches[1].clientX,l=e.touches[1].clientY,d=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-u,2)),f=Math.sqrt(Math.pow(a-c,2)+Math.pow(i-l,2))-d,m=1,p=(m=(m=m/this.trueWidth>m/this.trueHeight?m/this.trueHeight:m/this.trueWidth)>.1?.1:m)*f;if(!this.touchNow){if(this.touchNow=!0,f>0?n+=Math.abs(p):f<0&&n>Math.abs(p)&&(n-=Math.abs(p)),this.touches=e.touches,setTimeout(function(){t.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var n,r,o=e.clientX?e.clientX:e.touches[0].clientX,a=e.clientY?e.clientY:e.touches[0].clientY;n=o-this.moveX,r=a-this.moveY,this.$nextTick(function(){if(t.centerBox){var e,o,a,i,s=t.getImgAxis(n,r,t.scale),u=t.getCropAxis(),c=t.trueHeight*t.scale,l=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(c-l)/2,o=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(l-c)/2,a=e-c+t.cropW,i=o-l+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,o=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,a=e-l+t.cropW,i=o-c+t.cropH}s.x1>=u.x1&&(n=e),s.y1>=u.y1&&(r=o),s.x2<=u.x2&&(n=a),s.y2<=u.y2&&(r=i)}t.x=n,t.y=r,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()})})},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var n=this.scale,r=e.deltaY||e.wheelDelta;r=navigator.userAgent.indexOf("Firefox")>0?30*r:r,this.isIE&&(r=-r);var o=this.coe,a=(o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)*r;a<0?n+=Math.abs(a):n>Math.abs(a)&&(n-=Math.abs(a));var i=a<0?"add":"reduce";if(i!==this.coeStatus&&(this.coeStatus=i,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(function(){t.scaling=!1,t.coe=t.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n},changeScale:function(e){var t=this.scale;e=e||1;var n=20;if((e*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(function(){var e=n-t.cropX,o=r-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var a=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];a+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=a,t.cropOffsertY=t.cropOffsertY}else o>0?(t.cropH=o+t.cropChangeY>t.h?t.h-t.cropChangeY:o,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(o)>t.h?t.cropChangeY:Math.abs(o),t.cropOffsertY=t.cropChangeY+o>0?t.cropChangeY+o:0)})},changeCropSize:function(e,t,n,r,o){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=o,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,o=this.w,a=this.h,i=0,s=0;if(this.centerBox){var u=this.getImgAxis(),c=u.x2,l=u.y2;i=u.x1>0?u.x1:0,s=u.y1>0?u.y1:0,o>c&&(o=c),a>l&&(a=l)}this.$nextTick(function(){var e=n-t.cropX,u=r-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=o-t.cropChangeX-e<=o-i?t.cropOldW-e:t.cropOldW+t.cropChangeX-i,t.cropOffsertX=o-t.cropChangeX-e<=o-i?t.cropChangeX+e:i):(t.cropW=Math.abs(e)+t.cropChangeX<=o?Math.abs(e)-t.cropOldW:o-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=o?t.cropOldW+e:o-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=o-t.cropChangeX+Math.abs(e+t.cropOldW)<=o-i?Math.abs(e+t.cropOldW):t.cropChangeX-i,t.cropOffsertX=o-t.cropChangeX+Math.abs(e+t.cropOldW)<=o-i?t.cropChangeX-Math.abs(e+t.cropOldW):i))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-u>0?(t.cropH=a-t.cropChangeY-u<=a-s?t.cropOldH-u:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=a-t.cropChangeY-u<=a-s?t.cropChangeY+u:s):(t.cropH=Math.abs(u)+t.cropChangeY<=a?Math.abs(u)-t.cropOldH:a-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+u>0?(t.cropH=t.cropOldH+u+t.cropOffsertY<=a?t.cropOldH+u:a-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=a-t.cropChangeY+Math.abs(u+t.cropOldH)<=a-s?Math.abs(u+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=a-t.cropChangeY+Math.abs(u+t.cropOldH)<=a-s?t.cropChangeY-Math.abs(u+t.cropOldH):s))),t.canChangeX&&t.fixed){var c=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];c+t.cropOffsertY>a?(t.cropH=a-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=c}if(t.canChangeY&&t.fixed){var l=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];l+t.cropOffsertX>o?(t.cropW=o-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=l}})},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,n,r=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;t=r-this.cropOffsertX,n=o-this.cropOffsertY,this.cropX=t,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var n=this,r=0,o=0;e&&(e.preventDefault(),r=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick(function(){var e,a,i=r-n.cropX,s=o-n.cropY;if(t&&(i=n.cropOffsertX,s=n.cropOffsertY),e=i<=0?0:i+n.cropW>n.w?n.w-n.cropW:i,a=s<=0?0:s+n.cropH>n.h?n.h-n.cropH:s,n.centerBox){var u=n.getImgAxis();e<=u.x1&&(e=u.x1),e+n.cropW>u.x2&&(e=u.x2-n.cropW),a<=u.y1&&(a=u.y1),a+n.cropH>u.y2&&(a=u.y2-n.cropH)}n.cropOffsertX=e,n.cropOffsertY=a,n.$emit("cropMoving",{moving:!0,axis:n.getCropAxis()})})},getImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r={x1:0,x2:0,y1:0,y2:0},o=this.trueWidth*n,a=this.trueHeight*n;switch(this.rotate){case 0:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=e+this.trueWidth*(1-n)/2+(o-a)/2,r.x2=r.x1+this.trueHeight*n,r.y1=t+this.trueHeight*(1-n)/2+(a-o)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,n=document.createElement("canvas"),r=new Image,o=this.rotate,a=this.trueWidth,i=this.trueHeight,s=this.cropOffsertX,u=this.cropOffsertY;function c(e,t){n.width=Math.round(e),n.height=Math.round(t)}r.onload=function(){if(0!==t.cropW){var l=n.getContext("2d"),d=1;t.high&!t.full&&(d=window.devicePixelRatio),1!==t.enlarge&!t.full&&(d=Math.abs(Number(t.enlarge)),console.log(d));var f=t.cropW*d,m=t.cropH*d,p=a*t.scale*d,h=i*t.scale*d,g=(t.x-s+t.trueWidth*(1-t.scale)/2)*d,v=(t.y-u+t.trueHeight*(1-t.scale)/2)*d;switch(c(f,m),l.save(),o){case 0:t.full?(c(f/t.scale,m/t.scale),l.drawImage(r,g/t.scale,v/t.scale,p/t.scale,h/t.scale)):l.drawImage(r,g,v,p,h);break;case 1:case-3:t.full?(c(f/t.scale,m/t.scale),g=g/t.scale+(p/t.scale-h/t.scale)/2,v=v/t.scale+(h/t.scale-p/t.scale)/2,l.rotate(90*o*Math.PI/180),l.drawImage(r,v,-g-h/t.scale,p/t.scale,h/t.scale)):(g+=(p-h)/2,v+=(h-p)/2,l.rotate(90*o*Math.PI/180),l.drawImage(r,v,-g-h,p,h));break;case 2:case-2:t.full?(c(f/t.scale,m/t.scale),l.rotate(90*o*Math.PI/180),g/=t.scale,v/=t.scale,l.drawImage(r,-g-p/t.scale,-v-h/t.scale,p/t.scale,h/t.scale)):(l.rotate(90*o*Math.PI/180),l.drawImage(r,-g-p,-v-h,p,h));break;case 3:case-1:t.full?(c(f/t.scale,m/t.scale),g=g/t.scale+(p/t.scale-h/t.scale)/2,v=v/t.scale+(h/t.scale-p/t.scale)/2,l.rotate(90*o*Math.PI/180),l.drawImage(r,-v-p/t.scale,g,p/t.scale,h/t.scale)):(g+=(p-h)/2,v+=(h-p)/2,l.rotate(90*o*Math.PI/180),l.drawImage(r,-v-p,g,p,h));break;default:t.full?(c(f/t.scale,m/t.scale),l.drawImage(r,g/t.scale,v/t.scale,p/t.scale,h/t.scale)):l.drawImage(r,g,v,p,h)}l.restore()}else{var b=a*t.scale,y=i*t.scale,w=n.getContext("2d");switch(w.save(),o){case 0:c(b,y),w.drawImage(r,0,0,b,y);break;case 1:case-3:c(y,b),w.rotate(90*o*Math.PI/180),w.drawImage(r,0,-y,b,y);break;case 2:case-2:c(b,y),w.rotate(90*o*Math.PI/180),w.drawImage(r,-b,-y,b,y);break;case 3:case-1:c(y,b),w.rotate(90*o*Math.PI/180),w.drawImage(r,-b,0,b,y);break;default:c(b,y),w.drawImage(r,0,0,b,y)}w.restore()}e(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked(function(n){e(n.toDataURL("image/"+t.outputType,t.outputSize))})},getCropBlob:function(e){var t=this;this.getCropChecked(function(n){n.toBlob(function(t){return e(t)},"image/"+t.outputType,t.outputSize)})},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout(function(){e.isCanShow=!0},16);var t=this.cropW,n=this.cropH,r=this.scale,o={};o.div={width:"".concat(t,"px"),height:"".concat(n,"px")};var a=(this.x-this.cropOffsertX)/r,i=(this.y-this.cropOffsertY)/r;o.w=t,o.h=n,o.url=this.imgs,o.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(r,")translate3d(").concat(a,"px, ").concat(i,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},o.html='\n      <div class="show-preview" style="width: '.concat(o.w,"px; height: ").concat(o.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(n,'px">\n          <img src=').concat(o.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(r,")translate3d(").concat(a,"px, ").concat(i,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",o)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick(function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("imgLoad","success"),setTimeout(function(){e.showPreview()},20)})},t.onerror=function(){e.$emit("imgLoad","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),n=this.mode.split(" ");switch(n[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var r=n[0];if(-1!==r.search("px")&&(r=r.replace("px",""),e=parseFloat(r)/this.trueWidth),-1!==r.search("%")&&(r=r.replace("%",""),e=parseFloat(r)/100*this.w/this.trueWidth),2===n.length&&"auto"===r){var o=n[1];-1!==o.search("px")&&(o=o.replace("px",""),e=(t=parseFloat(o))/this.trueHeight),-1!==o.search("%")&&(o=o.replace("%",""),e=(t=parseFloat(o)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){this.clearCrop(),this.cropping=!0;var n=this.w,r=this.h;if(this.centerBox){var o=this.trueWidth*this.scale,a=this.trueHeight*this.scale;n=o<n?o:n,r=a<r?a:r}var i=e||parseFloat(this.autoCropWidth),s=t||parseFloat(this.autoCropHeight);0!==i&&0!==s||(i=.8*n,s=.8*r),i=i>n?n:i,s=s>r?r:s,this.fixed&&(s=i/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(i=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(i,s)},changeCrop:function(e,t){var n=this;this.cropW=e,this.cropH=t,this.cropOffsertX=(this.w-e)/2,this.cropOffsertY=(this.h-t)/2,this.centerBox&&this.$nextTick(function(){n.moveCrop(null,!0)})},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(function(){e.checkedImg()})},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r=!0;if(this.centerBox){var o=this.getImgAxis(e,t,n),a=this.getCropAxis();o.x1>=a.x1&&(r=!1),o.x2<=a.x2&&(r=!1),o.y1>=a.y1&&(r=!1),o.y2<=a.y2&&(r=!1)}return r}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,r){for(var o=atob(this.toDataURL(n,r).split(",")[1]),a=o.length,i=new Uint8Array(a),s=0;s<a;s++)i[s]=o.charCodeAt(s);t(new Blob([i],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};n(1);var s=function(e,t,n,r,o,a,i,s){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=u):o&&(u=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}(i,r,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var u=s.exports;n.d(t,"VueCropper",function(){return u});var c=function(e){e.component("VueCropper",u)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),t.default={version:"0.4.8",install:c,VueCropper:u,vueCropper:u}}])})},8144:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemText",e.validatorRules.itemText],expression:"['itemText', validatorRules.itemText]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemValue",e.validatorRules.itemValue],expression:"['itemValue', validatorRules.itemValue]"}],attrs:{placeholder:"请输入数据值"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortOrder",{initialValue:1}],expression:"['sortOrder',{'initialValue':1}]"}],attrs:{min:1}}),e._v("\n        值越小越靠前，支持小数\n      ")],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否启用",hasFeedback:""}},[n("a-switch",{attrs:{checkedChildren:"启用",unCheckedChildren:"禁用"},on:{change:e.onChose},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("88bc"),u=n.n(s),c=n("4ec3"),l={name:"DictItemModal",data:function(){return{title:"操作",visible:!1,visibleCheck:!0,model:{},dictId:"",status:1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}}}},created:function(){},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.dictId,this.visibleCheck=1==e.status),this.form.resetFields(),this.model=i()({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(u()(t.model,"itemText","itemValue","description","sortOrder"))})},getDictItemList:function(){var e=this,t=this.getQueryParams();Object(c["getDictItemList"])(t).then(function(t){t.success&&(e.dataSource=t.result.records,console.log(e.dataSource),e.ipagination.total=t.result.total,e.loadrefresh=!1,e.loading=!1)})},onChose:function(e){e?(this.status=1,this.visibleCheck=!0):(this.status=0,this.visibleCheck=!1)},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o,a=i()(e.model,r);a.status=e.status,o=e.model.id?Object(c["p"])(a):Object(c["b"])(a),o.then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,null,null);t["default"]=m.exports},8191:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-bar",{attrs:{position:"x*y",color:"type",adjust:e.adjust}})],1)],1)},o=[],a=(n("c5f6"),n("7104")),i=[{type:"Jeecg","Jan.":18.9,"Feb.":28.8,"Mar.":39.3,"Apr.":81.4,May:47,"Jun.":20.3,"Jul.":24,"Aug.":35.6},{type:"Jeebt","Jan.":12.4,"Feb.":23.2,"Mar.":34.5,"Apr.":99.7,May:52.6,"Jun.":35.5,"Jul.":37.4,"Aug.":42.4}],s=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug."],u={name:"BarMultid",props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{data:"",adjust:[{type:"dodge",marginRatio:1/32}]}},watch:{dataSource:function(){this.drawChart()}},mounted:function(){this.drawChart()},methods:{drawChart:function(){var e=i;this.dataSource&&this.dataSource.length>0&&(e=this.dataSource);var t=(new a["DataSet"].View).source(e);t.transform({type:"fold",fields:this.fields&&0!=this.fields.length?this.fields:s,key:"x",value:"y"}),this.data=t.rows}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,"2fbabbbe",null);t["default"]=d.exports},"82ef":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-form-item",{attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-select",{attrs:{value:"1",placeholder:"ant-design@alipay.com"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("ant-design@alipay.com")])],1)],1),n("a-form-item",{attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input-group",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{compact:!0}},[n("a-select",{staticStyle:{width:"100px"},attrs:{defaultValue:"alipay"}},[n("a-select-option",{attrs:{value:"alipay"}},[e._v("支付宝")]),n("a-select-option",{attrs:{value:"wexinpay"}},[e._v("微信")])],1),n("a-input",{style:{width:"calc(100% - 100px)"},attrs:{value:"test@example.com"}})],1)],1),n("a-form-item",{attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{value:"Alex"}})],1),n("a-form-item",{attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{prefix:"￥",value:"5000"}})],1),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},o=[],a={name:"Step1",methods:{nextStep:function(){this.$emit("nextStep")}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"1745cd50",null);t["default"]=u.exports},"831f":function(e,t,n){},8343:function(e,t,n){"use strict";var r=n("af63"),o=n.n(r);o.a},"836c":function(e,t,n){"use strict";var r=n("92d2"),o=n.n(r);o.a},8428:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:!1,expandedRowKeys:e.expandedRowKeys,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange,expand:e.handleExpand},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}},{key:"expandedRowRender",fn:function(t){return n("a-table",{attrs:{columns:e.innerColumns,dataSource:e.innerData,size:"middle",bordered:"",rowKey:"id",pagination:!1,loading:e.loading}})}}])})],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("e814"),i=n.n(a),s=n("0fea"),u=n("dd9d"),c=n("b65a"),l={name:"TableDemo",mixins:[c["a"]],components:{JeecgOrderDMainModal:u["default"]},data:function(){return{innerColumns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"}],innerData:[],expandedRowKeys:[],id:" ",description:"列表展开子表Demo",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch",customerListByMainId:"/test/order/listOrderCustomerByMainId"}}},computed:{currentId:function(){return this.id}},methods:{handleExpand:function(e,t){var n=this;this.expandedRowKeys=[],this.innerData=[],!0===e&&(this.loading=!0,this.expandedRowKeys.push(t.id),Object(s["b"])(this.url.customerListByMainId,{mainId:t.id}).then(function(e){e.success&&(n.loading=!1,n.innerData=e.result)}))}}},d=l,f=(n("1dcc"),n("2877")),m=Object(f["a"])(d,r,o,!1,null,"0f6c0b6b",null);t["default"]=m.exports},8459:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:this.onSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:""},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"redo"},on:{click:e.searchReset}},[e._v("重置")]),n("a-table",{ref:"table",staticStyle:{"background-color":"white"},attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)],1)],1)],1)},o=[],a=(n("6b54"),n("a4bb")),i=n.n(a),s=n("5176"),u=n.n(s),c=n("ca00"),l=n("4ec3"),d={name:"SearchUserByDepModal",components:{},data:function(){return{queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"}],scrollTrigger:{},dataSource:[],selectedKeys:[],userNames:[],departName:"",userRolesMap:{},title:"",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectedRows:[],userData:[],modalWidth:1250,departTree:[],visible:!1,form:this.$form.createForm(this)}},created:function(){this.resetScreenSize()},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["y"])(n).then(function(e){e.success&&(t.dataSource=e.result.records,t.assignRoleName(t.dataSource),t.userData=e.result.records,t.ipagination.total=e.result.total)}),Object(l["I"])().then(function(e){e.success&&(t.userRolesMap=e.result)})},resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.assignRoleName(this.dataSource),this.queryDepartTree(),this.form.resetFields(),this.loadData(1)},getQueryParams:function(){var e=u()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&t.loadData(1),t.selectedRowKeys=[],t.userNames=[],t.queryParam={},t.selectedKeys=[],t.userNames=[]},close:function(){this.$emit("close"),this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){for(var e=this,t=0,n=this.selectedRowKeys.length;t<n;t++)this.getUserNames(this.selectedRowKeys[t]);e.$emit("ok",e.userNames.join(",")),e.close()},getUserNames:function(e){for(var t=this.dataSource,n=0,r=t.length;n<r;n++)e===t[n].id&&this.userNames.push(t[n].realname)},onSelect:function(e){null!=e[0]&&(this.queryUser(e),this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},queryUser:function(e){var t=this;Object(l["G"])({id:e.toString()}).then(function(e){e.success&&(t.ipagination.total=e.result.length,t.dataSource=e.result,t.assignRoleName(t.dataSource))})},queryUserRole:function(e){var t=this.userRolesMap,n=[];for(var r in t)e===r&&n.push(t[r]);return n.join(",")},queryDepartTree:function(){var e=this;Object(l["z"])().then(function(t){t.success&&(e.departTree=t.result)})},assignRoleName:function(e){for(var t="",n="",r=0,o=e.length;r<o;r++)t=this.dataSource[r].id,n=this.queryUserRole(t),this.dataSource[r].roleName=n},modalFormOk:function(){this.loadData()}}},f=d,m=(n("9759"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"1f07b87a",null);t["default"]=p.exports},"84ec":function(e,t,n){n("2401")},8500:function(e,t,n){"use strict";var r=n("bbd6"),o=n.n(r);o.a},8576:function(e,t,n){},"86a6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板标题"}},[n("a-input",{attrs:{disabled:""},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板内容"}},[n("a-textarea",{attrs:{disabled:"",autosize:{minRows:5,maxRows:8}},model:{value:e.templateContent,callback:function(t){e.templateContent=t},expression:"templateContent"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"测试数据"}},[n("a-textarea",{attrs:{placeholder:"请输入json格式测试数据",autosize:{minRows:5,maxRows:8}},model:{value:e.testData,callback:function(t){e.testData=t},expression:"testData"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息类型"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择消息类型",dictCode:"msgType"},model:{value:e.msgType,callback:function(t){e.msgType=t},expression:"msgType"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息接收方"}},[n("a-input",{attrs:{placeholder:"请输入消息接收方"},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1)],1)],1)],1)},o=[],a=n("0fea"),i={name:"SysMessageTestModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,url:{send:"/message/sysMessageTemplate/sendMsg"},templateName:"",templateContent:"",receiver:"",msgType:"",testData:"",sendParams:{}}},methods:{open:function(e){this.sendParams.templateCode=e.templateCode,this.templateName=e.templateName,this.templateContent=e.templateContent,this.testData=e.templateTestJson,this.visible=!0},close:function(){this.receiver="",this.msgType="",this.sendParams={},this.visible=!1},handleOk:function(){var e=this,t=this.url.send,n="post";this.sendParams.testData=this.testData,this.sendParams.receiver=this.receiver,this.sendParams.msgType=this.msgType,Object(a["f"])(t,this.sendParams,n).then(function(t){t.success?e.$message.success(t.message):e.$message.warning(t.message)}).finally(function(){e.confirmLoading=!1,e.close()})},handleCancel:function(){this.close()}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"0a67d4a2",null);t["default"]=c.exports},"88bc":function(e,t,n){(function(t){var n=1/0,r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",u="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,r=e?e.length:0,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}function m(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var p=Object.prototype,h=p.hasOwnProperty,g=p.toString,v=l.Symbol,b=p.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,w=Math.max;function x(e,t,n,r,o){var a=-1,i=e.length;n||(n=_),o||(o=[]);while(++a<i){var s=e[a];t>0&&n(s)?t>1?x(s,t-1,n,r,o):m(o,s):r||(o[o.length]=s)}return o}function C(e,t){return e=Object(e),S(e,t,function(t,n){return n in e})}function S(e,t,n){var r=-1,o=t.length,a={};while(++r<o){var i=t[r],s=e[i];n(s,i)&&(a[i]=s)}return a}function k(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var n=arguments,r=-1,o=w(n.length-t,0),a=Array(o);while(++r<o)a[r]=n[t+r];r=-1;var i=Array(t+1);while(++r<t)i[r]=n[r];return i[t]=a,d(e,this,i)}}function _(e){return E(e)||O(e)||!!(y&&e&&e[y])}function T(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function O(e){return R(e)&&h.call(e,"callee")&&(!b.call(e,"callee")||g.call(e)==o)}var E=Array.isArray;function D(e){return null!=e&&I(e.length)&&!N(e)}function R(e){return M(e)&&D(e)}function N(e){var t=A(e)?g.call(e):"";return t==a||t==i}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function M(e){return!!e&&"object"==typeof e}function B(e){return"symbol"==typeof e||M(e)&&g.call(e)==s}var L=k(function(e,t){return null==e?{}:C(e,f(x(t,1),T))});e.exports=L}).call(this,n("c8ba"))},"88bd":function(e,t,n){},"89b0":function(e,t,n){"use strict";var r=n("09c3"),o=n.n(r);o.a},"89ba":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esTitle",{}],expression:"['esTitle', {}]"}],attrs:{placeholder:"请输入消息标题"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送内容"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esContent",{}],expression:"['esContent', {}]"}],attrs:{placeholder:"请输入发送内容"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送所需参数"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esParam",{}],expression:"['esParam', {}]"}],attrs:{placeholder:"请输入发送所需参数Json格式"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"接收人"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esReceiver",{}],expression:"['esReceiver', {}]"}],attrs:{placeholder:"请输入接收人"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送方式"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["esType",{}],expression:"[ 'esType', {}]"}],attrs:{triggerChange:!0,dictCode:"msgType",placeholder:"请选择发送方式"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendTime",{}],expression:"[ 'esSendTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送状态"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendStatus",{}],expression:"[ 'esSendStatus', {}]"}],attrs:{triggerChange:!0,dictCode:"msgSendStatus",placeholder:"请选择发送状态"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送次数"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["esSendNum",{}],expression:"[ 'esSendNum', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发送失败原因"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["esResult",{}],expression:"['esResult', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{}],expression:"['remark', {}]"}]})],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableSubmit,expression:"!disableSubmit"}]},[n("a-button",{staticStyle:{"margin-right":".8rem"},on:{confirm:e.handleCancel}},[e._v("取消")]),n("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleOk}},[e._v("提交")])],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l=n("c1df"),d=n.n(l),f={name:"SysMessageModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/message/sysMessage/add",edit:"/message/sysMessage/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(c()(t.model,"esContent","esParam","esReceiver","esResult","esSendNum","esSendStatus","esTitle","esType","remark")),t.form.setFieldsValue({esSendTime:t.model.esSendTime?d()(t.model.esSendTime):null})})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);u.esSendTime=u.esSendTime?u.esSendTime.format("YYYY-MM-DD HH:mm:ss"):null,console.log(u),Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}},m=f,p=n("2877"),h=Object(p["a"])(m,r,o,!1,null,"a44470ea",null);t["default"]=h.exports},"8a45":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[e._v("客户名")]),n("a-col",{attrs:{span:5}},[e._v("性别")]),n("a-col",{attrs:{span:5}},[e._v("身份证号码")]),n("a-col",{attrs:{span:5}},[e._v("手机号")]),n("a-col",{attrs:{span:4}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderCustomerList,function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].name",{initialValue:t.name,rules:[{required:!0,message:"请输入用户名!"}]}],expression:"['jeecgOrderCustomerList['+index+'].name', {'initialValue':item.name,rules: [{ required: true, message: '请输入用户名!' }]}]"}],attrs:{placeholder:"客户名"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].sex",{initialValue:t.sex}],expression:"['jeecgOrderCustomerList['+index+'].sex', {'initialValue':item.sex}]"}],attrs:{placeholder:"性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].idcard",{initialValue:t.idcard,rules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"身份证号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].idcard', {'initialValue':item.idcard,rules: [{ pattern: '^\\\\d{6}(18|19|20)?\\\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\\\d|3[01])\\\\d{3}(\\\\d|[xX])$', message: '身份证号格式不对!' }]}]"}],attrs:{placeholder:"身份证号"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].telphone",{initialValue:t.telphone,rules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"手机号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].telphone', {'initialValue':item.telphone,rules: [{ pattern: '^1(3|4|5|7|8)\\\\d{9}$', message: '手机号格式不对!' }]}]"}],attrs:{placeholder:"手机号"}})],1)],1),n("a-col",{attrs:{span:4}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowCustom}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowCustom(r)}}})],1)],1)],1)})],2)]),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[e._v("航班号")]),n("a-col",{attrs:{span:6}},[e._v("航班时间")]),n("a-col",{attrs:{span:6}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderTicketList,function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].ticketCode",{initialValue:t.ticketCode,rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['jeecgOrderTicketList['+index+'].ticketCode', {'initialValue':item.ticketCode,rules: [{ required: true, message: '请输入航班号!' }]}]"}],attrs:{placeholder:"航班号"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].tickectDate",{initialValue:t.tickectDate}],expression:"['jeecgOrderTicketList['+index+'].tickectDate', {'initialValue':item.tickectDate}]"}],attrs:{placeholder:"航班时间","trigger-change":!0}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowTicket}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowTicket(r)}}})],1)],1)],1)})],2)])],1)],1)],1)],1)},o=[],a=n("cebc"),i=n("5176"),s=n.n(i),u=n("0fea"),c=n("2dab"),l=n("88bc"),d=n.n(l),f=n("c1df"),m=n.n(f),p={name:"JeecgOrderMainModal",components:{JDate:c["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;if(this.form.resetFields(),this.orderMainModel=s()({},e),this.orderMainModel.jeecgOrderCustomerList=[{}],this.orderMainModel.jeecgOrderTicketList=[{}],console.log(this.orderMainModel.id),this.orderMainModel.id){var n={id:this.orderMainModel.id};Object(u["b"])(this.url.orderCustomerList,n).then(function(e){e.success&&(t.orderMainModel.jeecgOrderCustomerList=e.result,t.$forceUpdate())}),Object(u["b"])(this.url.orderTicketList,n).then(function(e){e.success&&(t.orderMainModel.jeecgOrderTicketList=e.result,t.$forceUpdate())})}this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(d()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?m()(t.orderMainModel.orderDate):null})}),console.log(this.orderMainModel)},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",i="";e.orderMainModel.id?(o+=e.url.edit,i="put"):(o+=e.url.add,i="post");var c=s()(e.orderMainModel,r);c.orderDate=c.orderDate?c.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=Object(a["a"])({},c,{jeecgOrderCustomerList:c.jeecgOrderCustomerList,jeecgOrderTicketList:c.jeecgOrderTicketList});console.log(l),Object(u["f"])(o,l,i).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},addRowCustom:function(){this.orderMainModel.jeecgOrderCustomerList.push({}),this.$forceUpdate()},delRowCustom:function(e){console.log(e),this.orderMainModel.jeecgOrderCustomerList.splice(e,1),this.$forceUpdate()},addRowTicket:function(){this.orderMainModel.jeecgOrderTicketList.push({}),console.log(this.orderMainModel.jeecgOrderTicketList),this.$forceUpdate()},delRowTicket:function(e){console.log(e),this.orderMainModel.jeecgOrderTicketList.splice(e,1),this.$forceUpdate()}}},h=p,g=(n("6816"),n("2877")),v=Object(g["a"])(h,r,o,!1,null,"731c89df",null);t["default"]=v.exports},"8c22":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 2px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("JeecgOrderTicket-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("aa8e"),i=n("b65a"),s=n("0fea"),u={name:"JeecgOrderTicketList",mixins:[i["a"]],components:{JeecgOrderTicketModal:a["default"]},data:function(){return{description:"机票信息",columns:[{title:"航班号",align:"center",dataIndex:"ticketCode"},{title:"航班时间",align:"center",dataIndex:"tickectDate"},{title:"订单号码",align:"center",dataIndex:"orderId"},{title:"创建人",align:"center",dataIndex:"createBy"},{title:"创建时间",align:"center",dataIndex:"createTime",sorter:!0},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderTicketByMainId",delete:"/test/order/deleteTicket",deleteBatch:"/test/order/deleteBatchTicket"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(s["b"])(this.url.list,{mainId:n.mainId}).then(function(e){e.success?t.dataSource=e.result:t.dataSource=null})},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加机票信息"}}},c=u,l=(n("63c3"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"87faa3a4",null);t["default"]=d.exports},"8c6e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"5%","max-height":"95%"},attrs:{title:"高级查询构造器",width:800,visible:e.visible,confirmLoading:e.confirmLoading,mask:!1,wrapClassName:"ant-modal-cust-warp"},on:{cancel:e.handleCancel}},[n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleCancel}},[e._v("关 闭")]),n("a-button",{staticStyle:{float:"left"},on:{click:e.handleReset}},[e._v("重 置")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("查 询")])],1),n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("div",e._l(e.queryParamsModel,function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择查询字段"},on:{select:function(n,r){return e.handleSelected(r,t)}},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}},e._l(e.fieldList,function(t,r){return n("a-select-option",{key:"field"+r,attrs:{value:t.value,"data-type":t.type}},[e._v(e._s(t.text))])}),1)],1),n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择匹配规则"},model:{value:t.rule,callback:function(n){e.$set(t,"rule",n)},expression:"item.rule"}},[n("a-select-option",{attrs:{value:"eq"}},[e._v("等于")]),n("a-select-option",{attrs:{value:"ne"}},[e._v("不等于")]),n("a-select-option",{attrs:{value:"gt"}},[e._v("大于")]),n("a-select-option",{attrs:{value:"ge"}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"lt"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"le"}},[e._v("小于等于")]),n("a-select-option",{attrs:{value:"right_like"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"left_like"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"like"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"in"}},[e._v("在...中")])],1)],1),n("a-col",{attrs:{span:6}},["date"==t.type?n("j-date",{attrs:{placeholder:"请选择日期"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"datetime"==t.type?n("j-date",{attrs:{placeholder:"请选择时间","show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"int"==t.type||"number"==t.type?n("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入数值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],1),n("a-col",{attrs:{span:6}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \n            "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)}),1)])],1)],2)},o=[],a=n("da05"),i=n("2dab"),s={name:"JSuperQuery",components:{ACol:a["b"],JDate:i["default"]},data:function(){return{visible:!1,confirmLoading:!1,queryParamsModel:[{}]}},props:{fieldList:{type:Array,required:!0},callback:{type:String,required:!1,default:"handleSuperQuery"}},methods:{show:function(){this.queryParamsModel&&0!=this.queryParamsModel.length||(this.queryParamsModel=[{}]),this.visible=!0},handleOk:function(){console.log("---高级查询参数---\x3e",this.queryParamsModel),this.isNullArray()?this.$emit(this.callback):this.$emit(this.callback,this.queryParamsModel)},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},handleAdd:function(){this.queryParamsModel.push({})},handleDel:function(e){this.queryParamsModel.splice(e,1),this.$message.warning("请关闭后重新打开")},handleSelected:function(e,t){t["type"]=e.data.attrs["data-type"]},handleReset:function(){this.queryParamsModel=[{}],this.$emit(this.callback)},isNullArray:function(){if(!this.queryParamsModel||0==this.queryParamsModel.length)return!0;if(1==this.queryParamsModel.length){var e=this.queryParamsModel[0];if(!e.field||!e.val||!e.rule)return!0}return!1}}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=l.exports},"8cbe":function(e,t,n){"use strict";var r=n("a42a"),o=n.n(r);o.a},"8cdb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  404 page\n")])},o=[],a={name:"404"},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"5f82220d",null);t["default"]=u.exports},"8d90":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"修改头像",maskClosable:!1,confirmLoading:e.confirmLoading,width:800}},[n("a-row",[n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("template",{slot:"footer"},[n("a-button",{key:"back",on:{click:e.cancelHandel}},[e._v("取消")]),n("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.okHandel}},[e._v("保存")])],1)],2)},o=[],a=n("7e79"),i={components:{VueCropper:a["VueCropper"]},data:function(){return{visible:!1,id:null,confirmLoading:!1,options:{img:"/avatar2.jpg",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{edit:function(e){this.visible=!0,this.id=e},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout(function(){e.confirmLoading=!1,e.close(),e.$message.success("上传头像成功")},2e3)},realTime:function(e){this.previews=e}}},s=i,u=(n("89b0"),n("2877")),c=Object(u["a"])(s,r,o,!1,null,"17f9d473",null);t["default"]=c.exports},"8dd6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"[ 'task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"[\n            'task.executor',\n            {rules: [{ required: true, message: '请选择执行人'}]}\n          ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"[\n            'task.manager',\n            {rules: [{ required: true, message: '请选择责任人'}]}\n          ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"[\n            'task.time',\n            {rules: [{ required: true, message: '请选择提醒时间'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"[ 'task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},o=[],a={name:"TaskForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})})}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"74600c93",null);t["default"]=u.exports},"8f82":function(e,t,n){},9089:function(e,t,n){"use strict";var r=n("4f21"),o=n.n(r);o.a},"91a8":function(e,t,n){"use strict";var r=n("5a29"),o=n.n(r);o.a},"91b6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{class:{abcdefg:!0},attrs:{bordered:!1}},[n("div",{staticClass:"no-print",staticStyle:{"text-align":"right"}},[n("a-button",{directives:[{name:"print",rawName:"v-print",value:"#printContent",expression:"'#printContent'"}],attrs:{ghost:"",type:"primary"}},[e._v("打印")])],1),n("section",{ref:"print",staticClass:"abcdefg",attrs:{id:"printContent"}},[n("div",{staticStyle:{"text-align":"center"}},[n("p",{staticStyle:{"font-size":"24px","font-weight":"800"}},[e._v("打印测试表单")])]),n("a-col",{attrs:{md:24,sm:24}},[n("div",{staticClass:"sign",staticStyle:{"text-align":"left",height:"inherit"}},[n("a-col",{attrs:{span:24}},[n("span",[e._v("\n          打印人员:\n        ")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printer,callback:function(t){e.printer=t},expression:"printer"}}),n("span",{staticStyle:{"margin-left":"12.5%"}},[e._v("打印日期:")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printTime,callback:function(t){e.printTime=t},expression:"printTime"}})],1),n("a-col",{attrs:{span:24}}),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印内容:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printContent,callback:function(t){e.printContent=t},expression:"printContent"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印目的:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printReason,callback:function(t){e.printReason=t},expression:"printReason"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印图片:")]),n("br"),n("a-upload",{attrs:{action:"/jsonplaceholder.typicode.com/posts/",listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<3?n("div",[n("a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)])],1)])},o=[],a=n("da05"),i=n("290c"),s=n("261e"),u={components:{ATextarea:s["a"],ARow:i["a"],ACol:a["b"]},name:"Printgzsld",props:{reBizCode:{type:String,default:""}},data:function(){return{columns:[{}],labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:8}},printer:"张三",printTime:"2019-02-01 12:00:00",printContent:"打印内容就是,做一个打印测试",printReason:"做一个打印测试",previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"pic1.png",status:"done",url:"https://www.gizbot.com/img/2016/11/whatsapp-error-lead-image-08-1478607387.jpg"}],url:{loadApplicant:"/sps/register/loadApplicants",loadRegisterFiles:"/sps/register/getRegisterFilesConfig"}}},created:function(){this.getDate()},methods:{loadData:function(){},getDate:function(){},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleChange:function(e){var t=e.fileList;this.fileList=t}}},c=u,l=(n("41b7"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"a6fead70",null);t["default"]=d.exports},"91be":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},o=[],a={data:function(){return{data:[]}},methods:{}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"e454e91e",null);t["default"]=u.exports},"92d2":function(e,t,n){},"933d":function(e,t,n){"use strict";var r=n("0d3f"),o=n.n(r);o.a},"942d":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{width:null==e.width?"auto":e.width+"px"}},[n("v-chart",{attrs:{forceFit:null==e.width,height:e.height,data:e.data,padding:"0"}},[n("v-tooltip"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],a=(n("c5f6"),n("5a0c")),i=n.n(a),s=[],u=(new Date).getTime(),c=0;c<10;c++)s.push({x:i()(new Date(u+864e5*c)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var l=["x*y",function(e,t){return{name:e,value:t}}],d=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:30}],f={name:"MiniBar",props:{dataSource:{type:Array,default:function(){return[]}},width:{type:Number,default:null},height:{type:Number,default:200}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource},data:function(){return{tooltip:l,data:[],scale:d}}},m=f,p=(n("d259"),n("2877")),h=Object(p["a"])(m,r,o,!1,null,"977e29aa",null);t["default"]=h.exports},9434:function(e,t,n){n("e8b0")},"94ce":function(e,t){(function(){(function(e){"use strict";var t=function(e){var n=e,r=function(){return n},o=function(e){n=e},a=function(){return t(r())};return{get:r,set:o,clone:a}},n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e){return function(){return e}},a=function(e){return e};function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var s=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},u=function(e){return function(){throw new Error(e)}},c=function(e){return e()},l=o(!1),d=o(!0),f=l,m=d,p=function(){return h},h=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},a=function(){return null},i=function(){},s={fold:function(e,t){return e()},is:f,isSome:f,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a,getOrUndefined:i,or:n,orThunk:t,map:p,ap:p,each:r,bind:p,flatten:p,exists:f,forall:m,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(s),s}(),g=function(e){var t=function(){return e},n=function(){return a},r=function(t){return g(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(p,function(t){return g(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:h},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},v=function(e){return null===e||void 0===e?h:g(e)},b={some:g,none:p,from:v},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),w=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},x=function(e){return function(t){return w(t)===e}},C=x("string"),S=x("array"),k=x("boolean"),_=x("function"),T=x("number"),O=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return F(e,t)};return void 0===e?n:t}(),E=function(e,t){return O(e,t)>-1},D=function(e,t){return z(e,t).isSome()},R=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o,e)}return r},N=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},I=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},A=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];t(a,r,e)&&n.push(a)}return n},M=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],a=0,i=e.length;a<i;a++){var s=e[a],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},B=function(e,t,n){return I(e,function(e){n=t(n,e)}),n},L=function(e,t,n){return N(e,function(e){n=t(n,e)}),n},P=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return b.some(o)}return b.none()},z=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return b.some(n)}return b.none()},F=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},j=Array.prototype.push,H=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);j.apply(t,e[n])}return t},V=function(e,t){var n=R(e,t);return H(n)},$=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n,e))return!1}return!0},U=Array.prototype.slice,q=function(e){var t=U.call(e,0);return t.reverse(),t},W=function(e,t){var n=U.call(e,0);return n.sort(t),n},K=function(e){return 0===e.length?b.none():b.some(e[e.length-1])},Y=(_(Array.from)&&Array.from,Object.keys),X=Object.hasOwnProperty,G=function(e,t){for(var n=Y(e),r=0,o=n.length;r<o;r++){var a=n[r],i=e[a];t(i,a,e)}},J=function(e,t){return Q(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},Q=function(e,t){var n={};return G(e,function(r,o){var a=t(r,o,e);n[a.k]=a.v}),n},Z=function(e,t){return ee(e,t)?b.from(e[t]):b.none()},ee=function(e,t){return X.call(e,t)},te=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return N(e,function(e,n){r[e]=o(t[n])}),r}},ne=function(e){return e.slice(0).sort()},re=function(e,t){throw new Error("All required keys ("+ne(e).join(", ")+") were not specified. Specified keys were: "+ne(t).join(", ")+".")},oe=function(e){throw new Error("Unsupported keys for object: "+ne(e).join(", "))},ae=function(e,t){if(!S(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");N(t,function(t){if(!C(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},ie=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+ne(e).join(", ")+") were not.")},se=function(e){var t=ne(e),n=P(t,function(e,n){return n<t.length-1&&e===t[n+1]});n.each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},ue=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ae("required",e),ae("optional",t),se(n),function(r){var a=Y(r),i=$(e,function(e){return E(a,e)});i||re(e,a);var s=A(a,function(e){return!E(n,e)});s.length>0&&oe(s);var u={};return N(e,function(e){u[e]=o(r[e])}),N(t,function(e){u[e]=o(Object.prototype.hasOwnProperty.call(r,e)?b.some(r[e]):b.none())}),u}},ce=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE),le=e.Node.DOCUMENT_NODE,de=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),fe=e.Node.TEXT_NODE,me=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,function(e){var t=e.dom().nodeName;return t.toLowerCase()}),pe=function(e){return e.dom().nodeType},he=function(e){return function(t){return pe(t)===e}},ge=function(e){return pe(e)===ce||"#comment"===me(e)},ve=he(de),be=he(fe),ye=he(le),we=function(t,n,r){if(!(C(r)||k(r)||T(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},xe=function(e,t,n){we(e.dom(),t,n)},Ce=function(e,t){var n=e.dom();G(t,function(e,t){we(n,t,e)})},Se=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},ke=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},_e=function(e,t){e.dom().removeAttribute(t)},Te=function(e){return L(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Oe=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;var r=e.substr(n,n+t.length);return r===t},Ee=function(e,t){return-1!==e.indexOf(t)},De=function(e,t){return Oe(e,t,0)},Re=function(e,t){return Oe(e,t,e.length-t.length)},Ne=function(e){return e.replace(/^\s+|\s+$/g,"")},Ie=function(e){return void 0!==e.style},Ae=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Me=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Pe(o.childNodes[0])},Be=function(t,n){var r=n||e.document,o=r.createElement(t);return Pe(o)},Le=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Pe(o)},Pe=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},ze=function(e,t,n){var r=e.dom();return b.from(r.elementFromPoint(t,n)).map(Pe)},Fe={fromHtml:Me,fromTag:Be,fromText:Le,fromDom:Pe,fromPoint:ze},je=function(e){var t=be(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},He=Ae(function(){return Ve(Fe.fromDom(e.document))}),Ve=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Fe.fromDom(t)},$e=function(t,n,r){if(!C(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);Ie(t)&&t.style.setProperty(n,r)},Ue=function(e,t){Ie(e)&&e.style.removeProperty(t)},qe=function(e,t,n){var r=e.dom();$e(r,t,n)},We=function(e,t){var n=e.dom();G(t,function(e,t){$e(n,t,e)})},Ke=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),a=o.getPropertyValue(n),i=""!==a||je(t)?a:Ye(r,n);return null===i?void 0:i},Ye=function(e,t){return Ie(e)?e.style.getPropertyValue(t):""},Xe=function(e,t){var n=e.dom(),r=Ye(n,t);return b.from(r).filter(function(e){return e.length>0})},Ge=function(e,t){var n=e.dom();Ue(n,t),ke(e,"style")&&""===Ne(Se(e,"style"))&&_e(e,"style")},Je=function(e,t){var n=e.dom(),r=t.dom();Ie(n)&&Ie(r)&&(r.style.cssText=n.style.cssText)},Qe="undefined"!==typeof e.window?e.window:Function("return this;")(),Ze=function(e,t){for(var n=void 0!==t&&null!==t?t:Qe,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},et=function(e,t){var n=e.split(".");return Ze(n,t)},tt=function(e,t){return et(e,t)},nt=function(e,t){var n=tt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},rt={getOrDie:nt},ot=function(){var e=rt.getOrDie("Node");return e},at=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},it=function(e,t){return at(e,t,ot().DOCUMENT_POSITION_PRECEDING)},st=function(e,t){return at(e,t,ot().DOCUMENT_POSITION_CONTAINED_BY)},ut={documentPositionPreceding:it,documentPositionContainedBy:st},ct=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},lt=function(e,t){var n=ct(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return mt(r(1),r(2))},dt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ft():lt(e,n)},ft=function(){return mt(0,0)},mt=function(e,t){return{major:e,minor:t}},pt={nu:mt,detect:dt,unknown:ft},ht="Edge",gt="Chrome",vt="IE",bt="Opera",yt="Firefox",wt="Safari",xt=function(e,t){return function(){return t===e}},Ct=function(){return St({current:void 0,version:pt.unknown()})},St=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:xt(ht,t),isChrome:xt(gt,t),isIE:xt(vt,t),isOpera:xt(bt,t),isFirefox:xt(yt,t),isSafari:xt(wt,t)}},kt={unknown:Ct,nu:St,edge:o(ht),chrome:o(gt),ie:o(vt),opera:o(bt),firefox:o(yt),safari:o(wt)},_t="Windows",Tt="iOS",Ot="Android",Et="Linux",Dt="OSX",Rt="Solaris",Nt="FreeBSD",It=function(e,t){return function(){return t===e}},At=function(){return Mt({current:void 0,version:pt.unknown()})},Mt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:It(_t,t),isiOS:It(Tt,t),isAndroid:It(Ot,t),isOSX:It(Dt,t),isLinux:It(Et,t),isSolaris:It(Rt,t),isFreeBSD:It(Nt,t)}},Bt={unknown:At,nu:Mt,windows:o(_t),ios:o(Tt),android:o(Ot),linux:o(Et),osx:o(Dt),solaris:o(Rt),freebsd:o(Nt)},Lt=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,u=r||i||s&&!0===/mobile/i.test(n),c=e.isiOS()||e.isAndroid(),l=c&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:o(r),isiPhone:o(a),isTablet:o(u),isPhone:o(l),isTouch:o(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(d)}},Pt=function(e,t){var n=String(t).toLowerCase();return P(e,function(e){return e.search(n)})},zt=function(e,t){return Pt(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Ft=function(e,t){return Pt(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},jt={detectBrowser:zt,detectOs:Ft},Ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vt=function(e){return function(t){return Ee(t,e)}},$t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=Ee(e,"edge/")&&Ee(e,"chrome")&&Ee(e,"safari")&&Ee(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ht],search:function(e){return Ee(e,"chrome")&&!Ee(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ee(e,"msie")||Ee(e,"trident")}},{name:"Opera",versionRegexes:[Ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vt("firefox")},{name:"Safari",versionRegexes:[Ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ee(e,"safari")||Ee(e,"mobile/"))&&Ee(e,"applewebkit")}}],Ut=[{name:"Windows",search:Vt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ee(e,"iphone")||Ee(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Vt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vt("linux"),versionRegexes:[]},{name:"Solaris",search:Vt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vt("freebsd"),versionRegexes:[]}],qt={browsers:o($t),oses:o(Ut)},Wt=function(e){var t=qt.browsers(),n=qt.oses(),r=jt.detectBrowser(t,e).fold(kt.unknown,kt.nu),o=jt.detectOs(n,e).fold(Bt.unknown,Bt.nu),a=Lt(o,r,e);return{browser:r,os:o,deviceType:a}},Kt={detect:Wt},Yt=Ae(function(){var t=e.navigator.userAgent;return Kt.detect(t)}),Xt={detect:Yt},Gt=de,Jt=le,Qt=function(e,t){var n=e.dom();if(n.nodeType!==Gt)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Zt=function(e){return e.nodeType!==Gt&&e.nodeType!==Jt||0===e.childElementCount},en=function(t,n){var r=void 0===n?e.document:n.dom();return Zt(r)?[]:R(r.querySelectorAll(t),Fe.fromDom)},tn=function(t,n){var r=void 0===n?e.document:n.dom();return Zt(r)?b.none():b.from(r.querySelector(t)).map(Fe.fromDom)},nn=function(e,t){return e.dom()===t.dom()},rn=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},on=function(e,t){return ut.documentPositionContainedBy(e.dom(),t.dom())},an=Xt.detect().browser,sn=an.isIE()?on:rn,un=Qt,cn=function(e){return Fe.fromDom(e.dom().ownerDocument)},ln=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return Fe.fromDom(n)},dn=function(e){var t=e.dom();return b.from(t.parentNode).map(Fe.fromDom)},fn=function(e,t){var n=_(t)?t:o(!1),r=e.dom(),a=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,s=Fe.fromDom(i);if(a.push(s),!0===n(s))break;r=i}return a},mn=function(e){var t=e.dom();return b.from(t.previousSibling).map(Fe.fromDom)},pn=function(e){var t=e.dom();return b.from(t.nextSibling).map(Fe.fromDom)},hn=function(e){var t=e.dom();return R(t.childNodes,Fe.fromDom)},gn=function(e,t){var n=e.dom().childNodes;return b.from(n[t]).map(Fe.fromDom)},vn=function(e){return gn(e,0)},bn=(te("element","offset"),function(e,t){var n=dn(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),yn=function(e,t){var n=pn(e);n.fold(function(){var n=dn(e);n.each(function(e){xn(e,t)})},function(e){bn(e,t)})},wn=function(e,t){var n=vn(e);n.fold(function(){xn(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},xn=function(e,t){e.dom().appendChild(t.dom())},Cn=function(e,t){bn(e,t),xn(t,e)},Sn=function(e,t){N(t,function(t){bn(e,t)})},kn=function(e,t){N(t,function(n,r){var o=0===r?e:t[r-1];yn(o,n)})},_n=function(e,t){N(t,function(t){xn(e,t)})},Tn=function(e){e.dom().textContent="",N(hn(e),function(e){On(e)})},On=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},En=function(e){var t=hn(e);t.length>0&&Sn(e,t),On(e)},Dn=te("width","height"),Rn=te("rows","columns"),Nn=te("row","column"),In=te("x","y"),An=te("element","rowspan","colspan"),Mn=te("element","rowspan","colspan","isNew"),Bn=te("element","rowspan","colspan","row","column"),Ln=te("element","cells","section"),Pn=te("element","isNew"),zn=te("element","cells","section","isNew"),Fn=te("cells","section"),jn=te("details","section"),Hn=te("startRow","startCol","finishRow","finishCol"),Vn={dimensions:Dn,grid:Rn,address:Nn,coords:In,extended:Bn,detail:An,detailnew:Mn,rowdata:Ln,elementnew:Pn,rowdatanew:zn,rowcells:Fn,rowdetails:jn,bounds:Hn},$n=function(e,t,n){return A(fn(e,n),t)},Un=function(e,t){return A(hn(e),t)},qn=function(e,t){var n=[];return N(hn(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(qn(e,t))}),n},Wn=function(e,t,n){return $n(e,function(e){return Qt(e,t)},n)},Kn=function(e,t){return Un(e,function(e){return Qt(e,t)})},Yn=function(e,t){return en(t,e)};function Xn(e,t,n,r,o){return e(n,r)?b.some(n):_(o)&&o(n)?b.none():t(n,r,o)}var Gn=function(e,t,n){var r=e.dom(),a=_(n)?n:o(!1);while(r.parentNode){r=r.parentNode;var i=Fe.fromDom(r);if(t(i))return b.some(i);if(a(i))break}return b.none()},Jn=function(e,t,n){var r=function(e){return t(e)};return Xn(r,Gn,e,t,n)},Qn=function(e,t){var n=P(e.dom().childNodes,r(t,Fe.fromDom));return n.map(Fe.fromDom)},Zn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(Fe.fromDom(e.childNodes[r])))return b.some(Fe.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return b.none()};return n(e.dom())},er=function(e,t,n){return Gn(e,function(e){return Qt(e,t)},n)},tr=function(e,t){return Qn(e,function(e){return Qt(e,t)})},nr=function(e,t){return tn(t,e)},rr=function(e,t,n){return Xn(Qt,er,e,t,n)},or=function(e,t){return ar(e,t,o(!0))},ar=function(e,t,n){return V(hn(e),function(e){return Qt(e,t)?n(e)?[e]:[]:ar(e,t,n)})},ir={firstLayer:or,filterFirstLayer:ar},sr=function(e,t,n){var r=void 0!==n?n:o(!1);if(r(t))return b.none();if(E(e,me(t)))return b.some(t);var a=function(e){return Qt(e,"table")||r(e)};return er(t,e.join(","),a)},ur=function(e,t){return sr(["td","th"],e,t)},cr=function(e){return ir.firstLayer(e,"th,td")},lr=function(e,t){return sr(["caption","tr","tbody","tfoot","thead"],e,t)},dr=function(e,t){return dn(t).map(function(t){return Kn(t,e)})},fr=i(dr,"th,td"),mr=i(dr,"tr"),pr=function(e){return nr(e,"th,td")},hr=function(e,t){return rr(e,"table",t)},gr=function(e,t){return sr(["tr"],e,t)},vr=function(e){return ir.firstLayer(e,"tr")},br=function(e,t){return parseInt(Se(e,t),10)},yr=function(e,t,n){var r=br(e,t),o=br(e,n);return Vn.grid(r,o)},wr={cell:ur,firstCell:pr,cells:cr,neighbourCells:fr,table:hr,row:gr,rows:vr,notCell:lr,neighbourRows:mr,attr:br,grid:yr},xr=function(e){var t=wr.rows(e);return R(t,function(e){var t=e,n=dn(t),r=n.map(function(e){var t=me(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}).getOr("tbody"),o=R(wr.cells(e),function(e){var t=ke(e,"rowspan")?parseInt(Se(e,"rowspan"),10):1,n=ke(e,"colspan")?parseInt(Se(e,"colspan"),10):1;return Vn.detail(e,t,n)});return Vn.rowdata(t,o,r)})},Cr=function(e,t){return R(e,function(e){var n=R(wr.cells(e),function(e){var t=ke(e,"rowspan")?parseInt(Se(e,"rowspan"),10):1,n=ke(e,"colspan")?parseInt(Se(e,"colspan"),10):1;return Vn.detail(e,t,n)});return Vn.rowdata(e,n,t.section())})},Sr={fromTable:xr,fromPastedRows:Cr},kr=function(e,t){return e+","+t},_r=function(e,t,n){var r=e.access()[kr(t,n)];return void 0!==r?b.some(r):b.none()},Tr=function(e,t,n){var r=Or(e,function(e){return n(t,e.element())});return r.length>0?b.some(r[0]):b.none()},Or=function(e,t){var n=V(e.all(),function(e){return e.cells()});return A(n,t)},Er=function(e){var t={},n=[],r=e.length,a=0;N(e,function(e,r){var o=[];N(e.cells(),function(e,n){var i=0;while(void 0!==t[kr(r,i)])i++;for(var s=Vn.extended(e.element(),e.rowspan(),e.colspan(),r,i),u=0;u<e.colspan();u++)for(var c=0;c<e.rowspan();c++){var l=r+c,d=i+u,f=kr(l,d);t[f]=s,a=Math.max(a,d+1)}o.push(s)}),n.push(Vn.rowdata(e.element(),o,e.section()))});var i=Vn.grid(r,a);return{grid:o(i),access:o(t),all:o(n)}},Dr=function(e){var t=R(e.all(),function(e){return e.cells()});return H(t)},Rr={generate:Er,getAt:_r,findItem:Tr,filterItems:Or,justCells:Dr},Nr=te("minRow","minCol","maxRow","maxCol"),Ir=function(e,t){var n=e.grid().columns(),r=e.grid().rows(),o=r,a=n,i=0,s=0;return G(e.access(),function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,u=e.column(),c=u+e.colspan()-1;n<o?o=n:r>i&&(i=r),u<a?a=u:c>s&&(s=c)}}),Nr(o,a,i,s)},Ar=function(e,t,n){var r=e[n].element(),o=Fe.fromTag("td");xn(o,Fe.fromTag("br"));var a=t?xn:wn;a(r,o)},Mr=function(e,t,n,r){for(var o=t.grid().columns(),a=t.grid().rows(),i=0;i<a;i++)for(var s=!1,u=0;u<o;u++)if(!(i<n.minRow()||i>n.maxRow()||u<n.minCol()||u>n.maxCol())){var c=Rr.getAt(t,i,u).filter(r).isNone();c?Ar(e,s,i):s=!0}},Br=function(e,t){var n=A(ir.firstLayer(e,"tr"),function(e){return 0===e.dom().childElementCount});N(n,On),t.minCol()!==t.maxCol()&&t.minRow()!==t.maxRow()||N(ir.firstLayer(e,"th,td"),function(e){_e(e,"rowspan"),_e(e,"colspan")}),_e(e,"width"),_e(e,"height"),Ge(e,"width"),Ge(e,"height")},Lr=function(e,t){var n=function(e){return Qt(e.element(),t)},r=Sr.fromTable(e),o=Rr.generate(r),a=Ir(o,n),i="th:not("+t+"),td:not("+t+")",s=ir.filterFirstLayer(e,"th,td",function(e){return Qt(e,i)});return N(s,On),Mr(r,o,a,n),Br(e,a),e},Pr={extract:Lr};function zr(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return i(n).getOr("")},r=function(e){try{return o(e)}catch(t){return b.none()}},o=function(t){return e(t)?b.from(t.dom().nodeValue):b.none()},a=Xt.detect().browser,i=a.isIE()&&10===a.version.major?r:o,s=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:i,set:s}}var Fr=zr(be,"text"),jr=function(e){return Fr.get(e)},Hr=function(e){return Fr.getOption(e)},Vr=function(e,t){Fr.set(e,t)},$r=function(e){return"img"===me(e)?1:Hr(e).fold(function(){return hn(e).length},function(e){return e.length})},Ur=" ",qr=function(e){return Hr(e).filter(function(e){return 0!==e.trim().length||e.indexOf(Ur)>-1}).isSome()},Wr=["img","br"],Kr=function(e){var t=qr(e);return t||E(Wr,me(e))},Yr=function(e){return Zn(e,Kr)},Xr=function(e){return Gr(e,Kr)},Gr=function(e,t){var n=function(e){for(var r=hn(e),o=r.length-1;o>=0;o--){var a=r[o];if(t(a))return b.some(a);var i=n(a);if(i.isSome())return i}return b.none()};return n(e)},Jr=function(e,t){return Fe.fromDom(e.dom().cloneNode(t))},Qr=function(e){return Jr(e,!1)},Zr=function(e){return Jr(e,!0)},eo=function(e,t){var n=Fe.fromTag(t),r=Te(e);return Ce(n,r),n},to=function(e,t){var n=eo(e,t),r=hn(Zr(e));return _n(n,r),n},no=function(){var e=Fe.fromTag("td");return xn(e,Fe.fromTag("br")),e},ro=function(e,t,n){var r=to(e,t);return G(n,function(e,t){null===e?_e(r,t):xe(r,t,e)}),r},oo=function(e){return e},ao=function(e){return function(){return Fe.fromTag("tr",e.dom())}},io=function(e,t,n){var r=Yr(e);return r.map(function(r){var o=n.join(","),a=Wn(r,o,function(t){return nn(t,e)});return B(a,function(e,t){var n=Qr(t);return _e(n,"contenteditable"),xn(e,n),n},t)}).getOr(t)},so=function(e,t,n){var r=function(t){var r=cn(t.element()),o=Fe.fromTag(me(t.element()),r.dom()),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),i=a.length>0?io(t.element(),o,a):o;return xn(i,Fe.fromTag("br")),Je(t.element(),o),Ge(o,"height"),1!==t.colspan()&&Ge(t.element(),"width"),e(t.element(),o),o};return{row:ao(t),cell:r,replace:ro,gap:no}},uo=function(e){return{row:ao(e),cell:no,replace:oo,gap:no}},co={cellOperations:so,paste:uo},lo=function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,hn(Fe.fromDom(o))},fo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function mo(){var e=function(e){return Fe.fromDom(e.dom().cloneNode(!1))},t=function(e){return e.dom().ownerDocument},n=function(e){return!!ve(e)&&("body"===me(e)||E(fo,me(e)))},r=function(e){return!!ve(e)&&E(["br","img","hr","input"],me(e))},a=function(e,t){return e.dom().compareDocumentPosition(t.dom())},i=function(e,t){var n=Te(e);Ce(t,n)};return{up:o({selector:er,closest:rr,predicate:Gn,all:fn}),down:o({selector:Yn,predicate:qn}),styles:o({get:Ke,getRaw:Xe,set:qe,remove:Ge}),attrs:o({get:Se,set:xe,remove:_e,copyTo:i}),insert:o({before:bn,after:yn,afterAll:kn,append:xn,appendAll:_n,prepend:wn,wrap:Cn}),remove:o({unwrap:En,remove:On}),create:o({nu:Fe.fromTag,clone:e,text:Fe.fromText}),query:o({comparePosition:a,prevSibling:mn,nextSibling:pn}),property:o({children:hn,name:me,parent:dn,document:t,isText:be,isComment:ge,isElement:ve,getText:jr,setText:Vr,isBoundary:n,isEmptyTag:r}),eq:nn,is:un}}var po=te("left","right"),ho=function(e,t,n){var r=e.property().children(t),a=z(r,i(e.eq,n));return a.map(function(e){return{before:o(r.slice(0,e)),after:o(r.slice(e+1))}})},go=function(e,t,n){return ho(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),po(t,r)})},vo=function(e,t,n){return ho(e,t,n).map(function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),po(o,t)})},bo=function(e,t,n,r){var o=te("first","second","splits"),a=function(t,i,s){var u=o(t,b.none(),s);return n(t)?o(t,i,s):e.property().parent(t).bind(function(o){return r(e,o,t).map(function(e){var t=[{first:e.left,second:e.right}],r=n(o)?o:e.left();return a(r,b.some(e.right()),s.concat(t))}).getOr(u)})};return a(t,b.none(),[])},yo={breakToLeft:vo,breakToRight:go,breakPath:bo},wo=function(e,t,n,r){var o=n[0],a=n.slice(1);return r(e,t,o,a)},xo=function(e,t,n){return n.length>0?wo(e,t,n,Co):b.none()},Co=function(e,t,n,r){var o=t(e,n);return B(r,function(n,r){var o=t(e,r);return So(e,n,o)},o)},So=function(e,t,n){return t.bind(function(t){return n.filter(i(e.eq,t))})},ko={oneAll:xo},_o=function(e,t){return i(e.eq,t)},To=function(e,t,n,r){var o=e.property().children(t);if(e.eq(t,n[0]))return b.some([n[0]]);if(e.eq(t,r[0]))return b.some([r[0]]);var a=function(n){var r=q(n),a=z(r,_o(e,t)).getOr(-1),i=a<r.length-1?r[a+1]:r[a];return z(o,_o(e,i))},i=a(n),s=a(r);return i.bind(function(e){return s.map(function(t){var n=Math.min(e,t),r=Math.max(e,t);return o.slice(n,r+1)})})},Oo=function(e,t,n,r){var a=void 0!==r?r:o(!1),i=[t].concat(e.up().all(t)),s=[n].concat(e.up().all(n)),u=function(e){var t=z(e,a);return t.fold(function(){return e},function(t){return e.slice(0,t+1)})},c=u(i),l=u(s),d=P(c,function(t){return D(l,_o(e,t))});return{firstpath:o(c),secondpath:o(l),shared:o(d)}},Eo=function(e,t,n){var r=Oo(e,t,n);return r.shared().bind(function(t){return To(e,t,r.firstpath(),r.secondpath())})},Do={subset:Eo,ancestors:Oo},Ro=function(e,t,n){return ko.oneAll(e,t,n)},No=function(e,t,n){return Do.subset(e,t,n)},Io=function(e,t,n,r){return Do.ancestors(e,t,n,r)},Ao=function(e,t,n){return yo.breakToLeft(e,t,n)},Mo=function(e,t,n){return yo.breakToRight(e,t,n)},Bo=function(e,t,n,r){return yo.breakPath(e,t,n,r)},Lo={sharedOne:Ro,subset:No,ancestors:Io,breakToLeft:Ao,breakToRight:Mo,breakPath:Bo},Po=mo(),zo=function(e,t){return Lo.sharedOne(Po,function(t,n){return e(n)},t)},Fo=function(e,t){return Lo.subset(Po,e,t)},jo=function(e,t,n){return Lo.ancestors(Po,e,t,n)},Ho=function(e,t){return Lo.breakToLeft(Po,e,t)},Vo=function(e,t){return Lo.breakToRight(Po,e,t)},$o=function(e,t,n){return Lo.breakPath(Po,e,t,function(e,t,r){return n(t,r)})},Uo={sharedOne:zo,subset:Fo,ancestors:jo,breakToLeft:Ho,breakToRight:Vo,breakPath:$o},qo=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),a=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&a>=e.startRow()},Wo=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Ko=function(e,t){for(var n=!0,r=i(Wo,t),o=t.startRow();o<=t.finishRow();o++)for(var a=t.startCol();a<=t.finishCol();a++)n=n&&Rr.getAt(e,o,a).exists(r);return n?b.some(t):b.none()},Yo={inSelection:qo,isWithin:Wo,isRectangular:Ko},Xo=function(e,t){return Vn.bounds(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},Go=function(e,t,n){var r=Rr.findItem(e,t,nn),o=Rr.findItem(e,n,nn);return r.bind(function(e){return o.map(function(t){return Xo(e,t)})})},Jo=function(e,t,n){return Go(e,t,n).bind(function(t){return Yo.isRectangular(e,t)})},Qo={getAnyBox:Go,getBox:Jo},Zo=function(e,t,n,r){return Rr.findItem(e,t,nn).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),a=r>0?t.column()+t.colspan()-1:t.column(),i=Rr.getAt(e,o+n,a+r);return i.map(function(e){return e.element()})})},ea=function(e,t,n){return Qo.getAnyBox(e,t,n).map(function(t){var n=Rr.filterItems(e,i(Yo.inSelection,t));return R(n,function(e){return e.element()})})},ta=function(e,t){var n=function(e,t){return sn(t,e)};return Rr.findItem(e,t,n).bind(function(e){return e.element()})},na={moveBy:Zo,intercepts:ea,parentCell:ta},ra=function(e,t,n){return wr.table(e).bind(function(r){var o=sa(r);return na.moveBy(o,e,t,n)})},oa=function(e,t,n){var r=sa(e);return na.intercepts(r,t,n)},aa=function(e,t,n,r,o){var a=sa(e),i=nn(e,n)?t:na.parentCell(a,t),s=nn(e,o)?r:na.parentCell(a,r);return na.intercepts(a,i,s)},ia=function(e,t,n){var r=sa(e);return Qo.getBox(r,t,n)},sa=function(e){var t=Sr.fromTable(e);return Rr.generate(t)},ua={moveBy:ra,intercepts:oa,nestedIntercepts:aa,getBox:ia},ca=function(e,t){return er(e,"table")},la=ue(["boxes","start","finish"],[]),da=function(e,t,n){var r=function(e){return function(t){return n(t)||nn(t,e)}};return nn(e,t)?b.some(la({boxes:b.some([e]),start:e,finish:t})):ca(e,n).bind(function(o){return ca(t,n).bind(function(a){if(nn(o,a))return b.some(la({boxes:ua.intercepts(o,e,t),start:e,finish:t}));if(sn(o,a)){var i=Wn(t,"td,th",r(o)),s=i.length>0?i[i.length-1]:t;return b.some(la({boxes:ua.nestedIntercepts(o,e,o,t,a),start:e,finish:s}))}if(sn(a,o)){i=Wn(e,"td,th",r(a));var u=i.length>0?i[i.length-1]:e;return b.some(la({boxes:ua.nestedIntercepts(a,e,o,t,a),start:e,finish:u}))}return Uo.ancestors(e,t).shared().bind(function(i){return rr(i,"table",n).bind(function(n){var i=Wn(t,"td,th",r(n)),s=i.length>0?i[i.length-1]:t,u=Wn(e,"td,th",r(n)),c=u.length>0?u[u.length-1]:e;return b.some(la({boxes:ua.nestedIntercepts(n,e,o,t,a),start:c,finish:s}))})})})})},fa=function(e,t){var n=Yn(e,t);return n.length>0?b.some(n):b.none()},ma=function(e,t){return P(e,function(e){return Qt(e,t)})},pa=function(e,t,n){return nr(e,t).bind(function(t){return nr(e,n).bind(function(e){return Uo.sharedOne(ca,[t,e]).map(function(n){return{first:o(t),last:o(e),table:o(n)}})})})},ha=function(e,t){return er(e,"table").bind(function(n){return nr(n,t).bind(function(t){return da(t,e).bind(function(e){return e.boxes().map(function(t){return{boxes:o(t),start:o(e.start()),finish:o(e.finish())}})})})})},ga=function(e,t,n,r,o){return ma(e,o).bind(function(e){return ua.moveBy(e,t,n).bind(function(e){return ha(e,r)})})},va={identify:da,retrieve:fa,shiftSelection:ga,getEdges:pa},ba=function(e,t){return va.retrieve(e,t)},ya=function(e,t,n){return va.getEdges(e,t,n).bind(function(t){var n=function(t){return nn(e,t)},r=er(t.first(),"thead,tfoot,tbody,table",n),o=er(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return nn(e,n)?ua.getBox(t.table(),t.first(),t.last()):b.none()})})})},wa={retrieve:ba,retrieveBox:ya},xa="data-mce-selected",Ca="td["+xa+"],th["+xa+"]",Sa="["+xa+"]",ka="data-mce-first-selected",_a="td["+ka+"],th["+ka+"]",Ta="data-mce-last-selected",Oa="td["+Ta+"],th["+Ta+"]",Ea={selected:o(xa),selectedSelector:o(Ca),attributeSelector:o(Sa),firstSelected:o(ka),firstSelectedSelector:o(_a),lastSelected:o(Ta),lastSelectedSelector:o(Oa)},Da=function(t){if(!S(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return N(t,function(o,a){var i=Y(o);if(1!==i.length)throw new Error("one and only one name per case");var s=i[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!S(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),i=0;i<o.length;i++)o[i]=arguments[i];var c=function(e){var t=Y(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=$(n,function(e){return E(t,e)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[a];return e.apply(null,o)},match:c,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:o})}}}}),r},Ra={generate:Da},Na=Ra.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Ia=function(e,t,n,r){return e.fold(t,n,r)},Aa={cata:Ia,none:Na.none,multiple:Na.multiple,single:Na.single},Ma=function(e,t){return Aa.cata(t.get(),o([]),a,o([e]))},Ba=function(e,t){var n=function(e){return ke(e,"rowspan")&&parseInt(Se(e,"rowspan"),10)>1||ke(e,"colspan")&&parseInt(Se(e,"colspan"),10)>1},r=Ma(e,t);return r.length>0&&$(r,n)?b.some(r):b.none()},La=function(e,t){return Aa.cata(t.get(),b.none,function(t,n){return 0===t.length?b.none():wa.retrieveBox(e,Ea.firstSelectedSelector(),Ea.lastSelectedSelector()).bind(function(e){return t.length>1?b.some({bounds:o(e),cells:o(t)}):b.none()})},b.none)},Pa={mergable:La,unmergable:Ba,selection:Ma},za=function(e){return{element:o(e),mergable:b.none,unmergable:b.none,selection:o([e])}},Fa=function(e,t,n){return{element:o(n),mergable:o(Pa.mergable(t,e)),unmergable:o(Pa.unmergable(n,e)),selection:o(Pa.selection(n,e))}},ja=function(e){return za(e)},Ha=te("element","clipboard","generators"),Va=function(e,t,n,r,a){return{element:o(n),mergable:b.none,unmergable:b.none,selection:o(Pa.selection(n,e)),clipboard:o(r),generators:o(a)}},$a={noMenu:za,forMenu:Fa,notCell:ja,paste:Ha,pasteRows:Va},Ua=function(e){return wr.table(e[0]).map(Zr).map(function(e){return[Pr.extract(e,Ea.attributeSelector())]})},qa=function(e,t){return R(t,function(t){return e.selection.serializer.serialize(t.dom(),{})}).join("")},Wa=function(e){return R(e,function(e){return e.dom().innerText}).join("")},Ka=function(e,t,r,o){e.on("BeforeGetContent",function(r){var o=function(t){r.preventDefault(),Ua(t).each(function(t){r.content="text"===r.format?Wa(t):qa(e,t)})};!0===r.selection&&Aa.cata(t.get(),n,o,n)}),e.on("BeforeSetContent",function(t){if(!0===t.selection&&!0===t.paste){var n=b.from(e.dom.getParent(e.selection.getStart(),"th,td"));n.each(function(n){var a=Fe.fromDom(n);wr.table(a).each(function(n){var i=A(lo(t.content),function(e){return"meta"!==me(e)});if(1===i.length&&"table"===me(i[0])){t.preventDefault();var s=Fe.fromDom(e.getDoc()),u=co.paste(s),c=$a.paste(a,i[0],u);r.pasteCells(n,c).each(function(t){e.selection.setRng(t),e.focus(),o.clear(n)})}})})}})},Ya={registerEvents:Ka};function Xa(e,t){var n=function(t,n){if(!T(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Ie(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Ke(n,e);return parseFloat(o)||0}return r},o=r,a=function(e,t){return L(t,function(t,n){var r=Ke(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)},i=function(e,t,n){var r=a(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:a,max:i}}var Ga=Xa("height",function(e){var t=e.dom();return je(e)?t.getBoundingClientRect().height:t.offsetHeight}),Ja=function(e){return Ga.get(e)},Qa=function(e){return Ga.getOuter(e)},Za=Xa("width",function(e){return e.dom().offsetWidth}),ei=function(e){return Za.get(e)},ti=function(e){return Za.getOuter(e)},ni=Xt.detect(),ri=function(){return ni.browser.isIE()||ni.browser.isEdge()},oi=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},ai=function(e,t,n){return oi(Ke(e,t),n)},ii=function(e){var t=ai(e,"padding-top",0),n=ai(e,"padding-bottom",0),r=ai(e,"border-top-width",0),o=ai(e,"border-bottom-width",0),a=e.dom().getBoundingClientRect().height,i=Ke(e,"box-sizing"),s=r+o;return"border-box"===i?a:a-t-n-s},si=function(e){return ai(e,"width",ei(e))},ui=function(e){return ri()?ii(e):ai(e,"height",Ja(e))},ci={getWidth:si,getHeight:ui},li=/(\d+(\.\d+)?)(\w|%)*/,di=/(\d+(\.\d+)?)%/,fi=/(\d+(\.\d+)?)px|em/,mi=function(e,t){qe(e,"width",t+"px")},pi=function(e,t){qe(e,"width",t+"%")},hi=function(e,t){qe(e,"height",t+"px")},gi=function(e){return Xe(e,"height").getOrThunk(function(){return ci.getHeight(e)+"px"})},vi=function(e,t,n,r){var o=wr.table(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},bi=function(e,t,n,r){var o=parseInt(e,10);return Re(e,"%")&&"table"!==me(t)?vi(t,o,n,r):o},yi=function(e){var t=gi(e);return t?bi(t,e,Ja,hi):Ja(e)},wi=function(e,t,n){var r=n(e),o=xi(e,t);return r/o},xi=function(e,t){return ke(e,t)?parseInt(Se(e,t),10):1},Ci=function(e){var t=Xe(e,"width");return t.fold(function(){return b.from(Se(e,"width"))},function(e){return b.some(e)})},Si=function(e,t){return e/t.pixelWidth()*100},ki=function(e,t,n){if(di.test(t)){var r=di.exec(t);return parseFloat(r[1])}var o=ei(e);return Si(o,n)},_i=function(e,t){var n=Ci(e);return n.fold(function(){var n=ei(e);return Si(n,t)},function(n){return ki(e,n,t)})},Ti=function(e,t){return e/100*t.pixelWidth()},Oi=function(e,t,n){if(fi.test(t)){var r=fi.exec(t);return parseInt(r[1],10)}if(di.test(t)){var o=di.exec(t),a=parseFloat(o[1]);return Ti(a,n)}return ei(e)},Ei=function(e,t){var n=Ci(e);return n.fold(function(){return ei(e)},function(n){return Oi(e,n,t)})},Di=function(e){return wi(e,"rowspan",yi)},Ri=function(e){var t=Ci(e);return t.bind(function(e){if(li.test(e)){var t=li.exec(e);return b.some({width:o(t[1]),unit:o(t[3])})}return b.none()})},Ni=function(e,t,n){qe(e,"width",t+n)},Ii={percentageBasedSizeRegex:o(di),pixelBasedSizeRegex:o(fi),setPixelWidth:mi,setPercentageWidth:pi,setHeight:hi,getPixelWidth:Ei,getPercentageWidth:_i,getGenericWidth:Ri,setGenericWidth:Ni,getHeight:Di,getRawWidth:Ci},Ai=function(e,t){var n=Ii.getGenericWidth(e);n.each(function(n){var r=n.width()/2;Ii.setGenericWidth(e,r,n.unit()),Ii.setGenericWidth(t,r,n.unit())})},Mi={halve:Ai},Bi=function(t,n){var r=n||Fe.fromDom(e.document.documentElement);return Gn(t,i(nn,r)).isSome()},Li=function(t){var n=t.dom();return n===n.window&&t instanceof e.Window?t:ye(t)?n.defaultView||n.parentWindow:null},Pi=function(e,t){var n=function(n,r){return Pi(e+n,t+r)};return{left:o(e),top:o(t),translate:n}},zi=Pi,Fi=function(e){var t=e.getBoundingClientRect();return zi(t.left,t.top)},ji=function(e,t){return void 0!==e?e:void 0!==t?t:0},Hi=function(e){var t=e.dom().ownerDocument,n=t.body,r=Li(Fe.fromDom(t)),o=t.documentElement,a=ji(r.pageYOffset,o.scrollTop),i=ji(r.pageXOffset,o.scrollLeft),s=ji(o.clientTop,n.clientTop),u=ji(o.clientLeft,n.clientLeft);return Vi(e).translate(i-u,a-s)},Vi=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body,o=Fe.fromDom(n.documentElement);return r===t?zi(r.offsetLeft,r.offsetTop):Bi(e,o)?Fi(t):zi(0,0)},$i=te("row","y"),Ui=te("col","x"),qi=function(e){var t=Hi(e);return t.left()+ti(e)},Wi=function(e){return Hi(e).left()},Ki=function(e,t){return Ui(e,Wi(t))},Yi=function(e,t){return Ui(e,qi(t))},Xi=function(e){return Hi(e).top()},Gi=function(e,t){return $i(e,Xi(t))},Ji=function(e,t){return $i(e,Xi(t)+Qa(t))},Qi=function(e,t,n){if(0===n.length)return[];var r=R(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},Zi=function(e,t){return-e},es={delta:a,positions:i(Qi,Gi,Ji),edge:Xi},ts={delta:a,edge:Wi,positions:i(Qi,Ki,Yi)},ns={delta:Zi,edge:qi,positions:i(Qi,Yi,Ki)},rs={height:es,rtl:ns,ltr:ts},os={ltr:rs.ltr,rtl:rs.rtl};function as(e){var t=function(t){return e(t).isRtl()?os.rtl:os.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e)},o=function(e){return t(e).edge(e)};return{delta:n,edge:o,positions:r}}var is=function(e){var t=Sr.fromTable(e),n=Rr.generate(t);return n.grid()},ss={getGridSize:is},us=Object.prototype.hasOwnProperty,cs=function(e,t){return t},ls=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var a=t[o];for(var i in a)us.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},ds=ls(cs),fs=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},ms=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return b.none()},ps=function(e,t,n,r){n===r?_e(e,t):xe(e,t,n)},hs=function(e,t){var n=[],r=[],a=function(t,o){var a=tr(e,o).getOrThunk(function(){var t=Fe.fromTag(o,cn(e).dom());return xn(e,t),t});Tn(a);var i=R(t,function(e){e.isNew()&&n.push(e.element());var t=e.element();return Tn(t),N(e.cells(),function(e){e.isNew()&&r.push(e.element()),ps(e.element(),"colspan",e.colspan(),1),ps(e.element(),"rowspan",e.rowspan(),1),xn(t,e.element())}),t});_n(a,i)},i=function(t){tr(e,t).each(On)},s=function(e,t){e.length>0?a(e,t):i(t)},u=[],c=[],l=[];return N(t,function(e){switch(e.section()){case"thead":u.push(e);break;case"tbody":c.push(e);break;case"tfoot":l.push(e);break}}),s(u,"thead"),s(c,"tbody"),s(l,"tfoot"),{newRows:o(n),newCells:o(r)}},gs=function(e){var t=R(e,function(e){var t=Qr(e.element());return N(e.cells(),function(e){var n=Zr(e.element());ps(n,"colspan",e.colspan(),1),ps(n,"rowspan",e.rowspan(),1),xn(t,n)}),t});return t},vs={render:hs,copy:gs},bs=function(e,t){var n=Se(e,t);return void 0===n||""===n?[]:n.split(" ")},ys=function(e,t,n){var r=bs(e,t),o=r.concat([n]);return xe(e,t,o.join(" ")),!0},ws=function(e,t,n){var r=A(bs(e,t),function(e){return e!==n});return r.length>0?xe(e,t,r.join(" ")):_e(e,t),!1},xs=function(e){return void 0!==e.dom().classList},Cs=function(e){return bs(e,"class")},Ss=function(e,t){return ys(e,"class",t)},ks=function(e,t){return ws(e,"class",t)},_s=function(e,t){xs(e)?e.dom().classList.add(t):Ss(e,t)},Ts=function(e){var t=xs(e)?e.dom().classList:Cs(e);0===t.length&&_e(e,"class")},Os=function(e,t){if(xs(e)){var n=e.dom().classList;n.remove(t)}else ks(e,t);Ts(e)},Es=function(e,t){return xs(e)&&e.dom().classList.contains(t)},Ds=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Rs=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},Ns=function(e,t){var n=[];return N(e,function(r,o){o<e.length-1&&!t(r,e[o+1])?n.push(r):o===e.length-1&&n.push(r)}),n},Is=function(e,t){if(t<0||t>=e.length-1)return b.none();var n=e[t].fold(function(){var n=q(e.slice(0,t));return ms(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return b.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return ms(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return b.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},As={repeat:Ds,range:Rs,unique:Ns,deduce:Is},Ms=function(e){var t=e.grid(),n=As.range(0,t.columns()),r=As.range(0,t.rows());return R(n,function(t){var n=function(){return V(r,function(n){return Rr.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(o([]),function(e){return[e]})})},a=function(e){return 1===e.colspan()},i=function(){return Rr.getAt(e,0,t)};return Bs(n,a,i)})},Bs=function(e,t,n){var r=e(),o=P(r,t),a=o.orThunk(function(){return b.from(r[0]).orThunk(n)});return a.map(function(e){return e.element()})},Ls=function(e){var t=e.grid(),n=As.range(0,t.rows()),r=As.range(0,t.columns());return R(n,function(t){var n=function(){return V(r,function(n){return Rr.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(o([]),function(e){return[e]})})},a=function(e){return 1===e.rowspan()},i=function(){return Rr.getAt(e,t,0)};return Bs(n,a,i)})},Ps={columns:Ms,rows:Ls},zs=function(e){var t=e.replace(/\./g,"-"),n=function(e){return t+"-"+e};return{resolve:n}},Fs=zs("ephox-snooker"),js={resolve:Fs.resolve},Hs=function(e,t,n,r,o){var a=Fe.fromTag("div");return We(a,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Ce(a,{"data-column":e,role:"presentation"}),a},Vs=function(e,t,n,r,o){var a=Fe.fromTag("div");return We(a,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Ce(a,{"data-row":e,role:"presentation"}),a},$s={col:Hs,row:Vs},Us=js.resolve("resizer-bar"),qs=js.resolve("resizer-rows"),Ws=js.resolve("resizer-cols"),Ks=7,Ys=function(e){var t=Yn(e.parent(),"."+Us);N(t,On)},Xs=function(e,t,n){var r=e.origin();N(t,function(t,o){t.each(function(t){var o=n(r,t);_s(o,Us),xn(e.parent(),o)})})},Gs=function(e,t,n,r){Xs(e,t,function(e,t){var o=$s.col(t.col(),t.x()-e.left(),n.top()-e.top(),Ks,r);return _s(o,Ws),o})},Js=function(e,t,n,r){Xs(e,t,function(e,t){var o=$s.row(t.row(),n.left()-e.left(),t.y()-e.top(),r,Ks);return _s(o,qs),o})},Qs=function(e,t,n,r,o,a){var i=Hi(t),s=n.length>0?o.positions(n,t):[];Js(e,s,i,ti(t));var u=r.length>0?a.positions(r,t):[];Gs(e,u,i,Qa(t))},Zs=function(e,t,n,r){Ys(e);var o=Sr.fromTable(t),a=Rr.generate(o),i=Ps.rows(a),s=Ps.columns(a);Qs(e,t,i,s,n,r)},eu=function(e,t){var n=Yn(e.parent(),"."+Us);N(n,t)},tu=function(e){eu(e,function(e){qe(e,"display","none")})},nu=function(e){eu(e,function(e){qe(e,"display","block")})},ru=function(e){return Es(e,qs)},ou=function(e){return Es(e,Ws)},au={refresh:Zs,hide:tu,show:nu,destroy:Ys,isRowBar:ru,isColBar:ou},iu=function(e,t,n){var r=e.cells(),o=r.slice(0,t),a=r.slice(t),i=o.concat([n]).concat(a);return uu(e,i)},su=function(e,t,n){var r=e.cells();r[t]=n},uu=function(e,t){return Vn.rowcells(t,e.section())},cu=function(e,t){var n=e.cells(),r=R(n,t);return Vn.rowcells(r,e.section())},lu=function(e,t){return e.cells()[t]},du=function(e,t){return lu(e,t).element()},fu=function(e){return e.cells().length},mu={addCell:iu,setCells:uu,mutateCell:su,getCell:lu,getCellElement:du,mapCells:cu,cellLength:fu},pu=function(e,t){return R(e,function(e){return mu.getCell(e,t)})},hu=function(e,t){return e[t]},gu=function(e,t){if(0===e.length)return 0;var n=e[0],r=z(e,function(e){return!t(n.element(),e.element())});return r.fold(function(){return e.length},function(e){return e})},vu=function(e,t,n,r){var a=hu(e,t).cells().slice(n),i=gu(a,r),s=pu(e,n).slice(t),u=gu(s,r);return{colspan:o(i),rowspan:o(u)}},bu={subgrid:vu},yu=function(e,t){var n=R(e,function(e,t){return R(e.cells(),function(e,t){return!1})}),r=function(e,t,r,o){for(var a=e;a<e+r;a++)for(var i=t;i<t+o;i++)n[a][i]=!0};return R(e,function(o,a){var i=V(o.cells(),function(o,i){if(!1===n[a][i]){var s=bu.subgrid(e,a,i,t);return r(a,i,s.rowspan(),s.colspan()),[Vn.detailnew(o.element(),s.rowspan(),s.colspan(),o.isNew())]}return[]});return Vn.rowdetails(i,o.section())})},wu=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var a=[],i=0;i<e.grid().columns();i++){var s=Rr.getAt(e,o,i).map(function(e){return Vn.elementnew(e.element(),n)}).getOrThunk(function(){return Vn.elementnew(t.gap(),!0)});a.push(s)}var u=Vn.rowcells(a,e.all()[o].section());r.push(u)}return r},xu={toDetails:yu,toGrid:wu},Cu=function(e,t){return xu.toGrid(e,t,!1)},Su=function(e,t){var n=function(e){var n=ms(e,function(e){return dn(e.element()).map(function(e){var t=dn(e).isNone();return Vn.elementnew(e,t)})});return n.getOrThunk(function(){return Vn.elementnew(t.row(),!0)})};return R(e,function(e){var t=n(e.details());return Vn.rowdatanew(t.element(),e.details(),e.section(),t.isNew())})},ku=function(e,t){var n=xu.toDetails(e,nn);return Su(n,t)},_u=function(e,t){var n=H(R(e.all(),function(e){return e.cells()}));return P(n,function(e){return nn(t,e.element())})},Tu=function(e,t,n,r,a){return function(i,s,u,c,l){var d=Sr.fromTable(s),f=Rr.generate(d),m=t(f,u).map(function(t){var n=Cu(f,c),r=e(n,t,nn,a(c)),i=ku(r.grid(),c);return{grid:o(i),cursor:r.cursor}});return m.fold(function(){return b.none()},function(e){var t=vs.render(s,e.grid());return n(s,e.grid(),l),r(s),au.refresh(i,s,rs.height,l),b.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},Ou=function(e,t){return wr.cell(t.element()).bind(function(t){return _u(e,t)})},Eu=function(e,t){return wr.cell(t.element()).bind(function(n){return _u(e,n).map(function(e){return ds(e,{generators:t.generators,clipboard:t.clipboard})})})},Du=function(e,t){var n=R(t.selection(),function(t){return wr.cell(t).bind(function(t){return _u(e,t)})}),r=fs(n);return r.length>0?b.some(ds({cells:r},{generators:t.generators,clipboard:t.clipboard})):b.none()},Ru=function(e,t){return t.mergable()},Nu=function(e,t){return t.unmergable()},Iu=function(e,t){var n=R(t.selection(),function(t){return wr.cell(t).bind(function(t){return _u(e,t)})}),r=fs(n);return r.length>0?b.some(r):b.none()},Au={run:Tu,toDetailList:ku,onCell:Ou,onCells:Iu,onPaste:Eu,onPasteRows:Du,onMergable:Ru,onUnmergable:Nu},Mu=function(e){var t=function(t){return e===t},n=function(t){return Mu(e)},r=function(t){return Mu(e)},a=function(t){return Mu(t(e))},i=function(t){return Mu(e)},s=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},f=function(t){return t(e)},m=function(t){return t(e)},p=function(){return b.some(e)};return{is:t,isValue:d,isError:l,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:n,orThunk:r,fold:c,map:a,mapError:i,each:s,bind:u,exists:f,forall:m,toOption:p}},Bu=function(e){var t=function(e){return e()},r=function(){return u(String(e))()},o=function(e){return e},i=function(e){return e()},s=function(t){return Bu(e)},c=function(t){return Bu(t(e))},f=function(t){return Bu(e)},m=function(t,n){return t(e)};return{is:l,isValue:l,isError:d,getOr:a,getOrThunk:t,getOrDie:r,or:o,orThunk:i,fold:m,map:s,mapError:c,each:n,bind:f,exists:l,forall:d,toOption:b.none}},Lu={value:Mu,error:Bu},Pu=function(e,t,n){if(e.row()>=t.length||e.column()>mu.cellLength(t[0]))return Lu.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),a=r[0].cells().slice(e.column()),i=mu.cellLength(n[0]),s=n.length;return Lu.value({rowDelta:o(r.length-s),colDelta:o(a.length-i)})},zu=function(e,t){var n=mu.cellLength(e[0]),r=mu.cellLength(t[0]);return{rowDelta:o(0),colDelta:o(n-r)}},Fu=function(e,t){return R(e,function(){return Vn.elementnew(t.cell(),!0)})},ju=function(e,t,n){return e.concat(As.repeat(t,function(t){return mu.setCells(e[e.length-1],Fu(e[e.length-1].cells(),n))}))},Hu=function(e,t,n){return R(e,function(e){return mu.setCells(e,e.cells().concat(Fu(As.range(0,t),n)))})},Vu=function(e,t,n){var r=t.colDelta()<0?Hu:a,o=t.rowDelta()<0?ju:a,i=r(e,Math.abs(t.colDelta()),n),s=o(i,Math.abs(t.rowDelta()),n);return s},$u={measure:Pu,measureWidth:zu,tailor:Vu},Uu=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var a=t.startCol();a<=t.finishCol();a++)mu.mutateCell(e[o],a,Vn.elementnew(r(),!1));return e},qu=function(e,t,n,r){for(var o=!0,a=0;a<e.length;a++)for(var i=0;i<mu.cellLength(e[0]);i++){var s=mu.getCellElement(e[a],i),u=n(s,t);!0===u&&!1===o?mu.mutateCell(e[a],i,Vn.elementnew(r(),!0)):!0===u&&(o=!1)}return e},Wu=function(e,t){return L(e,function(e,n){return D(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},Ku=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),a=Wu(o,n);N(a,function(o){for(var a=b.none(),i=function(t){for(var i=function(i){var s=e[t].cells()[i],u=n(s.element(),o.element());u&&(a.isNone()&&(a=b.some(r())),a.each(function(n){mu.mutateCell(e[t],i,Vn.elementnew(n,!0))}))},s=0;s<mu.cellLength(e[0]);s++)i(s)},s=t;s<e.length;s++)i(s)})}return e},Yu={merge:Uu,unmerge:qu,splitRows:Ku},Xu=function(e,t,n,r){var o=mu.getCell(e[t],n),a=i(r,o.element()),s=e[t];return e.length>1&&mu.cellLength(s)>1&&(n>0&&a(mu.getCellElement(s,n-1))||n<s.length-1&&a(mu.getCellElement(s,n+1))||t>0&&a(mu.getCellElement(e[t-1],n))||t<e.length-1&&a(mu.getCellElement(e[t+1],n)))},Gu=function(e,t,n,r,o){for(var a=e.row(),i=e.column(),s=n.length,u=mu.cellLength(n[0]),c=a+s,l=i+u,d=a;d<c;d++)for(var f=i;f<l;f++){Xu(t,d,f,o)&&Yu.unmerge(t,mu.getCellElement(t[d],f),o,r.cell);var m=mu.getCellElement(n[d-a],f-i),p=r.replace(m);mu.mutateCell(t[d],f,Vn.elementnew(p,!0))}return t},Ju=function(e,t,n,r,o){var a=$u.measure(e,t,n);return a.map(function(a){var i=$u.tailor(t,a,r);return Gu(e,i,n,r,o)})},Qu=function(e,t,n,r,o){Yu.splitRows(t,e,o,r.cell);var a=$u.measureWidth(n,t),i=$u.tailor(n,a,r),s=$u.measureWidth(t,i),u=$u.tailor(t,s,r);return u.slice(0,e).concat(i).concat(u.slice(e,u.length))},Zu={merge:Ju,insert:Qu},ec=function(e,t,n,r,o){var a=e.slice(0,t),i=e.slice(t),s=mu.mapCells(e[n],function(n,a){var i=t>0&&t<e.length&&r(mu.getCellElement(e[t-1],a),mu.getCellElement(e[t],a)),s=i?mu.getCell(e[t],a):Vn.elementnew(o(n.element(),r),!0);return s});return a.concat([s]).concat(i)},tc=function(e,t,n,r,o){return R(e,function(e){var a=t>0&&t<mu.cellLength(e)&&r(mu.getCellElement(e,t-1),mu.getCellElement(e,t)),i=a?mu.getCell(e,t):Vn.elementnew(o(mu.getCellElement(e,n),r),!0);return mu.addCell(e,t,i)})},nc=function(e,t,n,r,o){var a=n+1;return R(e,function(e,i){var s=i===t,u=s?Vn.elementnew(o(mu.getCellElement(e,n),r),!0):mu.getCell(e,n);return mu.addCell(e,a,u)})},rc=function(e,t,n,r,o){var a=t+1,i=e.slice(0,a),s=e.slice(a),u=mu.mapCells(e[t],function(e,t){var a=t===n;return a?Vn.elementnew(o(e.element(),r),!0):e});return i.concat([u]).concat(s)},oc=function(e,t,n){var r=R(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return Vn.rowcells(r,e.section())});return A(r,function(e){return e.cells().length>0})},ac=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},ic={insertRowAt:ec,insertColumnAt:tc,splitCellIntoColumns:nc,splitCellIntoRows:rc,deleteRowsAt:ac,deleteColumnsAt:oc},sc=function(e){return e.dom().textContent},uc=function(e,t,n,r){var o=function(e){return D(t,function(t){return n(e.element(),t.element())})};return R(e,function(e){return mu.mapCells(e,function(e){return o(e)?Vn.elementnew(r(e.element(),n),!0):e})})},cc=function(e,t,n,r){return void 0!==mu.getCellElement(e[t],n)&&t>0&&r(mu.getCellElement(e[t-1],n),mu.getCellElement(e[t],n))},lc=function(e,t,n){return t>0&&n(mu.getCellElement(e,t-1),mu.getCellElement(e,t))},dc=function(e,t,n,r){var o=V(e,function(r,o){var a=cc(e,o,t,n)||lc(r,t,n);return a?[]:[mu.getCell(r,t)]});return uc(e,o,n,r)},fc=function(e,t,n,r){var o=e[t],a=V(o.cells(),function(r,a){var i=cc(e,t,a,n)||lc(o,a,n);return i?[]:[r]});return uc(e,a,n,r)},mc=function(e,t,n,r){var o=M(e,function(e){return me(mu.getCell(e,t).element())}),a=function(e){var o=R(e,function(e){var n=mu.getCell(e,t),r=sc(n.element());return{row:e,text:r}}),a=W(o,function(e,t){var o=n(e.text,t.text);return r?o:-1*o});return R(a,function(e){return e.row})};return V(o,function(e){return"th"===me(mu.getCell(e[0],t).element())?e:a(e)})},pc=function(e,t,n,r){var o=e[t].cells(),a=R(o,function(e){return sc(e.element())}),i=function(e){var t=R(e.cells(),function(e,t){return{cell:e,reference:o[t],referenceText:a[t]}});return{zippedCells:t,section:e.section()}},s=function(e){var t=M(e.zippedCells,function(e){return me(e.reference.element())}),o=V(t,function(e){return"th"===me(e[0].reference.element())?e:W(e,function(e,t){var o=n(e.referenceText,t.referenceText);return r?o:-1*o})}),a=R(o,function(e){return e.cell});return Vn.rowcells(a,e.section)},u=R(e,i),c=R(u,s);return c},hc={replaceColumn:dc,replaceRow:fc,sortTableRows:mc,sortTableColumns:pc},gc=function(){return xc(function(e,t,n,r,o){return e()})},vc=function(e){return xc(function(t,n,r,o,a){return n(e)})},bc=function(e,t){return xc(function(n,r,o,a,i){return o(e,t)})},yc=function(e,t,n){return xc(function(r,o,a,i,s){return i(e,t,n)})},wc=function(e,t){return xc(function(n,r,o,a,i){return i(e,t)})},xc=function(e){return{fold:e}},Cc={none:gc,only:vc,left:bc,middle:yc,right:wc},Sc=function(e,t){return 0===e.length?Cc.none():1===e.length?Cc.only(0):0===t?Cc.left(0,1):t===e.length-1?Cc.right(t-1,t):t>0&&t<e.length-1?Cc.middle(t-1,t,t+1):Cc.none()},kc=function(e,t,n,r){var a=e.slice(0),i=Sc(e,t),s=function(e){return R(e,o(0))},u=o(s(a)),c=function(e){return r.singleColumnWidth(a[e],n)},l=function(e,t){if(n>=0){var o=Math.max(r.minCellWidth(),a[t]-n);return s(a.slice(0,e)).concat([n,o-a[t]]).concat(s(a.slice(t+1)))}var i=Math.max(r.minCellWidth(),a[e]+n),u=a[e]-i;return s(a.slice(0,e)).concat([i-a[e],u]).concat(s(a.slice(t+1)))},d=l,f=function(e,t,n){return l(t,n)},m=function(e,t){if(n>=0)return s(a.slice(0,t)).concat([n]);var o=Math.max(r.minCellWidth(),a[t]+n);return s(a.slice(0,t)).concat([o-a[t]])};return i.fold(u,c,d,f,m)},_c={determine:kc},Tc=function(e,t){return ke(e,t)&&parseInt(Se(e,t),10)>1},Oc=function(e){return Tc(e,"colspan")},Ec=function(e){return Tc(e,"rowspan")},Dc=function(e,t){return parseInt(Ke(e,t),10)},Rc={hasColspan:Oc,hasRowspan:Ec,minWidth:o(10),minHeight:o(10),getInt:Dc},Nc=function(e,t,n){return Xe(e,t).fold(function(){return n(e)+"px"},function(e){return e})},Ic=function(e){return Nc(e,"width",Ii.getPixelWidth)},Ac=function(e){return Nc(e,"height",Ii.getHeight)},Mc=function(e,t,n,r,o){var a=Ps.columns(e),i=R(a,function(e){return e.map(t.edge)});return R(a,function(e,t){var a=e.filter(s(Rc.hasColspan));return a.fold(function(){var e=As.deduce(i,t);return r(e)},function(e){return n(e,o)})})},Bc=function(e){return e.map(function(e){return e+"px"}).getOr("")},Lc=function(e,t){return Mc(e,t,Ic,Bc)},Pc=function(e,t,n){return Mc(e,t,Ii.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},zc=function(e,t,n){return Mc(e,t,Ii.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},Fc=function(e,t,n,r){var o=Ps.rows(e),a=R(o,function(e){return e.map(t.edge)});return R(o,function(e,t){var o=e.filter(s(Rc.hasRowspan));return o.fold(function(){var e=As.deduce(a,t);return r(e)},function(e){return n(e)})})},jc=function(e,t){return Fc(e,t,Ii.getHeight,function(e){return e.getOrThunk(Rc.minHeight)})},Hc=function(e,t){return Fc(e,t,Ac,Bc)},Vc={getRawWidths:Lc,getPixelWidths:zc,getPercentageWidths:Pc,getPixelHeights:jc,getRawHeights:Hc},$c=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Uc=function(e,t){var n=Rr.justCells(e);return R(n,function(e){var n=$c(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:o(n),colspan:e.colspan}})},qc=function(e,t){var n=Rr.justCells(e);return R(n,function(e){var n=$c(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:o(n),rowspan:e.rowspan}})},Wc=function(e,t){return R(e.all(),function(e,n){return{element:e.element,height:o(t[n])}})},Kc={recalculateWidth:Uc,recalculateHeight:qc,matchRowHeight:Wc},Yc=function(e,t){var n=parseFloat(e),r=ei(t),a=function(e){return e/r*100},i=function(e,t){return[100-e]},s=function(){return Rc.minWidth()/r*100},u=function(e,t,r){var o=n+r;Ii.setPercentageWidth(e,o)};return{width:o(n),pixelWidth:o(r),getWidths:Vc.getPercentageWidths,getCellDelta:a,singleColumnWidth:i,minCellWidth:s,setElementWidth:Ii.setPercentageWidth,setTableWidth:u}},Xc=function(e){var t=parseInt(e,10),n=a,r=function(e,t){var n=Math.max(Rc.minWidth(),e+t);return[n-e]},i=function(e,t,n){var r=B(t,function(e,t){return e+t},0);Ii.setPixelWidth(e,r)};return{width:o(t),pixelWidth:o(t),getWidths:Vc.getPixelWidths,getCellDelta:n,singleColumnWidth:r,minCellWidth:Rc.minWidth,setElementWidth:Ii.setPixelWidth,setTableWidth:i}},Gc=function(e,t){if(Ii.percentageBasedSizeRegex().test(t)){var n=Ii.percentageBasedSizeRegex().exec(t);return Yc(n[1],e)}if(Ii.pixelBasedSizeRegex().test(t)){var r=Ii.pixelBasedSizeRegex().exec(t);return Xc(r[1])}var o=ei(e);return Xc(o)},Jc=function(e){var t=Ii.getRawWidth(e);return t.fold(function(){var t=ei(e);return Xc(t)},function(t){return Gc(e,t)})},Qc={getTableSize:Jc},Zc=function(e){return Rr.generate(e)},el=function(e){return B(e,function(e,t){return e+t},0)},tl=function(e){var t=Sr.fromTable(e);return Zc(t)},nl=function(e,t,n,r){var o=Qc.getTableSize(e),a=o.getCellDelta(t),i=tl(e),s=o.getWidths(i,r,o),u=_c.determine(s,n,a,o),c=R(u,function(e,t){return e+s[t]}),l=Kc.recalculateWidth(i,c);N(l,function(e){o.setElementWidth(e.element(),e.width())}),n===i.grid().columns()-1&&o.setTableWidth(e,c,a)},rl=function(e,t,n,r){var o=tl(e),a=Vc.getPixelHeights(o,r),i=R(a,function(e,r){return n===r?Math.max(t+e,Rc.minHeight()):e}),s=Kc.recalculateHeight(o,i),u=Kc.matchRowHeight(o,i);N(u,function(e){Ii.setHeight(e.element(),e.height())}),N(s,function(e){Ii.setHeight(e.element(),e.height())});var c=el(i);Ii.setHeight(e,c)},ol=function(e,t,n){var r=Qc.getTableSize(e),o=Zc(t),a=r.getWidths(o,n,r),i=Kc.recalculateWidth(o,a);N(i,function(e){r.setElementWidth(e.element(),e.width())});var s=B(a,function(e,t){return t+e},0);i.length>0&&r.setTableWidth(e,s)},al={adjustWidth:nl,adjustHeight:rl,adjustWidthTo:ol},il=function(e,t){return sl(e,t,{validate:_,label:"function"})},sl=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return ae("required",t),se(t),function(r){var o=Y(r),a=$(t,function(e){return E(o,e)});a||re(t,o),e(t,o);var i=A(t,function(e){return!n.validate(r[e],e)});return i.length>0&&ie(i,n.label),r}},ul=function(e,t){var n=A(t,function(t){return!E(e,t)});n.length>0&&oe(n)},cl=function(e){return il(ul,e)},ll=function(e){var t=ke(e,"colspan")?parseInt(Se(e,"colspan"),10):1,n=ke(e,"rowspan")?parseInt(Se(e,"rowspan"),10):1;return{element:o(e),colspan:o(t),rowspan:o(n)}},dl=function(e,n){pl(e);var r=t(b.none()),o=void 0!==n?n:ll,a=function(t){return e.cell(t)},i=function(e){var t=o(e);return a(t)},s=function(e){var t=i(e);return r.get().isNone()&&r.set(b.some(t)),u=b.some({item:e,replacement:t}),t},u=b.none(),c=function(e,t){return u.fold(function(){return s(e)},function(n){return t(e,n.item)?n.replacement:s(e)})};return{getOrInit:c,cursor:r.get}},fl=function(e,n){return function(r){var o=t(b.none());pl(r);var a=[],i=function(e,t){return P(a,function(n){return t(n.item,e)})},s=function(t){var i=r.replace(t,n,{scope:e});return a.push({item:t,sub:i}),o.get().isNone()&&o.set(b.some(i)),i},u=function(e,t){return i(e,t).fold(function(){return s(e)},function(n){return t(e,n.item)?n.sub:s(e)})};return{replaceOrInit:u,cursor:o.get}}},ml=function(e){pl(e);var n=t(b.none()),r=function(t){return n.get().isNone()&&n.set(b.some(t)),function(){var n=e.cell({element:o(t),colspan:o(1),rowspan:o(1)});return Ge(n,"width"),Ge(t,"width"),n}};return{combine:r,cursor:n.get}},pl=cl(["cell","row","replace","gap"]),hl={modification:dl,transform:fl,merging:ml},gl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vl=function(e,t){var n=e.property().name(t);return E(["ol","ul"],n)},bl=function(e,t){var n=e.property().name(t);return E(gl,n)},yl=function(e,t){var n=e.property().name(t);return E(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},wl=function(e,t){var n=e.property().name(t);return E(["h1","h2","h3","h4","h5","h6"],n)},xl=function(e,t){return E(["div","li","td","th","blockquote","body","caption"],e.property().name(t))},Cl=function(e,t){return E(["br","img","hr","input"],e.property().name(t))},Sl=function(e,t){return"iframe"===e.property().name(t)},kl=function(e,t){return!(bl(e,t)||Cl(e,t))&&"li"!==e.property().name(t)},_l={isBlock:bl,isList:vl,isFormatting:yl,isHeading:wl,isContainer:xl,isEmptyTag:Cl,isFrame:Sl,isInline:kl},Tl=mo(),Ol=function(e){return _l.isBlock(Tl,e)},El=function(e){return _l.isList(Tl,e)},Dl=function(e){return _l.isFormatting(Tl,e)},Rl=function(e){return _l.isHeading(Tl,e)},Nl=function(e){return _l.isContainer(Tl,e)},Il=function(e){return _l.isEmptyTag(Tl,e)},Al=function(e){return _l.isFrame(Tl,e)},Ml=function(e){return _l.isInline(Tl,e)},Bl={isBlock:Ol,isList:El,isFormatting:Dl,isHeading:Rl,isContainer:Nl,isEmptyTag:Il,isFrame:Al,isInline:Ml},Ll=function(e){var t=function(e){return"br"===me(e)},n=function(e){return $(e,function(e){return t(e)||be(e)&&0===jr(e).trim().length})},r=function(e){return"li"===me(e)||Gn(e,Bl.isList).isSome()},o=function(e){return pn(e).map(function(e){return!!Bl.isBlock(e)||(Bl.isEmptyTag(e)?"img"!==me(e):void 0)}).getOr(!1)},a=function(e){return Xr(e).bind(function(n){var a=o(n);return dn(n).map(function(o){return!0===a||r(o)||t(n)||Bl.isBlock(o)&&!nn(e,o)?[]:[Fe.fromTag("br")]})}).getOr([])},i=function(){var t=V(e,function(e){var t=hn(e);return n(t)?[]:t.concat(a(e))});return 0===t.length?[Fe.fromTag("br")]:t},s=i();Tn(e[0]),_n(e[0],s)},Pl={merge:Ll},zl=function(e){var t=wr.cells(e);0===t.length&&On(e)},Fl=te("grid","cursor"),jl=function(e,t,n){return Hl(e,t,n).orThunk(function(){return Hl(e,0,0)})},Hl=function(e,t,n){return b.from(e[t]).bind(function(e){return b.from(e.cells()[n]).bind(function(e){return b.from(e.element())})})},Vl=function(e,t,n){return Fl(e,Hl(e,t,n))},$l=function(e){return L(e,function(e,t){return D(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},Ul=function(e){return L(e,function(e,t){return D(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},ql=function(e,t,n,r){var o=t.row(),a=t.row(),i=ic.insertRowAt(e,a,o,n,r.getOrInit);return Vl(i,a,t.column())},Wl=function(e,t,n,r){var o=t[0].row(),a=t[0].row(),i=$l(t),s=L(i,function(e,t){return ic.insertRowAt(e,a,o,n,r.getOrInit)},e);return Vl(s,a,t[0].column())},Kl=function(e,t,n,r){var o=t.row(),a=t.row()+t.rowspan(),i=ic.insertRowAt(e,a,o,n,r.getOrInit);return Vl(i,a,t.column())},Yl=function(e,t,n,r){var o=$l(t),a=o[o.length-1].row(),i=o[o.length-1].row()+o[o.length-1].rowspan(),s=L(o,function(e,t){return ic.insertRowAt(e,i,a,n,r.getOrInit)},e);return Vl(s,i,t[0].column())},Xl=function(e,t,n,r){var o=t.column(),a=t.column(),i=ic.insertColumnAt(e,a,o,n,r.getOrInit);return Vl(i,t.row(),a)},Gl=function(e,t,n,r){var o=Ul(t),a=o[0].column(),i=o[0].column(),s=L(o,function(e,t){return ic.insertColumnAt(e,i,a,n,r.getOrInit)},e);return Vl(s,t[0].row(),i)},Jl=function(e,t,n,r){var o=t.column(),a=t.column()+t.colspan(),i=ic.insertColumnAt(e,a,o,n,r.getOrInit);return Vl(i,t.row(),a)},Ql=function(e,t,n,r){var o=t[t.length-1].column(),a=t[t.length-1].column()+t[t.length-1].colspan(),i=Ul(t),s=L(i,function(e,t){return ic.insertColumnAt(e,a,o,n,r.getOrInit)},e);return Vl(s,t[0].row(),a)},Zl=function(e,t,n,r){var o=hc.replaceRow(e,t.row(),n,r.replaceOrInit);return Vl(o,t.row(),t.column())},ed=function(e,t,n,r){var o=hc.replaceColumn(e,t.column(),n,r.replaceOrInit);return Vl(o,t.row(),t.column())},td=function(e,t,n,r){var o=hc.replaceRow(e,t.row(),n,r.replaceOrInit);return Vl(o,t.row(),t.column())},nd=function(e,t,n,r){var o=hc.replaceColumn(e,t.column(),n,r.replaceOrInit);return Vl(o,t.row(),t.column())},rd=function(e,t,n,r){var o=ic.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return Vl(o,t.row(),t.column())},od=function(e,t,n,r){var o=ic.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return Vl(o,t.row(),t.column())},ad=function(e,t,n,r){var o=Ul(t),a=ic.deleteColumnsAt(e,o[0].column(),o[o.length-1].column()),i=jl(a,t[0].row(),t[0].column());return Fl(a,i)},id=function(e,t,n,r){var o=$l(t),a=ic.deleteRowsAt(e,o[0].row(),o[o.length-1].row()),i=jl(a,t[0].row(),t[0].column());return Fl(a,i)},sd=function(e,t,n,r){var a=t.cells();Pl.merge(a);var i=Yu.merge(e,t.bounds(),n,o(a[0]));return Fl(i,b.from(a[0]))},ud=function(e,t,n,r){var o=B(t,function(e,t){return Yu.unmerge(e,t,n,r.combine(t))},e);return Fl(o,b.from(t[0]))},cd=function(e,t,n,r){var o=function(e,t){var n=Sr.fromTable(e),r=Rr.generate(n);return xu.toGrid(r,t,!0)},a=o(t.clipboard(),t.generators()),i=Vn.address(t.row(),t.column()),s=Zu.merge(i,e,a,t.generators(),n);return s.fold(function(){return Fl(e,b.some(t.element()))},function(e){var n=jl(e,t.row(),t.column());return Fl(e,n)})},ld=function(e,t,n){var r=Sr.fromPastedRows(e,n),o=Rr.generate(r);return xu.toGrid(o,t,!0)},dd=function(e,t,n,r){var o=e[t.cells[0].row()],a=t.cells[0].row(),i=ld(t.clipboard(),t.generators(),o),s=Zu.insert(a,e,i,t.generators(),n),u=jl(s,t.cells[0].row(),t.cells[0].column());return Fl(s,u)},fd=function(e,t,n,r){var o=e[t.cells[0].row()],a=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),i=ld(t.clipboard(),t.generators(),o),s=Zu.insert(a,e,i,t.generators(),n),u=jl(s,t.cells[0].row(),t.cells[0].column());return Fl(s,u)},md=function(e,t,n,r){var o=hc.sortTableRows(e,t.column(),n,r);return Vl(o,t.row(),t.column())},pd=function(e,t,n,r){var o=hc.sortTableColumns(e,t.row(),n,r);return Vl(o,t.row(),t.column())},hd=function(e){return function(t,r,o,a,i,s,u){var c=function(t,n,r,o){return e(t,n,s,u)},l=Au.run(c,Au.onCell,n,n,hl.modification);return l(t,r,o,a,i)}},gd=al.adjustWidthTo,vd={insertRowBefore:Au.run(ql,Au.onCell,n,n,hl.modification),insertRowsBefore:Au.run(Wl,Au.onCells,n,n,hl.modification),insertRowAfter:Au.run(Kl,Au.onCell,n,n,hl.modification),insertRowsAfter:Au.run(Yl,Au.onCells,n,n,hl.modification),insertColumnBefore:Au.run(Xl,Au.onCell,gd,n,hl.modification),insertColumnsBefore:Au.run(Gl,Au.onCells,gd,n,hl.modification),insertColumnAfter:Au.run(Jl,Au.onCell,gd,n,hl.modification),insertColumnsAfter:Au.run(Ql,Au.onCells,gd,n,hl.modification),splitCellIntoColumns:Au.run(rd,Au.onCell,gd,n,hl.modification),splitCellIntoRows:Au.run(od,Au.onCell,n,n,hl.modification),eraseColumns:Au.run(ad,Au.onCells,gd,zl,hl.modification),eraseRows:Au.run(id,Au.onCells,n,zl,hl.modification),makeColumnHeader:Au.run(ed,Au.onCell,n,n,hl.transform("row","th")),unmakeColumnHeader:Au.run(nd,Au.onCell,n,n,hl.transform(null,"td")),makeRowHeader:Au.run(Zl,Au.onCell,n,n,hl.transform("col","th")),unmakeRowHeader:Au.run(td,Au.onCell,n,n,hl.transform(null,"td")),mergeCells:Au.run(sd,Au.onMergable,n,n,hl.merging),unmergeCells:Au.run(ud,Au.onUnmergable,gd,n,hl.merging),pasteCells:Au.run(cd,Au.onPaste,gd,n,hl.modification),pasteRowsBefore:Au.run(dd,Au.onPasteRows,n,n,hl.modification),pasteRowsAfter:Au.run(fd,Au.onPasteRows,n,n,hl.modification),sortRows:hd(md),sortColumns:hd(pd)},bd=function(e){return Fe.fromDom(e.getBody())},yd=function(e){return e.getBoundingClientRect().width},wd=function(e){return e.getBoundingClientRect().height},xd=function(e){return function(t){return nn(t,bd(e))}},Cd=function(e){return e?e.replace(/px$/,""):""},Sd=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},kd=function(e){var t=Yn(e,"td[data-mce-style],th[data-mce-style]");_e(e,"data-mce-style"),N(t,function(e){_e(e,"data-mce-style")})},_d=function(e){return"rtl"===Ke(e,"direction")?"rtl":"ltr"},Td={isRtl:o(!1)},Od={isRtl:o(!0)},Ed=function(e){var t=_d(e);return"rtl"===t?Od:Td},Dd={directionAt:Ed},Rd="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Nd={"border-collapse":"collapse",width:"100%"},Id={border:"1"},Ad=function(e){return e.getParam("table_default_attributes",Id,"object")},Md=function(e){return e.getParam("table_default_styles",Nd,"object")},Bd=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Ld=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Pd=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},zd=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Fd=function(e){return e.getParam("table_advtab",!0,"boolean")},jd=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Hd=function(e){return e.getParam("table_grid",!0,"boolean")},Vd=function(e){return e.getParam("table_style_by_css",!1,"boolean")},$d=function(e){return e.getParam("table_cell_class_list",[],"array")},Ud=function(e){return e.getParam("table_row_class_list",[],"array")},qd=function(e){return e.getParam("table_class_list",[],"array")},Wd=function(e){return!1===e.getParam("table_responsive_width")},Kd=function(e){return e.getParam("table_toolbar",Rd)},Yd=function(e){var t=e.getParam("table_clone_elements");return C(t)?b.some(t.split(/[ ,]/)):Array.isArray(t)?b.some(t):b.none()},Xd=function(e){var t=e.getParam("object_resizing",!0);return"table"===t||t},Gd=function(e,t){return e.fire("newrow",{node:t})},Jd=function(e,t){return e.fire("newcell",{node:t})},Qd=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Zd=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},ef=function(e,t){var r=function(e){return"table"===me(bd(e))},o=function(t){var n=ss.getGridSize(t);return!1===r(e)||n.rows()>1},a=function(t){var n=ss.getGridSize(t);return!1===r(e)||n.columns()>1},i=Yd(e),s=function(t,n,r,o){return function(a,s){kd(a);var u=o(),c=Fe.fromDom(e.getDoc()),l=as(Dd.directionAt),d=co.cellOperations(r,c,i);return n(a)?t(u,a,s,d,l).bind(function(t){return N(t.newRows(),function(t){Gd(e,t.dom())}),N(t.newCells(),function(t){Jd(e,t.dom())}),t.cursor().map(function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n})}):b.none()}},u=s(vd.eraseRows,o,n,t),c=s(vd.eraseColumns,a,n,t),l=s(vd.insertRowsBefore,d,n,t),f=s(vd.insertRowsAfter,d,n,t),m=s(vd.insertColumnsBefore,d,Mi.halve,t),p=s(vd.insertColumnsAfter,d,Mi.halve,t),h=s(vd.mergeCells,d,n,t),g=s(vd.unmergeCells,d,n,t),v=s(vd.pasteRowsBefore,d,n,t),y=s(vd.pasteRowsAfter,d,n,t),w=s(vd.pasteCells,d,n,t);return{deleteRow:u,deleteColumn:c,insertRowsBefore:l,insertRowsAfter:f,insertColumnsBefore:m,insertColumnsAfter:p,mergeCells:h,unmergeCells:g,pasteRowsBefore:v,pasteRowsAfter:y,pasteCells:w}},tf=function(e,t,n){var r=Sr.fromTable(e),o=Rr.generate(r),a=Au.onCells(o,t);return a.map(function(e){var t=xu.toGrid(o,n,!1),r=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),a=Au.toDetailList(r,n);return vs.copy(a)})},nf={copyRows:tf},rf=tinymce.util.Tools.resolve("tinymce.util.Tools"),of=function(e,t,n){var r,o=e.select("td,th",t),a=function(t,r){for(var o=0;o<r.length;o++){var a=e.getStyle(r[o],n);if("undefined"===typeof t&&(t=a),t!==a)return""}return t};return r=a(r,o),r},af=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},sf=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},uf=function(e,t){rf.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},cf=function(e,t){rf.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},lf={applyAlign:af,applyVAlign:sf,unApplyAlign:uf,unApplyVAlign:cf,getTDTHOverallStyle:of},df=function(){return df=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},df.apply(this,arguments)},ff=function(e,t,n){var r=function(e,n){return n=n||[],rf.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)}),n};return r(e,n||[])},mf=function(e,t){var n=function(t){return De(t,"rgb")?e.toHex(t):t},r=Xe(Fe.fromDom(t),"border-style").getOr(""),o=Xe(Fe.fromDom(t),"border-color").map(n).getOr(""),a=Xe(Fe.fromDom(t),"background-color").map(n).getOr("");return{borderstyle:r,bordercolor:o,backgroundcolor:a}},pf=function(e){var t=e[0],n=e.slice(1),r=Y(t);return N(n,function(e){N(r,function(n){G(e,function(e,r,o){var a=t[n];""!==a&&n===r&&a!==e&&(t[n]="")})})}),t},hf=function(){var e=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",items:e}},gf=function(e,t,n,r,o){var a={};return rf.each(e.split(" "),function(e){r.formatter.matchNode(o,t+e)&&(a[n]=e)}),a[n]||(a[n]=""),a},vf=i(gf,"left center right"),bf=i(gf,"top middle bottom"),yf=function(e,t){var n=Md(e),r=Ad(e),o=function(e){var t=function(t){return De(t,"rgb")?e.toHex(t):t},r=Z(n,"border-style").getOr(""),o=Z(n,"border-color").getOr(""),a=Z(n,"background-color").getOr("");return{borderstyle:r,bordercolor:t(o),backgroundcolor:t(a)}},a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},i=function(){var t=n["border-width"];return Vd(e)&&t?{border:t}:Z(r,"border").fold(function(){return{}},function(e){return{border:e}})},s=e.dom,u=t?o(s):{},c=function(){var e=Z(n,"border-spacing").or(Z(r,"cellspacing")).fold(function(){return{}},function(e){return{cellspacing:e}}),t=Z(n,"border-padding").or(Z(r,"cellpadding")).fold(function(){return{}},function(e){return{cellpadding:e}});return df({},e,t)},l=df({},a,n,r,u,i(),c());return l},wf=function(e,t,n){var r=function(t,n){var r=Xe(Fe.fromDom(n),"border-width");return Vd(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||lf.getTDTHOverallStyle(e.dom,n,"border-width")||lf.getTDTHOverallStyle(e.dom,n,"border")},o=e.dom,a=df({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"),cellpadding:o.getAttrib(t,"cellpadding")||lf.getTDTHOverallStyle(e.dom,t,"padding"),border:r(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class","")},vf("align","align",e,t),n?mf(o,t):{});return a},xf=function(e,t,n){var r=e.dom,o=df({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),align:"",type:t.parentNode.nodeName.toLowerCase()},vf("align","align",e,t),n?mf(r,t):{});return o},Cf=function(e,t,n){var r=e.dom,o=df({width:r.getStyle(t,"width")||r.getAttrib(t,"width"),height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),celltype:t.nodeName.toLowerCase(),class:r.getAttrib(t,"class","")},vf("align","halign",e,t),bf("valign","valign",e,t),n?mf(r,t):{});return o},Sf={buildListItems:ff,extractAdvancedStyles:mf,getSharedValues:pf,getAdvancedTab:hf,extractDataFromTableElement:wf,extractDataFromRowElement:xf,extractDataFromCellElement:Cf,extractDataFromSettings:yf},kf=function(e){var t=$d(e),n=Sf.buildListItems(t,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})});return t.length>0?b.some({name:"class",type:"selectbox",label:"Class",items:n}):b.none()},_f=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Tf=function(e){return kf(e).fold(function(){return _f},function(e){return _f.concat(e)})},Of={items:Tf},Ef=function(e,t){var n=function(n,r){e.setAttrib(t,n,r)},r=function(n,r){e.setStyle(t,n,r)};return{setAttrib:n,setStyle:r}},Df=function(e,t){var n=function(n,r){r&&e.setAttrib(t,n,r)},r=function(n,r){r&&e.setStyle(t,n,r)};return{setAttrib:n,setStyle:r}},Rf={normal:Ef,ifTruthy:Df},Nf=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("width",Sd(t.width)),e.setStyle("height",Sd(t.height))},If=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},Af=function(e,t,n){var r=e.dom,o=n.celltype&&t[0].nodeName.toLowerCase()!==n.celltype?r.rename(t[0],n.celltype):t[0],a=Rf.normal(r,o);Nf(a,n),Pd(e)&&If(a,n),lf.unApplyAlign(e,o),lf.unApplyVAlign(e,o),n.halign&&lf.applyAlign(e,o,n.halign),n.valign&&lf.applyVAlign(e,o,n.valign)},Mf=function(e,t,n){var r=e.dom;rf.each(t,function(t){n.celltype&&t.nodeName.toLowerCase()!==n.celltype&&(t=r.rename(t,n.celltype));var o=Rf.ifTruthy(r,t);Nf(o,n),Pd(e)&&If(o,n),n.halign&&lf.applyAlign(e,t,n.halign),n.valign&&lf.applyVAlign(e,t,n.valign)})},Bf=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact(function(){var n=1===t.length?Af:Mf;n(e,t,r),e.focus()})},Lf=function(e){var t,n=[];if(n=e.dom.select("td[data-mce-selected],th[data-mce-selected]"),t=e.dom.getParent(e.selection.getStart(),"td,th"),!n.length&&t&&n.push(t),t=t||n[0],t){var r=rf.map(n,function(t){return Sf.extractDataFromCellElement(e,t,Pd(e))}),o=Sf.getSharedValues(r),a={type:"tabpanel",tabs:[{title:"General",items:Of.items(e)},Sf.getAdvancedTab()]},s={type:"panel",items:[{type:"grid",columns:2,items:Of.items(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Pd(e)?a:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:i(Bf,e,n)})}},Pf={open:Lf},zf=function(e){var t=Ud(e),n=Sf.buildListItems(t,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"tr",classes:[t.value]})})});return t.length>0?b.some({name:"class",type:"selectbox",label:"Class",items:n}):b.none()},Ff=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],jf=function(e){return zf(e).fold(function(){return Ff},function(e){return Ff.concat(e)})},Hf={items:jf},Vf=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,a=e.select(n,r)[0];a||(a=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(a,r.firstChild):r.insertBefore(a,r.firstChild):r.appendChild(a)),a.appendChild(t),o.hasChildNodes()||e.remove(o)},$f=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},Uf=function(e,t,n,r){var o=e.dom,a=r.getData();r.close();var i=1===t.length?Rf.normal:Rf.ifTruthy;e.undoManager.transact(function(){rf.each(t,function(t){a.type!==t.parentNode.nodeName.toLowerCase()&&Vf(e.dom,t,a.type);var r=i(o,t);r.setAttrib("scope",a.scope),r.setAttrib("class",a.class),r.setStyle("height",Sd(a.height)),zd(e)&&$f(r,a),a.align!==n.align&&(lf.unApplyAlign(e,t),lf.applyAlign(e,t,a.align))}),e.focus()})},qf=function(e){var t,n,r,o=e.dom,a=[];if(t=o.getParent(e.selection.getStart(),"table"),t&&(n=o.getParent(e.selection.getStart(),"td,th"),rf.each(t.rows,function(e){rf.each(e.cells,function(t){if((o.getAttrib(t,"data-mce-selected")||t===n)&&a.indexOf(e)<0)return a.push(e),!1})}),r=a[0],r)){var s=rf.map(a,function(t){return Sf.extractDataFromRowElement(e,t,zd(e))}),u=Sf.getSharedValues(s),c={type:"tabpanel",tabs:[{title:"General",items:Hf.items(e)},Sf.getAdvancedTab()]},l={type:"panel",items:[{type:"grid",columns:2,items:Hf.items(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:zd(e)?c:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onSubmit:i(Uf,e,a,u)})}},Wf={open:qf},Kf=tinymce.util.Tools.resolve("tinymce.Env"),Yf={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Xf=function(){return Fe.fromTag("table")},Gf=function(){return Fe.fromTag("tbody")},Jf=function(){return Fe.fromTag("tr")},Qf=function(){return Fe.fromTag("th")},Zf=function(){return Fe.fromTag("td")},em=function(e,t,n,r,o){void 0===o&&(o=Yf);var a=Xf();We(a,o.styles),Ce(a,o.attributes);var i=Gf();xn(a,i);for(var s=[],u=0;u<e;u++){for(var c=Jf(),l=0;l<t;l++){var d=u<n||l<r?Qf():Zf();l<r&&xe(d,"scope","row"),u<n&&xe(d,"scope","col"),xn(d,Fe.fromTag("br")),o.percentages&&qe(d,"width",100/t+"%"),xn(c,d)}s.push(c)}return _n(i,s),a},tm=function(e){return e.dom().innerHTML},nm=function(e){var t=Fe.fromTag("div"),n=Fe.fromDom(e.dom().cloneNode(!0));return xn(t,n),tm(t)},rm=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},om=function(e,t){nr(t,"td,th").each(i(rm,e))},am=function(e,t){N(Yn(t,"tr"),function(t){Gd(e,t.dom()),N(Yn(t,"th,td"),function(t){Jd(e,t.dom())})})},im=function(e){return C(e)&&-1!==e.indexOf("%")},sm=function(e,t,n){var r=Md(e),o={styles:r,attributes:Ad(e),percentages:im(r.width)&&!Wd(e)},a=em(n,t,0,0,o);xe(a,"data-mce-id","__mce");var i=nm(a);return e.insertContent(i),nr(bd(e),'table[data-mce-id="__mce"]').map(function(t){return Wd(e)&&qe(t,"width",Ke(t,"width")),_e(t,"data-mce-id"),am(e,t),om(e,t),t.dom()}).getOr(null)},um={insert:sm},cm=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)cm(e,t.children[o],n,r)},lm=function(e,t,n){var r=e.dom,o={},a={};if(o.class=n.class,a.height=Sd(n.height),r.getAttrib(t,"width")&&!Vd(e)?o.width=Cd(n.width):a.width=Sd(n.width),Vd(e)?(a["border-width"]=Sd(n.border),a["border-spacing"]=Sd(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),Vd(e)&&t.children)for(var i=0;i<t.children.length;i++)cm(r,t.children[i],{"border-width":Sd(n.border),padding:Sd(n.cellpadding)}),Fd(e)&&cm(r,t.children[i],{"border-color":n.bordercolor});Fd(e)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),o.style=r.serializeStyle(ds(Md(e),a)),r.setAttribs(t,ds(Ad(e),o))},dm=function(e,t,n){var r,o=e.dom,a=n.getData();n.close(),""===a.class&&delete a.class,e.undoManager.transact(function(){if(!t){var n=parseInt(a.cols,10)||1,i=parseInt(a.rows,10)||1;t=um.insert(e,n,i)}lm(e,t,a),r=o.select("caption",t)[0],r&&!a.caption&&o.remove(r),!r&&a.caption&&(r=o.create("caption"),r.innerHTML=Kf.ie?" ":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===a.align?lf.unApplyAlign(e,t):lf.applyAlign(e,t,a.align),e.focus(),e.addVisual()})},fm=function(e,t){var n,r=e.dom,o=Sf.extractDataFromSettings(e,Fd(e));!1===t?(n=r.getParent(e.selection.getStart(),"table"),n?o=Sf.extractDataFromTableElement(e,n,Fd(e)):Fd(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor="")):(o.cols="1",o.rows="1",Fd(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var a=qd(e).length>0;a&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var s=t?[{type:"input",name:"cols",label:"Cols"},{type:"input",name:"rows",label:"Rows"}]:[],u=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],c=jd(e)?[{type:"input",name:"cellspacing",label:"Cell spacing"},{type:"input",name:"cellpadding",label:"Cell padding"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],l=[{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],d=a?[{type:"selectbox",name:"class",label:"Class",items:Sf.buildListItems(qd(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({block:"table",classes:[t.value]})})})}]:[],f=s.concat(u).concat(c).concat(l).concat(d),m={type:"grid",columns:2,items:f},p={type:"panel",items:[m]},h={type:"tabpanel",tabs:[{title:"General",items:[m]},Sf.getAdvancedTab()]},g=Fd(e)?h:p;e.windowManager.open({title:"Table Properties",size:"normal",body:g,onSubmit:i(dm,e,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},mm={open:fm},pm=function(e){return function(t){return b.from(t.dom.getParent(t.selection.getStart(),e)).map(Fe.fromDom)}},hm=pm("th,td"),gm=pm("th,td,caption"),vm=rf.each,bm=function(e,t,r,o,a){var u=xd(e),c=function(){gm(e).each(function(t){var n=wr.table(t,u);n.filter(s(u)).each(function(t){var n=Fe.fromText("");if(yn(t,n),On(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{var r=e.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),e.selection.setRng(r),e.nodeChanged()}})})},l=function(e){return wr.table(e,u)},d=function(e){return{width:yd(e.dom()),height:yd(e.dom())}},f=function(e,t,n){var r=d(n);t.width===r.width&&t.height===r.height||(Qd(e,n.dom(),t.width,t.height),Zd(e,n.dom(),r.width,r.height))},m=function(t){hm(e).each(function(n){l(n).each(function(a){var i=$a.forMenu(o,a,n),s=d(a);t(a,i).each(function(t){f(e,s,a),e.selection.setRng(t),e.focus(),r.clear(a),kd(a)})})})},p=function(t){return hm(e).map(function(t){return l(t).bind(function(r){var a=Fe.fromDom(e.getDoc()),i=$a.forMenu(o,r,t),s=co.cellOperations(n,a,b.none());return nf.copyRows(r,i,s)})})},h=function(t){a.get().each(function(n){var a=R(n,function(e){return Zr(e)});hm(e).each(function(n){l(n).each(function(i){var s=Fe.fromDom(e.getDoc()),u=co.paste(s),c=$a.pasteRows(o,i,n,a,u);t(i,c).each(function(t){e.selection.setRng(t),e.focus(),r.clear(i)})})})})};vm({mceTableSplitCells:function(){m(t.unmergeCells)},mceTableMergeCells:function(){m(t.mergeCells)},mceTableInsertRowBefore:function(){m(t.insertRowsBefore)},mceTableInsertRowAfter:function(){m(t.insertRowsAfter)},mceTableInsertColBefore:function(){m(t.insertColumnsBefore)},mceTableInsertColAfter:function(){m(t.insertColumnsAfter)},mceTableDeleteCol:function(){m(t.deleteColumn)},mceTableDeleteRow:function(){m(t.deleteRow)},mceTableCutRow:function(e){p().each(function(e){a.set(e),m(t.deleteRow)})},mceTableCopyRow:function(e){p().each(function(e){a.set(e)})},mceTablePasteRowBefore:function(e){h(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){h(t.pasteRowsAfter)},mceTableDelete:c},function(t,n){e.addCommand(n,t)}),vm({mceInsertTable:i(mm.open,e,!0),mceTableProps:i(mm.open,e,!1),mceTableRowProps:i(Wf.open,e),mceTableCellProps:i(Pf.open,e)},function(t,n){e.addCommand(n,function(e,n){t(n)})})},ym={registerCommands:bm},wm=function(e){var t=b.from(e.dom().documentElement).map(Fe.fromDom).getOr(e);return{parent:o(t),view:o(e),origin:o(zi(0,0))}},xm=function(e,t){var n=i(Hi,t);return{parent:o(t),view:o(e),origin:n}},Cm=function(e,t){return{parent:o(t),view:o(e),origin:o(zi(0,0))}},Sm={only:wm,detached:xm,body:Cm};function km(e){var t=te.apply(null,e),n=[],r=function(e){if(void 0===e)throw"Event bind error: undefined handler";n.push(e)},o=function(e){n=A(n,function(t){return t!==e})},a=function(){var e=t.apply(null,arguments);N(n,function(t){t(e)})};return{bind:r,unbind:o,trigger:a}}var _m=function(e){var t=J(e,function(e){return{bind:e.bind,unbind:e.unbind}}),n=J(e,function(e){return e.trigger});return{registry:t,trigger:n}},Tm={create:_m},Om=cl(["compare","extract","mutate","sink"]),Em=cl(["element","start","stop","destroy"]),Dm=cl(["forceDrop","drop","move","delayDrop"]),Rm={mode:Om,sink:Em,api:Dm},Nm=zs("ephox-dragster"),Im={resolve:Nm.resolve};function Am(e){var t=ds({layerClass:Im.resolve("blocker")},e),n=Fe.fromTag("div");xe(n,"role","presentation"),We(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_s(n,Im.resolve("blocker")),_s(n,t.layerClass);var r=function(){return n},o=function(){On(n)};return{element:r,destroy:o}}var Mm=function(e,t,n,r,a,i,s){return{target:o(e),x:o(t),y:o(n),stop:r,prevent:a,kill:i,raw:o(s)}},Bm=function(e,t){return function(n){if(e(n)){var o=Fe.fromDom(n.target),a=function(){n.stopPropagation()},i=function(){n.preventDefault()},s=r(i,a),u=Mm(o,n.clientX,n.clientY,a,i,s,n);t(u)}}},Lm=function(e,t,n,r,o){var a=Bm(n,r);return e.dom().addEventListener(t,a,o),{unbind:i(zm,e,t,a,o)}},Pm=function(e,t,n,r){return Lm(e,t,n,r,!1)},zm=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Fm=o(!0),jm=function(e,t,n){return Pm(e,t,Fm,n)},Hm=function(e,t){return zi(t.left()-e.left(),t.top()-e.top())},Vm=function(e){return b.some(zi(e.x(),e.y()))},$m=function(e,t){e.mutate(t.left(),t.top())},Um=function(e,t){var n=Am(t),r=jm(n.element(),"mousedown",e.forceDrop),o=jm(n.element(),"mouseup",e.drop),a=jm(n.element(),"mousemove",e.move),i=jm(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),o.unbind(),a.unbind(),i.unbind(),r.unbind()},u=function(e){xn(e,n.element())},c=function(){On(n.element())};return Rm.sink({element:n.element,start:u,stop:c,destroy:s})},qm=Rm.mode({compare:Hm,extract:Vm,sink:Um,mutate:$m});function Wm(){var e=b.none(),t=function(){e=b.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=b.some(n),r},r=function(e,t){var r=t.extract(e);r.each(function(e){var r=n(t,e);r.each(function(e){o.trigger.move(e)})})},o=Tm.create({move:km(["info"])});return{onEvent:r,reset:t,events:o.registry}}function Km(e){var t=function(e,t){};return{onEvent:t,reset:n}}function Ym(){var e=Km(),t=Wm(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},a=function(e,t){n.onEvent(e,t)},i=function(){return n===t};return{on:r,off:o,isOn:i,onEvent:a,events:t.events}}var Xm=function(t,n){var r=null,o=function(){null!==r&&(e.clearTimeout(r),r=null)},a=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)};return{cancel:o,throttle:a}},Gm=function(e,t,n){var r=!1,o=Tm.create({start:km([]),stop:km([])}),a=Ym(),i=function(){m.stop(),a.isOn()&&(a.off(),o.trigger.stop())},s=Xm(i,200),u=function(e){m.start(e),a.on(),o.trigger.start()},c=function(e,n){s.cancel(),a.onEvent(e,t)};a.events.move.bind(function(n){t.mutate(e,n.info())});var l=function(){r=!0},d=function(){r=!1},f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);if(r)return e.apply(null,t)}},m=t.sink(Rm.api({forceDrop:i,drop:f(i),move:f(c),delayDrop:f(s.throttle)}),n),p=function(){m.destroy()};return{element:m.element,go:u,on:l,off:d,destroy:p,events:o.registry}},Jm={setup:Gm},Qm=function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:qm;return Jm.setup(e,r,t)},Zm={transform:Qm},ep=function(e,t,n){return rr(e,t,n).isSome()};function tp(){var e=Tm.create({drag:km(["xDelta","yDelta"])}),t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}}function np(){var e=Tm.create({drag:km(["xDelta","yDelta","target"])}),t=b.none(),n=tp();n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})});var r=function(e){t=b.some(e)},o=function(){return t};return{assign:r,get:o,mutate:n.mutate,events:e.registry}}var rp=js.resolve("resizer-bar-dragging");function op(e,t,n){var r=np(),o=Zm.transform(r,{}),a=b.none(),s=function(e,t){return b.from(Se(e,t))};r.events.drag.bind(function(e){s(e.target(),"data-row").each(function(t){var n=Rc.getInt(e.target(),"top");qe(e.target(),"top",n+e.yDelta()+"px")}),s(e.target(),"data-column").each(function(t){var n=Rc.getInt(e.target(),"left");qe(e.target(),"left",n+e.xDelta()+"px")})});var u=function(e,t){var n=Rc.getInt(e,t),r=parseInt(Se(e,"data-initial-"+t),10);return n-r};o.events.stop.bind(function(){r.get().each(function(r){a.each(function(o){s(r,"data-row").each(function(e){var t=u(r,"top");_e(r,"data-initial-top"),h.trigger.adjustHeight(o,t,parseInt(e,10))}),s(r,"data-column").each(function(e){var t=u(r,"left");_e(r,"data-initial-left"),h.trigger.adjustWidth(o,t,parseInt(e,10))}),au.refresh(e,o,n,t)})})});var c=function(t,n){h.trigger.startAdjust(),r.assign(t),xe(t,"data-initial-"+n,parseInt(Ke(t,n),10)),_s(t,rp),qe(t,"opacity","0.2"),o.go(e.parent())},l=jm(e.parent(),"mousedown",function(e){au.isRowBar(e.target())&&c(e.target(),"top"),au.isColBar(e.target())&&c(e.target(),"left")}),d=function(t){return nn(t,e.view())},f=jm(e.view(),"mouseover",function(r){"table"===me(r.target())||ep(r.target(),"table",d)?(a="table"===me(r.target())?b.some(r.target()):er(r.target(),"table",d),a.each(function(r){au.refresh(e,r,n,t)})):je(r.target())&&au.destroy(e)}),m=function(){l.unbind(),f.unbind(),o.destroy(),au.destroy(e)},p=function(r){au.refresh(e,r,n,t)},h=Tm.create({adjustHeight:km(["table","delta","row"]),adjustWidth:km(["table","delta","column"]),startAdjust:km([])});return{destroy:m,refresh:p,on:o.on,off:o.off,hideBars:i(au.hide,e),showBars:i(au.show,e),events:h.registry}}function ap(e,t){var n=rs.height,r=op(e,t,n),o=Tm.create({beforeResize:km(["table"]),afterResize:km(["table"]),startDrag:km([])});return r.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta());al.adjustHeight(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())}),r.events.startAdjust.bind(function(e){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());al.adjustWidth(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}}var ip=function(){var e=Fe.fromTag("div");return We(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),xn(He(),e),e},sp=function(e,t){return e.inline?Sm.body(bd(e),ip()):Sm.only(Fe.fromDom(e.getDoc()))},up=function(e,t){e.inline&&On(t.parent())},cp={get:sp,remove:up},lp=function(e){var t,n,r=b.none(),o=b.none(),a=b.none(),i=/(\d+(\.\d+)?)%/,s=function(e){return"TABLE"===e.nodeName},u=function(t){return e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width")},c=function(){return o},l=function(){return a.getOr(Sm.only(Fe.fromDom(e.getBody())))},d=function(){o.each(function(e){e.destroy()}),a.each(function(t){cp.remove(e,t)})};return e.on("init",function(){var t=as(Dd.directionAt),n=cp.get(e);if(a=b.some(n),Xd(e)&&Bd(e)){var i=ap(n,t);i.on(),i.events.startDrag.bind(function(t){r=b.some(e.selection.getRng())}),i.events.beforeResize.bind(function(t){var n=t.table().dom();Qd(e,n,yd(n),wd(n))}),i.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();kd(n),r.each(function(t){e.selection.setRng(t),e.focus()}),Zd(e,o,yd(o),wd(o)),e.undoManager.add()}),o=b.some(i)}}),e.on("ObjectResizeStart",function(e){var r=e.target;s(r)&&(t=e.width,n=u(r))}),e.on("ObjectResized",function(r){var o=r.target;if(s(o)){var a=o;if(i.test(n)){var u=parseFloat(i.exec(n)[1]),c=r.width*u/t;e.dom.setStyle(a,"width",c+"%")}else{var l=[];rf.each(a.rows,function(t){rf.each(t.cells,function(t){var n=e.dom.getStyle(t,"width",!0);l.push({cell:t,width:n})})}),rf.each(l,function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)})}}}),{lazyResize:c,lazyWire:l,destroy:d}},dp=function(e){return{fold:e}},fp=function(e){return dp(function(t,n,r,o){return t(e)})},mp=function(e){return dp(function(t,n,r,o){return n(e)})},pp=function(e,t){return dp(function(n,r,o,a){return o(e,t)})},hp=function(e){return dp(function(t,n,r,o){return o(e)})},gp={none:fp,first:mp,middle:pp,last:hp},vp=function(e,t){return wr.table(e,t).bind(function(t){var n=wr.cells(t),r=z(n,function(t){return nn(e,t)});return r.map(function(e){return{index:o(e),all:o(n)}})})},bp=function(e,t){var n=vp(e,t);return n.fold(function(){return gp.none(e)},function(t){return t.index()+1<t.all().length?gp.middle(e,t.all()[t.index()+1]):gp.last(e)})},yp=function(e,t){var n=vp(e,t);return n.fold(function(){return gp.none()},function(t){return t.index()-1>=0?gp.middle(e,t.all()[t.index()-1]):gp.first(e)})},wp={next:bp,prev:yp},xp=Ra.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Cp=function(e,t,n,r){return e.fold(t,n,r)},Sp=function(e){return e.fold(a,a,a)},kp=xp.before,_p=xp.on,Tp=xp.after,Op={before:kp,on:_p,after:Tp,cata:Cp,getStart:Sp},Ep=Ra.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dp=te("start","soffset","finish","foffset"),Rp=function(e){return e.match({domRange:function(e){return Fe.fromDom(e.startContainer)},relative:function(e,t){return Op.getStart(e)},exact:function(e,t,n,r){return e}})},Np=function(e){var t=Rp(e);return ln(t)},Ip=(Ep.domRange,Ep.relative),Ap=Ep.exact,Mp=function(e,t,n,r){var o=cn(e),a=o.dom().createRange();return a.setStart(e.dom(),t),a.setEnd(n.dom(),r),a},Bp=function(e,t,n,r){var o=Mp(e,t,n,r),a=nn(e,n)&&t===r;return o.collapsed&&!a},Lp=function(e,t){var n=e.document.createRange();return Pp(n,t),n},Pp=function(e,t){e.selectNodeContents(t.dom())},zp=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Fp=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},jp=function(e,t,n){var r=e.document.createRange();return zp(r,t),Fp(r,n),r},Hp=function(e,t,n,r,o){var a=e.document.createRange();return a.setStart(t.dom(),n),a.setEnd(r.dom(),o),a},Vp=function(e){return{left:o(e.left),top:o(e.top),right:o(e.right),bottom:o(e.bottom),width:o(e.width),height:o(e.height)}},$p=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(Vp):b.none()},Up=Ra.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),qp=function(e,t,n){return t(Fe.fromDom(n.startContainer),n.startOffset,Fe.fromDom(n.endContainer),n.endOffset)},Wp=function(e,t){return t.match({domRange:function(e){return{ltr:o(e),rtl:b.none}},relative:function(t,n){return{ltr:Ae(function(){return jp(e,t,n)}),rtl:Ae(function(){return b.some(jp(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Ae(function(){return Hp(e,t,n,r,o)}),rtl:Ae(function(){return b.some(Hp(e,r,o,t,n))})}}})},Kp=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter(function(e){return!1===e.collapsed});return r.map(function(e){return Up.rtl(Fe.fromDom(e.endContainer),e.endOffset,Fe.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return qp(e,Up.ltr,n)})}return qp(e,Up.ltr,n)},Yp=function(e,t){var n=Wp(e,t);return Kp(e,n)},Xp=function(e,t){var n=Yp(e,t);return n.match({ltr:function(t,n,r,o){var a=e.document.createRange();return a.setStart(t.dom(),n),a.setEnd(r.dom(),o),a},rtl:function(t,n,r,o){var a=e.document.createRange();return a.setStart(r.dom(),o),a.setEnd(t.dom(),n),a}})},Gp=(Up.ltr,Up.rtl,function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var a=r,i=1;i<o;i++){var s=e(i),u=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||u>a)return i-1;a=u}}return 0}),Jp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Qp=function(e,t,n,r,o){var a=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},i=function(e){var t=a(e);return t.getBoundingClientRect()},s=jr(t).length,u=Gp(i,n,r,o.right,s);return a(u)},Zp=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getClientRects(),i=ms(a,function(e){return Jp(e,n,r)?b.some(e):b.none()});return i.map(function(o){return Qp(e,t,n,r,o)})},eh=function(e,t,n,r){var o=e.dom().createRange(),a=hn(t);return ms(a,function(t){return o.selectNode(t.dom()),Jp(o.getBoundingClientRect(),n,r)?th(e,t,n,r):b.none()})},th=function(e,t,n,r){var o=be(t)?Zp:eh;return o(e,t,n,r)},nh=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getBoundingClientRect(),i=Math.max(a.left,Math.min(a.right,n)),s=Math.max(a.top,Math.min(a.bottom,r));return th(e,t,i,s)},rh=!0,oh=!1,ah=function(e,t){return t-e.left<e.right-t?rh:oh},ih=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},sh=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),a=ah(o,n),i=a===rh?Yr:Xr;return i(t).map(function(t){return ih(e,t,a)})},uh=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=ah(r,n);return b.some(ih(e,t,o))},ch=function(e,t,n){var r=0===hn(t).length?uh:sh;return r(e,t,n)},lh=function(e,t,n){return b.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return b.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),b.some(n)})},dh=function(e,t,n){return b.from(e.dom().caretRangeFromPoint(t,n))},fh=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getBoundingClientRect(),i=Math.max(a.left,Math.min(a.right,n)),s=Math.max(a.top,Math.min(a.bottom,r));return nh(e,t,i,s)},mh=function(e,t,n){return Fe.fromPoint(e,t,n).bind(function(r){var o=function(){return ch(e,r,t)};return 0===hn(r).length?o():fh(e,r,t,n).orThunk(o)})},ph=document.caretPositionFromPoint?lh:document.caretRangeFromPoint?dh:mh,hh=function(e,t,n){var r=Fe.fromDom(e.document);return ph(r,t,n).map(function(e){return Dp(Fe.fromDom(e.startContainer),e.startOffset,Fe.fromDom(e.endContainer),e.endOffset)})},gh=function(e,t){var n=me(e);return"input"===n?Op.after(e):E(["br","img"],n)?0===t?Op.before(e):Op.after(e):Op.on(e,t)},vh=function(e,t){var n=e.fold(Op.before,gh,Op.after),r=t.fold(Op.before,gh,Op.after);return Ip(n,r)},bh=function(e,t,n,r){var o=gh(e,t),a=gh(n,r);return Ip(o,a)},yh=function(e){return e.match({domRange:function(e){var t=Fe.fromDom(e.startContainer),n=Fe.fromDom(e.endContainer);return bh(t,e.startOffset,n,e.endOffset)},relative:vh,exact:bh})},wh=function(e,t){b.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},xh=function(e,t,n,r,o){var a=Hp(e,t,n,r,o);wh(e,a)},Ch=function(e,t,n,r,o,a){t.collapse(n.dom(),r),t.extend(o.dom(),a)},Sh=function(e,t){return Yp(e,t).match({ltr:function(t,n,r,o){xh(e,t,n,r,o)},rtl:function(t,n,r,o){var a=e.getSelection();if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(a.extend)try{Ch(e,a,t,n,r,o)}catch(i){xh(e,r,o,t,n)}else xh(e,r,o,t,n)}})},kh=function(e,t,n,r,o){var a=bh(t,n,r,o);Sh(e,a)},_h=function(e,t,n){var r=vh(t,n);Sh(e,r)},Th=function(e){var t=Np(e).dom(),n=function(e,n,r,o){return Hp(t,e,n,r,o)},r=yh(e);return Yp(t,r).match({ltr:n,rtl:n})},Oh=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return b.some(Dp(Fe.fromDom(t.startContainer),t.startOffset,Fe.fromDom(n.endContainer),n.endOffset))}return b.none()},Eh=function(e){var t=Fe.fromDom(e.anchorNode),n=Fe.fromDom(e.focusNode);return Bp(t,e.anchorOffset,n,e.focusOffset)?b.some(Dp(t,e.anchorOffset,n,e.focusOffset)):Oh(e)},Dh=function(e,t){var n=Lp(e,t);wh(e,n)},Rh=function(e){return b.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Eh)},Nh=function(e){return Rh(e).map(function(e){return Ap(e.start(),e.soffset(),e.finish(),e.foffset())})},Ih=function(e,t){var n=Xp(e,t);return $p(n)},Ah=function(e,t,n){return hh(e,t,n)},Mh=function(e){var t=e.getSelection();t.removeAllRanges()},Bh=tinymce.util.Tools.resolve("tinymce.util.VK"),Lh=function(e,t,n,r){return jh(e,t,wp.next(n),r)},Ph=function(e,t,n,r){return jh(e,t,wp.prev(n),r)},zh=function(e,t){var n=Ap(t,0,t,0);return Th(n)},Fh=function(e,t){var n=Yn(t,"tr");return K(n).bind(function(t){return nr(t,"td,th").map(function(t){return zh(e,t)})})},jh=function(e,t,n,r,o){return n.fold(b.none,b.none,function(t,n){return Yr(n).map(function(t){return zh(e,t)})},function(n){return wr.table(n,t).bind(function(t){var o=$a.noMenu(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),Fh(e,t)})})},Hh=["table","li","dl"],Vh=function(e,t,n,r){if(e.keyCode===Bh.TAB){var o=bd(t),a=function(e){var t=me(e);return nn(e,o)||E(Hh,t)},i=t.selection.getRng();if(i.collapsed){var s=Fe.fromDom(i.startContainer);wr.cell(s,a).each(function(o){e.preventDefault();var i=e.shiftKey?Ph:Lh,s=i(t,a,o,n,r);s.each(function(e){t.selection.setRng(e)})})}}},$h={handle:Vh},Uh=te("selection","kill"),qh={response:Uh},Wh=function(e){return function(t){return t===e}},Kh=Wh(38),Yh=Wh(40),Xh=function(e){return e>=37&&e<=40},Gh={ltr:{isBackward:Wh(37),isForward:Wh(39)},rtl:{isBackward:Wh(39),isForward:Wh(37)},isUp:Kh,isDown:Yh,isNavigation:Xh},Jh=function(e,t){var n=Xp(e,t);return{start:o(Fe.fromDom(n.startContainer)),soffset:o(n.startOffset),finish:o(Fe.fromDom(n.endContainer)),foffset:o(n.endOffset)}},Qh=function(e,t,n,r){return{start:o(Op.on(e,t)),finish:o(Op.on(n,r))}},Zh={convertToRange:Jh,makeSitus:Qh},eg=(Xt.detect().browser.isSafari(),function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return zi(r,o)}),tg=function(t,n,r){var o=void 0!==r?r.dom():e.document,a=o.defaultView;a.scrollBy(t,n)};function ng(e){var t=function(t,n){return Fe.fromPoint(Fe.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var a=Ap(t,n,r,o);return Ih(e,a).map(function(e){return J(e,c)})},a=function(){return Nh(e).map(function(t){return Zh.convertToRange(e,t)})},i=function(t){var n=Ip(t.start(),t.finish());return Zh.convertToRange(e,n)},s=function(t,n){return Ah(e,t,n).map(function(e){return{start:o(Op.on(e.start(),e.soffset())),finish:o(Op.on(e.finish(),e.foffset()))}})},u=function(){Mh(e)},l=function(t){Dh(e,t)},d=function(t){kh(e,t.start(),t.soffset(),t.finish(),t.foffset())},f=function(t,n){_h(e,t,n)},m=function(){return e.innerHeight},p=function(){var t=eg(Fe.fromDom(e.document));return t.top()},h=function(t,n){tg(t,n,Fe.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:a,fromSitus:i,situsFromPoint:s,clearSelection:u,setSelection:d,setRelativeSelection:f,selectContents:l,getInnerHeight:m,getScrollY:p,scrollBy:h}}var rg=function(e,t,n,r,o,a,i){return nn(n,o)&&r===a?b.none():rr(n,"td,th",t).bind(function(n){return rr(o,"td,th",t).bind(function(r){return og(e,t,n,r,i)})})},og=function(e,t,n,r,o){return nn(n,r)?b.none():va.identify(n,r,t).bind(function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),b.some(qh.response(b.some(Zh.makeSitus(n,0,n,$r(n))),!0))):b.none()})},ag=function(e,t,n,r,o){var a=function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()};return va.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(a)},ig={sync:rg,detect:og,update:ag},sg=ue(["left","top","right","bottom"],[]),ug=function(e,t){return sg({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},cg=function(e,t){return sg({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},lg=function(e,t){var n=e.bottom()-e.top();return sg({left:e.left(),top:t-n,right:e.right(),bottom:t})},dg=function(e,t){var n=e.bottom()-e.top();return sg({left:e.left(),top:t,right:e.right(),bottom:t+n})},fg=function(e,t,n){return sg({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},mg=function(e){return e.top()},pg=function(e){return e.bottom()},hg=function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"},gg={nu:sg,moveUp:cg,moveDown:ug,moveBottomTo:lg,moveTopTo:dg,getTop:mg,getBottom:pg,translate:fg,toString:hg},vg=function(e,t,n){return n>=0&&n<$r(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):b.none()},bg=function(e){return gg.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},yg=function(e,t){return b.some(e.getRect(t))},wg=function(e,t,n){return ve(t)?yg(e,t).map(bg):be(t)?vg(e,t,n).map(bg):b.none()},xg=function(e,t){return ve(t)?yg(e,t).map(bg):be(t)?e.getRangedRect(t,0,t,$r(t)).map(bg):b.none()},Cg={getBoxAt:wg,getEntireBox:xg},Sg=te("item","mode"),kg=function(e,t,n,r){return void 0===r&&(r=_g),e.property().parent(t).map(function(e){return Sg(e,r)})},_g=function(e,t,n,r){return void 0===r&&(r=Tg),n.sibling(e,t).map(function(e){return Sg(e,r)})},Tg=function(e,t,n,r){void 0===r&&(r=Tg);var o=e.property().children(t),a=n.first(o);return a.map(function(e){return Sg(e,r)})},Og=[{current:kg,next:_g,fallback:b.none()},{current:_g,next:Tg,fallback:b.some(kg)},{current:Tg,next:Tg,fallback:b.some(_g)}],Eg=function(e,t,n,r,o){void 0===o&&(o=Og);var a=P(o,function(e){return e.current===n});return a.bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return Eg(e,t,n,r)})})})},Dg=function(){var e=function(e,t){return e.query().prevSibling(t)},t=function(e){return e.length>0?b.some(e[e.length-1]):b.none()};return{sibling:e,first:t}},Rg=function(){var e=function(e,t){return e.query().nextSibling(t)},t=function(e){return e.length>0?b.some(e[0]):b.none()};return{sibling:e,first:t}},Ng={left:Dg,right:Rg},Ig=function(e,t,n,r,o,a){var i=Eg(e,t,r,o);return i.bind(function(t){return a(t.item())?b.none():n(t.item())?b.some(t.item()):Ig(e,t.item(),n,t.mode(),o,a)})},Ag=function(e,t,n,r){return Ig(e,t,n,_g,Ng.left(),r)},Mg=function(e,t,n,r){return Ig(e,t,n,_g,Ng.right(),r)},Bg=function(e){return function(t){return 0===e.property().children(t).length}},Lg=function(e,t,n){return zg(e,t,Bg(e),n)},Pg=function(e,t,n){return Fg(e,t,Bg(e),n)},zg=Ag,Fg=Mg,jg=mo(),Hg=function(e,t){return Lg(jg,e,t)},Vg=function(e,t){return Pg(jg,e,t)},$g=function(e,t,n){return zg(jg,e,t,n)},Ug=function(e,t,n){return Fg(jg,e,t,n)},qg=5,Wg=100,Kg=Ra.generate([{none:[]},{retry:["caret"]}]),Yg=function(e,t){return e.left()<t.left()||Math.abs(t.right()-e.left())<1||e.left()>t.right()},Xg=function(e,t,n){return Jn(t,Bl.isBlock).fold(o(!1),function(t){return Cg.getEntireBox(e,t).exists(function(e){return Yg(n,e)})})},Gg=function(e,t,n,r,o){var a=gg.moveDown(o,qg);return Math.abs(n.bottom()-r.bottom())<1?Kg.retry(a):n.top()>o.bottom()?Kg.retry(a):n.top()===o.bottom()?Kg.retry(gg.moveDown(o,1)):Xg(e,t,o)?Kg.retry(gg.translate(a,qg,0)):Kg.none()},Jg=function(e,t,n,r,o){var a=gg.moveUp(o,qg);return Math.abs(n.top()-r.top())<1?Kg.retry(a):n.bottom()<o.top()?Kg.retry(a):n.bottom()===o.top()?Kg.retry(gg.moveUp(o,1)):Xg(e,t,o)?Kg.retry(gg.translate(a,qg,0)):Kg.none()},Qg={point:gg.getTop,adjuster:Jg,move:gg.moveUp,gather:Hg},Zg={point:gg.getBottom,adjuster:Gg,move:gg.moveDown,gather:Vg},ev=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===me(e)}).isSome()},tv=function(e,t,n,r,o){return nv(e,t,n,t.move(r,qg),o)},nv=function(e,t,n,r,o){return 0===o?b.some(r):ev(e,r.left(),t.point(r))?tv(e,t,n,r,o-1):e.situsFromPoint(r.left(),t.point(r)).bind(function(a){return a.start().fold(b.none,function(a,i){return Cg.getEntireBox(e,a,i).bind(function(i){return t.adjuster(e,a,i,n,r).fold(b.none,function(r){return nv(e,t,n,r,o-1)})}).orThunk(function(){return b.some(r)})},b.none)})},rv=function(e,t){return e.situsFromPoint(t.left(),t.bottom()+qg)},ov=function(e,t){return e.situsFromPoint(t.left(),t.top()-qg)},av=function(e,t,n){return e.point(t)>n.getInnerHeight()?b.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?b.some(-e.point(t)):b.none()},iv=function(e,t,n){var r=e.move(n,qg),o=nv(t,e,n,r,Wg).getOr(r);return av(e,o,t).fold(function(){return t.situsFromPoint(o.left(),e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left(),e.point(o)-n)})},sv={tryUp:i(iv,Qg),tryDown:i(iv,Zg),ieTryUp:ov,ieTryDown:rv,getJumpSize:o(qg)},uv=Ra.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),cv=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},lv=function(e,t,n,r,o,a,i){return rr(r,"td,th",i).bind(function(n){return rr(t,"td,th",i).map(function(t){return nn(n,t)?nn(r,n)&&$r(n)===o?a(t):uv.none("in same cell"):Uo.sharedOne(dv,[n,t]).fold(function(){return cv(e,t,n)?uv.success():a(t)},function(e){return a(t)})})}).getOr(uv.none("default"))},dv=function(e){return rr(e,"tr")},fv=function(e,t,n,r,o){return e.fold(t,n,r,o)},mv={verify:lv,cata:fv,adt:uv},pv=te("element","offset"),hv=(te("element","deltaOffset"),te("element","start","finish"),te("begin","end"),te("element","text"),te("ancestor","descendants","element","index"),te("parent","children","element","index")),gv=function(e){return dn(e).bind(function(t){var n=hn(t);return vv(n,e).map(function(r){return hv(t,n,e,r)})})},vv=function(e,t){return z(e,i(nn,t))},bv=function(e){return"br"===me(e)},yv=function(e,t,n){return t(e,n).bind(function(e){return be(e)&&0===jr(e).trim().length?yv(e,t,n):b.some(e)})},wv=function(e,t,n){return n.traverse(t).orThunk(function(){return yv(t,n.gather,e)}).map(n.relative)},xv=function(e,t){return gn(e,t).filter(bv).orThunk(function(){return gn(e,t-1).filter(bv)})},Cv=function(e,t,n,r){return xv(t,n).bind(function(t){return r.traverse(t).fold(function(){return yv(t,r.gather,e).map(r.relative)},function(e){return gv(e).map(function(e){return Op.on(e.parent(),e.index())})})})},Sv=function(e,t,n,r){var a=bv(t)?wv(e,t,r):Cv(e,t,n,r);return a.map(function(e){return{start:o(e),finish:o(e)}})},kv=function(e){return mv.cata(e,function(e){return b.none()},function(){return b.none()},function(e){return b.some(pv(e,0))},function(e){return b.some(pv(e,$r(e)))})},_v={tryBr:Sv,process:kv},Tv=20,Ov=Xt.detect(),Ev=function(e,t,n){return e.getSelection().bind(function(r){return _v.tryBr(t,r.finish(),r.foffset(),n).fold(function(){return b.some(pv(r.finish(),r.foffset()))},function(o){var a=e.fromSitus(o),i=mv.verify(e,r.finish(),r.foffset(),a.finish(),a.foffset(),n.failure,t);return _v.process(i)})})},Dv=function(e,t,n,r,o,a){return 0===a?b.none():Iv(e,t,n,r,o).bind(function(i){var s=e.fromSitus(i),u=mv.verify(e,n,r,s.finish(),s.foffset(),o.failure,t);return mv.cata(u,function(){return b.none()},function(){return b.some(i)},function(i){return nn(n,i)&&0===r?Rv(e,n,r,gg.moveUp,o):Dv(e,t,i,0,o,a-1)},function(i){return nn(n,i)&&r===$r(i)?Rv(e,n,r,gg.moveDown,o):Dv(e,t,i,$r(i),o,a-1)})})},Rv=function(e,t,n,r,o){return Cg.getBoxAt(e,t,n).bind(function(t){return Nv(e,o,r(t,sv.getJumpSize()))})},Nv=function(e,t,n){return Ov.browser.isChrome()||Ov.browser.isSafari()||Ov.browser.isFirefox()||Ov.browser.isEdge()?t.otherRetry(e,n):Ov.browser.isIE()?t.ieRetry(e,n):b.none()},Iv=function(e,t,n,r,o){return Cg.getBoxAt(e,n,r).bind(function(t){return Nv(e,o,t)})},Av=function(e,t,n){return Ev(e,t,n).bind(function(r){return Dv(e,t,r.element(),r.offset(),n,Tv).map(e.fromSitus)})},Mv={handle:Av},Bv=function(e,t,n){return Gn(e,t,n).isSome()},Lv=Xt.detect(),Pv=function(e,t){return Bv(e,function(e){return dn(e).exists(function(e){return nn(e,t)})})},zv=function(e,t,n,r,a){return rr(r,"td,th",t).bind(function(r){return rr(r,"table",t).bind(function(i){return Pv(a,i)?Mv.handle(e,t,n).bind(function(e){return rr(e.finish(),"td,th",t).map(function(t){return{start:o(r),finish:o(t),range:o(e)}})}):b.none()})})},Fv=function(e,t,n,r,o,a){return Lv.browser.isIE()?b.none():a(r,t).orThunk(function(){return zv(e,t,n,r,o).map(function(e){var t=e.range();return qh.response(b.some(Zh.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},jv=function(e,t){return rr(e,"tr",t).bind(function(e){return rr(e,"table",t).bind(function(n){var r=Yn(n,"tr");return nn(e,r[0])?$g(n,function(e){return Xr(e).isSome()},t).map(function(e){var t=$r(e);return qh.response(b.some(Zh.makeSitus(e,t,e,t)),!0)}):b.none()})})},Hv=function(e,t){return rr(e,"tr",t).bind(function(e){return rr(e,"table",t).bind(function(n){var r=Yn(n,"tr");return nn(e,r[r.length-1])?Ug(n,function(e){return Yr(e).isSome()},t).map(function(e){return qh.response(b.some(Zh.makeSitus(e,0,e,0)),!0)}):b.none()})})},Vv=function(e,t,n,r,o,a,i){return zv(e,n,r,o,a).bind(function(e){return ig.detect(t,n,e.start(),e.finish(),i)})},$v={navigate:Fv,select:Vv,firstUpCheck:jv,lastDownCheck:Hv},Uv=function(e,t){return rr(e,"td,th",t)};function qv(e,t,n,r){var o=b.none(),a=function(){o=b.none()},i=function(e){r.clear(t),o=Uv(e.target(),n)},s=function(a){o.each(function(o){r.clear(t),Uv(a.target(),n).each(function(a){va.identify(o,a,n).each(function(n){var i=n.boxes().getOr([]);(i.length>1||1===i.length&&!nn(o,a))&&(r.selectRange(t,i,n.start(),n.finish()),e.selectContents(a))})})})},u=function(){o.each(a)};return{mousedown:i,mouseover:s,mouseup:u}}var Wv={down:{traverse:pn,gather:Vg,relative:Op.before,otherRetry:sv.tryDown,ieRetry:sv.ieTryDown,failure:mv.adt.failedDown},up:{traverse:mn,gather:Hg,relative:Op.before,otherRetry:sv.tryUp,ieRetry:sv.ieTryUp,failure:mv.adt.failedUp}},Kv=te("rows","cols"),Yv=function(e,t,n,r){var o=ng(e),a=qv(o,t,n,r);return{mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}},Xv=function(e,t,n,r){var o=ng(e),a=function(){return r.clear(t),b.none()},s=function(e,s,u,c,l,d){var f=e.raw().which,m=!0===e.raw().shiftKey,p=va.retrieve(t,r.selectedSelector()).fold(function(){return Gh.isDown(f)&&m?i($v.select,o,t,n,Wv.down,c,s,r.selectRange):Gh.isUp(f)&&m?i($v.select,o,t,n,Wv.up,c,s,r.selectRange):Gh.isDown(f)?i($v.navigate,o,n,Wv.down,c,s,$v.lastDownCheck):Gh.isUp(f)?i($v.navigate,o,n,Wv.up,c,s,$v.firstUpCheck):b.none},function(e){var n=function(n){return function(){var a=ms(n,function(n){return ig.update(n.rows(),n.cols(),t,e,r)});return a.fold(function(){return va.getEdges(t,r.firstSelectedSelector(),r.lastSelectedSelector()).map(function(e){var n=Gh.isDown(f)||d.isForward(f)?Op.after:Op.before;return o.setRelativeSelection(Op.on(e.first(),0),n(e.table())),r.clear(t),qh.response(b.none(),!0)})},function(e){return b.some(qh.response(b.none(),!0))})}};return Gh.isDown(f)&&m?n([Kv(1,0)]):Gh.isUp(f)&&m?n([Kv(-1,0)]):d.isBackward(f)&&m?n([Kv(0,-1),Kv(-1,0)]):d.isForward(f)&&m?n([Kv(0,1),Kv(1,0)]):Gh.isNavigation(f)&&!1===m?a:b.none});return p()},u=function(e,o,a,i,s){return va.retrieve(t,r.selectedSelector()).fold(function(){var u=e.raw().which,c=!0===e.raw().shiftKey;return!1===c?b.none():Gh.isNavigation(u)?ig.sync(t,n,o,a,i,s,r.selectRange):b.none()},b.none)};return{keydown:s,keyup:u}},Gv={mouse:Yv,keyboard:Xv},Jv=function(e,t){N(t,function(t){Os(e,t)})},Qv=function(e){return function(t){_s(t,e)}},Zv=function(e){return function(t){Jv(t,e)}},eb=function(e){var t=Qv(e.selected()),n=Zv([e.selected(),e.lastSelected(),e.firstSelected()]),r=function(t){var r=Yn(t,e.selectedSelector());N(r,n)},o=function(n,o,a,i){r(n),N(o,t),_s(a,e.firstSelected()),_s(i,e.lastSelected())};return{clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},tb=function(e){var t=function(t){_e(t,e.selected()),_e(t,e.firstSelected()),_e(t,e.lastSelected())},n=function(t){xe(t,e.selected(),"1")},r=function(n){var r=Yn(n,e.selectedSelector());N(r,t)},o=function(t,o,a,i){r(t),N(o,n),xe(a,e.firstSelected(),"1"),xe(i,e.lastSelected(),"1")};return{clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},nb={byClass:eb,byAttr:tb},rb=function(e){return!1===Es(Fe.fromDom(e.target),"ephox-snooker-resizer-bar")};function ob(e,t){var a=ue(["mousedown","mouseover","mouseup","keyup","keydown"],[]),i=b.none(),s=nb.byAttr(Ea);e.on("init",function(u){var c=e.getWin(),l=bd(e),d=xd(e),f=function(){var t=e.selection,r=Fe.fromDom(t.getStart()),o=Fe.fromDom(t.getEnd()),a=Uo.sharedOne(wr.table,[r,o]);a.fold(function(){s.clear(l)},n)},m=Gv.mouse(c,l,d,s),p=Gv.keyboard(c,l,d,s),h=function(e){return!0===e.raw().shiftKey},g=function(t,n){h(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=Ip(t.start(),t.finish()),r=Xp(c,n);e.selection.setRng(r)}))},v=function(t){var n=x(t);if(n.raw().shiftKey&&Gh.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=Fe.fromDom(r.startContainer),a=Fe.fromDom(r.endContainer);p.keyup(n,o,r.startOffset,a,r.endOffset).each(function(e){g(n,e)})}},y=function(n){var r=x(n);t().each(function(e){e.hideBars()});var o=e.selection.getRng(),a=Fe.fromDom(e.selection.getStart()),i=Fe.fromDom(o.startContainer),s=Fe.fromDom(o.endContainer),u=Dd.directionAt(a).isRtl()?Gh.rtl:Gh.ltr;p.keydown(r,i,o.startOffset,s,o.endOffset,u).each(function(e){g(r,e)}),t().each(function(e){e.showBars()})},w=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},x=function(e){var t=Fe.fromDom(e.target),n=function(){e.stopPropagation()},a=function(){e.preventDefault()},i=r(a,n);return{target:o(t),x:o(w(e)?e.x:null),y:o(w(e)?e.y:null),stop:n,prevent:a,kill:i,raw:o(e)}},C=function(e){return 0===e.button},S=function(e){return void 0===e.buttons||0!==(1&e.buttons)},k=function(e){C(e)&&rb(e)&&m.mousedown(x(e))},_=function(e){S(e)&&rb(e)&&m.mouseover(x(e))},T=function(e){C(e)&&rb(e)&&m.mouseup(x(e))};e.on("mousedown",k),e.on("mouseover",_),e.on("mouseup",T),e.on("keyup",v),e.on("keydown",y),e.on("nodechange",f),i=b.some(a({mousedown:k,mouseover:_,mouseup:T,keyup:v,keydown:y}))});var u=function(){i.each(function(e){})};return{clear:s.clear,destroy:u}}var ab=function(e){var t=function(){var t=bd(e);return wa.retrieve(t,Ea.selectedSelector()).fold(function(){return void 0===e.selection.getStart()?Aa.none():Aa.single(e.selection)},function(e){return Aa.multiple(e)})};return{get:t}},ib=function(e,n){var r=t(b.none()),o=t([]),a=function(){return gm(e).bind(function(e){var t=wr.table(e);return t.map(function(t){return"caption"===me(e)?$a.notCell(e):$a.forMenu(n,t,e)})})},i=function(){r.set(Ae(a)()),N(o.get(),function(e){return e()})},s=function(e,t){var n=function(){return r.get().fold(function(){e.setDisabled(!0)},function(n){e.setDisabled(t(n))})};return n(),o.set(o.get().concat([n])),function(){o.set(A(o.get(),function(e){return e!==n}))}},u=function(e){return s(e,function(e){return!1})},c=function(e){return s(e,function(e){return"caption"===me(e.element())})},l=function(e){return s(e,function(e){return e.mergable().isNone()})},d=function(e){return s(e,function(e){return e.unmergable().isNone()})};return e.on("nodechange",i),{onSetupTable:u,onSetupCellOrRow:c,onSetupMergeable:l,onSetupUnmergeable:d,resetTargets:i,targets:function(){return r.get()}}},sb=function(e,t){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable tableprops deletetable | cell row column")}});var n=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:n("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:n("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:n("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:n("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:n("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:n("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:n("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:n("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:n("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:n("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:n("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:n("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",onAction:n("mceTableCutRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",onAction:n("mceTableCopyRow"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",onAction:n("mceTablePasteRowBefore"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",onAction:n("mceTablePasteRowAfter"),icon:"temporary-placeholder",onSetup:t.onSetupCellOrRow})},ub=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=Kd(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},cb={addButtons:sb,addToolbars:ub},lb=function(e,t){var n=function(t){return function(){return e.execCommand(t)}},r=function(t){var n=t.numRows,r=t.numColumns;e.undoManager.transact(function(){um.insert(e,r,n)}),e.addVisual()},o={text:"Table properties",onSetup:t.onSetupTable,onAction:n("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:n("mceTableDelete")},i={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return[{type:"menuitem",text:"Insert row before",icon:"table-insert-row-above",onAction:n("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert row after",icon:"table-insert-row-after",onAction:n("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete row",icon:"table-delete-row",onAction:n("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Row properties",icon:"table-row-properties",onAction:n("mceTableRowProps"),onSetup:t.onSetupCellOrRow},{type:"separator"},{type:"menuitem",text:"Cut row",onAction:n("mceTableCutRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Copy row",onAction:n("mceTableCopyRow"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row before",onAction:n("mceTablePasteRowBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Paste row after",onAction:n("mceTablePasteRowAfter"),onSetup:t.onSetupCellOrRow}]}},s={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return[{type:"menuitem",text:"Insert column before",icon:"table-insert-column-before",onAction:n("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Insert column after",icon:"table-insert-column-after",onAction:n("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Delete column",icon:"table-delete-column",onAction:n("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}]}},u={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return[{type:"menuitem",text:"Cell properties",icon:"table-cell-properties",onAction:n("mceTableCellProps"),onSetup:t.onSetupCellOrRow},{type:"menuitem",text:"Merge cells",icon:"table-merge-cells",onAction:n("mceTableMergeCells"),onSetup:t.onSetupMergeable},{type:"menuitem",text:"Split cell",icon:"table-split-cells",onAction:n("mceTableSplitCells"),onSetup:t.onSetupUnmergeable}]}};!1===Hd(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]}}),e.ui.registry.addMenuItem("tableprops",o),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",i),e.ui.registry.addNestedMenuItem("column",s),e.ui.registry.addNestedMenuItem("cell",u),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold(function(){return""},function(e){return"caption"===me(e.element())?"tableprops deletetable":"cell row column | tableprops deletetable"})}})},db={addMenuItems:lb},fb=function(e){return e.get().fold(function(){},function(e){return R(e,function(e){return e.dom()})})},mb=function(e,t){var n=R(e,Fe.fromDom);t.set(b.from(n))},pb=function(e,t){return{insertTable:function(t,n){return um.insert(e,t,n)},setClipboardRows:function(e){return mb(e,t)},getClipboardRows:function(){return fb(t)}}};function hb(e){var n=lp(e),r=ob(e,n.lazyResize),o=ef(e,n.lazyWire),a=ab(e),i=ib(e,a),s=t(b.none());return ym.registerCommands(e,o,r,a,s),Ya.registerEvents(e,a,o,r),db.addMenuItems(e,i),cb.addButtons(e,i),cb.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(Ea.firstSelected()),e.serializer.addTempAttr(Ea.lastSelected())}),Ld(e)&&e.on("keydown",function(t){$h.handle(t,e,o,n.lazyWire)}),e.on("remove",function(){n.destroy(),r.destroy()}),pb(e,s)}function gb(){}y.add("table",hb)})(window)})()},"95df":function(e,t,n){},"96cf":function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",c="object"===typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{l=t.regeneratorRuntime=c?e.exports:{},l.wrap=w;var d="suspendedStart",f="suspendedYield",m="executing",p="completed",h={},g={};g[i]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(I([])));b&&b!==r&&o.call(b,i)&&(g=b);var y=k.prototype=C.prototype=Object.create(g);S.prototype=y.constructor=k,k.constructor=S,k[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},_(T.prototype),T.prototype[s]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var o=new T(w(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(y),y[u]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;R(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function w(e,t,n,r){var o=t&&t.prototype instanceof C?t:C,a=Object.create(o.prototype),i=new N(r||[]);return a._invoke=O(e,n,i),a}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function C(){}function S(){}function k(){}function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){function t(n,r,a,i){var s=x(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(c).then(function(e){u.value=e,a(u)},function(e){return t("throw",e,a,i)})}i(s.arg)}var n;function r(e,r){function o(){return new Promise(function(n,o){t(e,r,n,o)})}return n=n?n.then(o,o):o()}this._invoke=r}function O(e,t,n){var r=d;return function(o,a){if(r===m)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return A()}n.method=o,n.arg=a;while(1){var i=n.delegate;if(i){var s=E(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=x(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){while(++r<e.length)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"972f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale}},[n("v-coord",{attrs:{type:"polar",startAngle:-202.5,endAngle:22.5,radius:.75}}),n("v-axis",{attrs:{dataKey:"value",zIndex:2,line:null,label:e.axisLabel,subTickCount:4,subTickLine:e.axisSubTickLine,tickLine:e.axisTickLine,grid:null}}),n("v-axis",{attrs:{dataKey:"1",show:!1}}),n("v-series",{attrs:{gemo:"point",position:"value*1",shape:"pointer",color:"#1890FF",active:!1}}),n("v-guide",{attrs:{type:"arc",zIndex:0,top:!1,start:e.arcGuide1Start,end:e.arcGuide1End,vStyle:e.arcGuide1Style}}),n("v-guide",{attrs:{type:"arc",zIndex:1,start:e.arcGuide2Start,end:e.getArcGuide2End,vStyle:e.arcGuide2Style}}),n("v-guide",{attrs:{type:"html",position:e.htmlGuidePosition,html:e.getHtmlGuideHtml()}})],1)],1)},o=[],a=(n("c5f6"),n("3654"));Object(a["b"])("point","pointer",{draw:function(e,t){var n=e.points[0];n=this.parsePoint(n);var r=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:r.x,y1:r.y,x2:n.x,y2:n.y+15,stroke:e.color,lineWidth:5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:r.x,y:r.y,r:9.75,stroke:e.color,lineWidth:4.5,fill:"#fff"}})}});var i=[{dataKey:"value",min:0,max:9,tickInterval:1,nice:!1}],s=[{value:6.7}],u={name:"DashChartDemo",props:{value:{type:Number,default:6.7},title:{type:String,default:""},height:{type:Number,default:254}},created:function(){this.value?this.data=[{value:this.value}]:this.data=s,this.getData()},watch:{value:function(e){this.data=[{value:e}],this.getData()}},methods:{getData:function(){this.data&&this.data.length>0?this.abcd=10*this.data[0].value:this.abcd=70},getHtmlGuideHtml:function(){return'<div style="width: 300px;text-align: center;">\n<p style="font-size: 14px;color: #545454;margin: 0;">'+this.title+'</p>\n<p style="font-size: 36px;color: #545454;margin: 0;">'+this.abcd+"%</p>\n</div>"},getArcGuide2End:function(){return[this.data[0].value,.945]}},data:function(){return{data:[],scale:i,abcd:70,axisLabel:{offset:-16,textStyle:{fontSize:18,textAlign:"center",textBaseline:"middle"}},axisSubTickLine:{length:-8,stroke:"#fff",strokeOpacity:1},axisTickLine:{length:-17,stroke:"#fff",strokeOpacity:1},arcGuide1Start:[0,.945],arcGuide1End:[9,.945],arcGuide1Style:{stroke:"#CBCBCB",lineWidth:18},arcGuide2Start:[0,.945],arcGuide2Style:{stroke:"#1890FF",lineWidth:18},htmlGuidePosition:["50%","100%"],htmlGuideHtml:'\n      <div style="width: 300px;text-align: center;">\n        <p style="font-size: 14px;color: #545454;margin: 0;">'.concat(this.title,'</p>\n        <p style="font-size: 36px;color: #545454;margin: 0;">').concat(this.abcd,"%</p>\n      </div>\n    ")}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},9759:function(e,t,n){"use strict";var r=n("fcbb"),o=n.n(r);o.a},"985c":function(e,t,n){},"98bc":function(e,t,n){},"9a22":function(e,t,n){},"9a3d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("div",[n("a-icon",{class:[e.isSuccess?"success":"error","icon"],attrs:{type:e.isSuccess?"check-circle":"close-circle"}})],1),e.title?n("div",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),e.description?n("div",{staticClass:"description"},[e._v(e._s(e.description))]):e._e(),e.content?n("div",{staticClass:"content"},[e._t("default")],2):e._e(),n("div",{staticClass:"action"},[e._t("action")],2)])},o=[],a={name:"Result",props:{isSuccess:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},content:{type:Boolean,default:!0}}},i=a,s=(n("5983"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"2a1e0cfb",null);t["default"]=u.exports},"9b15":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.exportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=(n("7f7f"),n("f499")),i=n.n(a),s=n("e814"),u=n.n(s),c=n("8a45"),l=n("b65a"),d={name:"JeecgOrderMainList",mixins:[l["a"]],components:{JeecgOrderMainModal:c["default"]},data:function(){return{description:"订单管理页面",importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgOrderMain/importExcel"),columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return u()(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e,t,n){var r="";return"1"===e?r="国内订单":"2"===e&&(r="国际订单"),r}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch"}}},methods:{exportXls:function(){var e=encodeURI(i()(this.getQueryParams()));console.log("paramsStr: "+e);var t="".concat(window._CONFIG["domianURL"],"/test/jeecgOrderMain/exportXls?paramsStr=").concat(e);window.location.href=t},handleImportExcel:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(this.$message.success("".concat(e.file.name," 文件上传成功")),this.loadData()):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 文件上传失败."))}}},f=d,m=(n("b1c4"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"04b142a6",null);t["default"]=p.exports},"9b87":function(e,t,n){"use strict";var r=n("683d"),o=n.n(r);o.a},"9c73":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:"",size:"large"},on:{search:e.onSearch},model:{value:this.selectedUserNames,callback:function(t){e.$set(this,"selectedUserNames",t)},expression:"this.selectedUserNames"}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v("选择用户")])],1),n("j-search-user-by-dep-modal",{ref:"JSearchUserByDepModal",on:{ok:e.modalFormOk}})],1)},o=[],a=n("fc40"),i={name:"JSearchUserByDepList",components:{JSearchUserByDepModal:a["default"]},data:function(){return{selectedUserNames:""}},methods:{onSearch:function(){this.$refs.JSearchUserByDepModal.showModal(),this.selectedUserNames="",this.$refs.JSearchUserByDepModal.title="根据部门查询用户"},modalFormOk:function(e){this.selectedUserNames=e}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"3dcea565",null);t["default"]=c.exports},"9caf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"用户列表",width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}}})],1)},o=[],a=n("4ec3"),i=n("b65a"),s={name:"SelectUserListModal",mixins:[i["a"]],data:function(){return{title:"操作",visible:!1,model:{},confirmLoading:!1,url:{add:"/act/model/create",list:"/sys/user/list"},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"用户真实姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex_dictText"},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status_dictText"}]}},created:function(){var e=this;Object(a["y"])().then(function(t){t.success&&(e.dataSource=t.result.records,e.ipagination.total=t.result.total)})},methods:{open:function(){this.visible=!0,this.selectedRowKeys=[],this.selectedRows=[]},close:function(){this.$emit("close"),this.visible=!1},handleChange:function(e){var t=e.file;t.response.success?(this.$message.success(t.response.message),this.$emit("ok"),this.close()):(this.$message.warn(t.response.message),this.close())},handleCancel:function(){this.close()},handleSubmit:function(){this.$emit("ok",this.selectionRows),this.close()}}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=l.exports},"9cbf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-content"},[n("router-view")],1)},o=[],a={name:"SearchLayout",data:function(){var e=this;return{tabs:{items:[{key:"1",title:"文章"},{key:"2",title:"项目"},{key:"3",title:"应用"}],active:function(){switch(e.$route.path){case"/list/search/article":return"1";case"/list/search/project":return"2";case"/list/search/application":return"3";default:return"1"}},callback:function(t){switch(t){case"1":e.$router.push("/list/search/article");break;case"2":e.$router.push("/list/search/project");break;case"3":e.$router.push("/list/search/application");break;default:e.$router.push("/workplace")}}},search:!0}},computed:{},methods:{}},i=a,s=(n("d841"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"58ecbe9c",null);t["default"]=u.exports},a061:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-editor"},[n("editor",{attrs:{init:e.init,disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})],1)},o=[],a=n("e562"),i=n.n(a),s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],u=function(e){return-1!==s.indexOf(e)},c=function(e,t,n){Object.keys(t).filter(u).forEach(function(r){var o=t[r];"function"===typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),function(e){return o(e,n)}))})},l=function(e,t){var n,r=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(r)?r.join(" "):r;e.$watch("value",function(e,r){t&&"string"===typeof e&&e!==n&&e!==r&&(t.setContent(e),n=e)}),t.on(o||"change keyup undo redo",function(){n=t.getContent(),e.$emit("input",n)})},d=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&l(t,n),c(e,t.$listeners,n)},f=0,m=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return f++,e+"_"+n+f+String(t)},p=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},h=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(e,t){return h(e).concat(h(t))},v=function(e,t,n,r){var o=t.createElement("script");o.type="application/javascript",o.id=e,o.addEventListener("load",r),o.src=n,t.head&&t.head.appendChild(o)},b=function(){return{listeners:[],scriptId:m("tiny-script"),scriptLoaded:!1}},y=function(e,t,n,r){e.scriptLoaded?r():(e.listeners.push(r),t.getElementById(e.scriptId)||v(e.scriptId,t,n,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},w=n("1f38"),x={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)},S=b(),k=function(e,t,n){return e(n||"div",{attrs:{id:t}})},_=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},T=function(e){return function(){var t=C({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:g(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return d(n,e,t)}),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});p(e.element)&&(e.element.style.visibility=""),Object(w["a"])().init(t)}},O={props:x,created:function(){this.elementId=this.$props.id||m("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(w["a"])())T(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"",r="https://cloud.tinymce.com/"+t+"/tinymce.min.js?apiKey="+n;y(S,e,r,T(this))}},beforeDestroy:function(){null!==Object(w["a"])()&&Object(w["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?k(e,this.elementId,this.$props.tagName):_(e,this.elementId)}},E=O,D=(n("030f"),n("4ea8"),n("3aea"),n("07d1"),n("84ec"),n("f557"),n("9434"),n("2d33"),n("34de"),{components:{Editor:E},props:{value:{type:String,required:!1},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"lists image media table textcolor wordcount contextmenu"},toolbar:{type:[String,Array],default:"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat"}},data:function(){return{init:{language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/tinymce/skins/lightgray",height:300,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,images_upload_handler:function(e,t){var n="data:image/jpeg;base64,"+e.base64();t(n)}},myValue:this.value}},mounted:function(){i.a.init({})},methods:{onClick:function(e){this.$emit("onClick",e,i.a)},clear:function(){this.myValue=""}},watch:{value:function(e){this.myValue=e},myValue:function(e){console.log(e),this.$emit("input",e)}}}),R=D,N=n("2877"),I=Object(N["a"])(R,r,o,!1,null,"b8053d5c",null);t["default"]=I.exports},a10c:function(e,t,n){},a1ce:function(e,t,n){var r=n("63b6"),o=n("25eb"),a=n("294c"),i=n("e692"),s="["+i+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),d=function(e,t,n){var o={},s=a(function(){return!!i[e]()||u[e]()!=u}),c=o[e]=s?t(f):i[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},f=d.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=d},a1ee:function(e,t,n){"use strict";var r=n("e0e4"),o=n.n(r);o.a},a42a:function(e,t,n){},a462:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{margin:"40px auto 0"}},[n("result",{attrs:{title:"操作成功","is-success":!0,description:"预计两小时内到账"}},[n("div",{staticClass:"information"},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("付款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("ant-design@alipay.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("test@example.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款人姓名：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("辉夜")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("转账金额：")]),n("a-col",{attrs:{sm:16,xs:24}},[n("span",{staticClass:"money"},[e._v("500")]),e._v(" 元")])],1)],1),n("div",{attrs:{slot:"action"},slot:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("再转一笔")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.toOrderList}},[e._v("查看账单")])],1)])],1)],1)},o=[],a=n("9a3d"),i={name:"Step3",components:{Result:a["default"]},data:function(){return{loading:!1}},methods:{finish:function(){this.$emit("finish")},toOrderList:function(){this.$router.push("/list/query-list")}}},s=i,u=(n("a1ee"),n("2877")),c=Object(u["a"])(s,r,o,!1,null,"db5dd8b4",null);t["default"]=c.exports},a468:function(e,t,n){"use strict";var r=n("09a7"),o=n.n(r);o.a},a60b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"报表编码"}},[n("a-input",{attrs:{placeholder:"请输入报表编码"},model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,"code",t)},expression:"queryParam.code"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"报表名字"}},[n("a-input",{attrs:{placeholder:"请输入报表名字"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("录入")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("\n      已选择\n      "),n("a",{staticStyle:{"font-weight":"600"}},[e._v("\n        "+e._s(e.selectedRowKeys.length)+"\n      ")]),e._v("\n      项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{on:{click:function(t){return e.popReportURL(r.id)}}},[e._v("\n              配置地址\n            ")]),n("a-menu-item",[n("a",{on:{click:function(t){return e.goPageOnline(r.id)}}},[e._v("功能测试")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("onlCgreportHead-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("a-modal",{attrs:{title:"报表访问链接",visible:e.visible},on:{cancel:e.handleCancel}},[n("p",[e._v(e._s(e.reportUrlText))])])],1)},o=[],a=n("3e57"),i=n("b65a"),s={name:"OnlCgreportHeadList",mixins:[i["a"]],components:{OnlCgreportHeadModal:a["default"]},data:function(){return{description:"在线报表配置管理页面",visible:!1,reportUrlText:"",columns:[{title:"报表名称",align:"center",dataIndex:"name"},{title:"编码",align:"center",dataIndex:"code"},{title:"查询SQL",align:"center",dataIndex:"cgrSql"},{title:"数据源",align:"center",dataIndex:"dbSource"},{title:"创建时间",align:"center",dataIndex:"createTime"},{title:"描述",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/online/cgreport/head/list",delete:"/online/cgreport/head/delete",deleteBatch:"/online/cgreport/head/deleteBatch"}}},methods:{goPageOnline:function(e){this.$router.push({path:"/online/cgreport/"+e})},popReportURL:function(e){this.visible=!0,this.reportUrlText="/online/cgreport/".concat(e)},handleCancel:function(){this.visible=!1,this.reportUrlText=null}}},u=s,c=(n("c34c"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"6de7d9b3",null);t["default"]=l.exports},a726:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-checkbox-group",{attrs:{options:e.options,value:e.checkboxArray},on:{change:e.onChange}})},o=[],a=(n("28a5"),{name:"JCheckbox",props:{value:{type:String,required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!0},triggerChange:{type:Boolean,required:!1,default:!1}},data:function(){return{checkboxArray:this.value?this.value.split(","):[]}},watch:{value:function(e){this.checkboxArray=e?this.value.split(","):[]}},methods:{onChange:function(e){this.triggerChange?this.$emit("change",e.join(",")):this.$emit("input",e.join(","))}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},a9a9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",[n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("span",{attrs:{slot:"description"},slot:"description"},[n("span",{staticClass:"security-list-description"},[e._v(e._s(t.description))]),t.value?n("span",[e._v(" : ")]):e._e(),n("span",{staticClass:"security-list-value"},[e._v(e._s(t.value))])])]),t.actions?[n("a",{attrs:{slot:"actions"},on:{click:t.actions.callback},slot:"actions"},[e._v(e._s(t.actions.title))])]:e._e()],2)}}])})},o=[],a={data:function(){var e=this;return{data:[{title:"账户密码",description:"当前密码强度",value:"强",actions:{title:"修改",callback:function(){e.$message.info("This is a normal message")}}},{title:"密保手机",description:"已绑定手机",value:"138****8293",actions:{title:"修改",callback:function(){e.$message.success("This is a message of success")}}},{title:"密保问题",description:"未设置密保问题，密保问题可有效保护账户安全",value:"",actions:{title:"设置",callback:function(){e.$message.error("This is a message of error")}}},{title:"备用邮箱",description:"已绑定邮箱",value:"ant***sign.com",actions:{title:"修改",callback:function(){e.$message.warning("This is message of warning")}}},{title:"MFA 设备",description:"未绑定 MFA 设备，绑定后，可以进行二次确认",value:"",actions:{title:"绑定",callback:function(){e.$message.info("This is a normal message")}}}]}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"9a371cb2",null);t["default"]=u.exports},aa30:function(e,t,n){},aa46:function(e,t,n){},aa8e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,okButtonProps:{props:{disabled:e.disableSubmit}},confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ticketCode",{rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['ticketCode', {rules:[{ required: true,message: '请输入航班号!'}]}]"}],attrs:{placeholder:"请输入航班号",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班时间",hasFeedback:""}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["tickectDate",{trigger:"input",rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['tickectDate',{trigger:'input',rules:[{ required: true,message: '请输入航班号!'}]}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建人",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createBy",{}],expression:"[ 'createBy', {}]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建时间",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createTime",{}],expression:"[ 'createTime', {}]"}],attrs:{readOnly:e.disableSubmit}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l=n("c1df"),d=n.n(l),f=n("2dab"),m={components:{JDate:f["default"]},name:"JeecgOrderTicketModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},moment:d.a,format:"YYYY-MM-DD HH:mm:ss",disableSubmit:!1,orderId:"",hiding:!1,confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/addTicket",edit:"/test/order/editTicket"}}},created:function(){},methods:{add:function(e){e?this.edit({orderId:e},""):this.$message.warning("请选择一条航班数据")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.model=i()({},e),this.visible=!0,this.$nextTick(function(){n.form.setFieldsValue(c()(n.model,"ticketCode","tickectDate","orderId","createBy","createTime","updateBy","updateTime"))})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);u.mainId=e.orderId,Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}},p=m,h=n("2877"),g=Object(h["a"])(p,r,o,!1,null,"2627f568",null);t["default"]=g.exports},ac2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"main"},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{autoFormCreate:function(t){e.form=t},id:"formLogin"}},[r("a-tabs",{attrs:{activeKey:t.customActiveKey,tabBarStyle:{textAlign:"center",borderBottom:"unset"}},on:{change:t.handleTabClick}},[r("a-tab-pane",{key:"tab1",attrs:{tab:"账号密码登陆"}},[r("a-form-item",{attrs:{fieldDecoratorId:"username",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入帐户名或邮箱"},{validator:this.handleUsernameOrEmail}],validateTrigger:"change"}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"请输入帐户名 / jeecg"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",{attrs:{fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"blur"}}},[r("a-input",{attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"密码 / 123456"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),r("a-tab-pane",{key:"tab2",attrs:{tab:"手机号登陆"}},[r("a-form-item",{attrs:{fieldDecoratorId:"mobile",fieldDecoratorOptions:{rules:[{required:!0,pattern:/^1[34578]\d{9}$/,message:"请输入正确的手机号"}],validateTrigger:"change"}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"手机号"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mobile"},slot:"prefix"})],1)],1),r("a-row",{attrs:{gutter:16}},[r("a-col",{staticClass:"gutter-row",attrs:{span:16}},[r("a-form-item",{attrs:{fieldDecoratorId:"captcha",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入验证码"}],validateTrigger:"blur"}}},[r("a-input",{attrs:{size:"large",type:"text",placeholder:"验证码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1)],1),r("a-col",{staticClass:"gutter-row",attrs:{span:8}},[r("a-button",{staticClass:"getCaptcha",attrs:{tabindex:"-1",disabled:t.state.smsSendBtn},domProps:{textContent:t._s(t.state.smsSendBtn?t.state.time+" s":"获取验证码")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.getCaptcha(e)}}})],1)],1)],1)],1),r("a-form-item",[r("a-checkbox",{model:{value:t.formLogin.rememberMe,callback:function(e){t.$set(t.formLogin,"rememberMe",e)},expression:"formLogin.rememberMe"}},[t._v("自动登陆")]),r("router-link",{staticClass:"forge-password",staticStyle:{float:"right"},attrs:{to:{name:"recover",params:{user:"aaa"}}}},[t._v("\n        忘记密码\n      ")])],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:t.loginBtn,disabled:t.loginBtn},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[t._v("确定\n      ")])],1)],1),t.requiredTwoStepCaptcha?r("two-step-captcha",{attrs:{visible:t.stepCaptchaVisible},on:{success:t.stepCaptchaSuccess,cancel:t.stepCaptchaCancel}}):t._e()],1)},o=[],a=n("5176"),i=n.n(a),s=n("cebc"),u=n("365c"),c=n("2ca2"),l=n("2f62"),d=n("ca00"),f=n("2b0e"),m=n("9fb0"),p={components:{TwoStepCaptcha:c["default"]},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,requiredTwoStepCaptcha:!1,stepCaptchaVisible:!1,form:null,state:{time:60,smsSendBtn:!1},formLogin:{username:"",password:"",captcha:"",mobile:"",rememberMe:!0}}},created:function(){f["a"].ls.remove(m["a"])},methods:Object(s["a"])({},Object(l["b"])(["Login","Logout"]),{handleUsernameOrEmail:function(e,t,n){var r=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;r.test(t)?this.loginType=0:this.loginType=1,n()},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(){var e=this,t=!1,n={remember_me:e.formLogin.rememberMe};"tab1"===e.customActiveKey?e.form.validateFields(["username","password"],{force:!0},function(r,o){r||(t=!0,n[e.loginType?"username":"email"]=o.username,n.password=o.password)}):e.form.validateFields(["mobile","captcha"],{force:!0},function(e,r){e||(t=!0,n=i()(n,r))}),t&&(e.loginBtn=!0,e.Login(n).then(function(){e.requiredTwoStepCaptcha?e.stepCaptchaVisible=!0:e.loginSuccess()}).catch(function(t){e.requestFailed(t)}))},getCaptcha:function(e){var t=this;e.preventDefault();var n=this;this.form.validateFields(["mobile"],{force:!0},function(e){if(!e){t.state.smsSendBtn=!0;var r=window.setInterval(function(){n.state.time--<=0&&(n.state.time=60,n.state.smsSendBtn=!1,window.clearInterval(r))},1e3),o=t.$message.loading("验证码发送中..",0);t.$http.post(u["a"].SendSms,{mobile:n.formLogin.mobile}).then(function(e){setTimeout(o,2500),t.$notification["success"]({message:"提示",description:"验证码获取成功，您的验证码为："+e.result.captcha,duration:8})}).catch(function(e){setTimeout(o,1),clearInterval(r),n.state.time=60,n.state.smsSendBtn=!1,t.requestFailed(e)})}})},stepCaptchaSuccess:function(){this.loginSuccess()},stepCaptchaCancel:function(){var e=this;this.Logout().then(function(){e.loginBtn=!1,e.stepCaptchaVisible=!1})},loginSuccess:function(){this.loginBtn=!1,this.$router.push({name:"dashboard"}),this.$notification.success({message:"欢迎",description:"".concat(Object(d["g"])(),"，欢迎回来")})},requestFailed:function(e){this.$notification["error"]({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4}),this.loginBtn=!1}})},h=p,g=(n("c9e7"),n("2877")),v=Object(g["a"])(h,r,o,!1,null,"7b5e0d95",null);t["default"]=v.exports},af63:function(e,t,n){},afa7:function(e,t,n){},b020:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{borderd:!1}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableCheck}},[e._v("表单验证")]),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"获取值，忽略表单验证",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableGet}},[e._v("获取值")])],1),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"模拟加载1000条数据",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableSet}},[e._v("设置值")])],1),n("j-editable-table",{ref:"editableTable",staticStyle:{"margin-top":"8px"},attrs:{loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowNumber:!0,rowSelection:!0,actionButton:!0},on:{selectRowChange:e.handleSelectRowChange}})],1)},o=[],a=n("7550"),i=n("e2e0"),s=n("ca00"),u={name:"JeecgEditableTableExample",components:{JEditableTable:a["default"]},data:function(){return{loading:!1,columns:[{title:"字段名称",key:"dbFieldName",width:"19%",type:i["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"请输入${title}"},{pattern:/^[a-z|A-Z][a-z|A-Z\d_-]{0,}$/,message:"${title}必须以字母开头，可包含数字、下划线、横杠"}]},{title:"字段备注",key:"dbFieldTxt",width:"19%",type:i["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"请输入${title}"}]},{title:"字段类型",key:"dbFieldType",width:"18%",type:i["a"].select,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"字段长度",key:"dbLength",width:"8%",type:i["a"].inputNumber,defaultValue:32,placeholder:"${title}",validateRules:[{required:!0,message:"请输入${title}"}]},{title:"默认值",key:"dbDefaultVal",width:"22%",type:i["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"请输入${title}"}]},{title:"可以为空",key:"isNull",width:"8%",type:i["a"].checkbox,customValue:["Y","N"],defaultChecked:!1}],dataSource:[],selectedRowIds:[]}},created:function(){},mounted:function(){this.randomData(23,!1)},methods:{handleTableCheck:function(){var e=this;this.$refs.editableTable.getValues(function(t){0===t?e.$message.success("验证通过"):e.$message.error("验证未通过")})},handleTableGet:function(){this.$refs.editableTable.getValues(function(e,t){console.log("values:",t)},!1),console.log("deleteIds:",this.$refs.editableTable.getDeleteIds()),this.$message.info("获取值成功，请看控制台输出")},handleTableSet:function(){this.randomData(1e3,!0)},handleSelectRowChange:function(e){this.selectedRowIds=e},randomData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(this.loading=!0,setTimeout(function(){t.loading=!1},3e3));for(var r=[],o=0;o<e;o++)r.push({id:Object(s["f"])(),dbFieldName:"name_".concat(o+1),dbFieldTxt:Object(s["e"])(10),dbFieldType:["string","int","double","boolean"][Object(s["d"])(0,3)],dbLength:Object(s["d"])(0,233),dbDefaultVal:Object(s["e"])(8),isNull:["Y","N"][Object(s["d"])(0,1)]});this.dataSource=r}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,"78171499",null);t["default"]=d.exports},b046:function(e,t,n){"use strict";var r=n("1424"),o=n.n(r);o.a},b1c4:function(e,t,n){"use strict";var r=n("e5e7"),o=n.n(r);o.a},b2b7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"人员列表"}},[n("a-select",{attrs:{mode:"multiple",placeholder:"Please select",value:e.nameList},on:{change:e.handleChange}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.handleSelect}},[e._v("选择")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.selectReset}},[e._v("清空")])],1)])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"人员列表"}},[n("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:"",size:"large"},on:{search:e.onSearchDepUser},model:{value:this.selectedDepUsers,callback:function(t){e.$set(this,"selectedDepUsers",t)},expression:"this.selectedDepUsers"}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v("选择用户")])],1)],1)],1)],1)],1)],1),n("select-multiple-user-modal",{ref:"selectDemoModal",on:{selectFinished:e.selectOK}}),n("search-user-by-dep-modal",{ref:"SearchUserByDepModal",on:{ok:e.onSearchDepUserCallBack}})],1)},o=[],a=(n("7f7f"),n("5694")),i=n("8459"),s={name:"SelectDemo",components:{SelectMultipleUserModal:a["default"],SearchUserByDepModal:i["default"]},data:function(){return{selectList:[],selectedDepUsers:""}},computed:{nameList:function(){for(var e=[],t=0;t<this.selectList.length;t++)e.push(this.selectList[t].name);return e}},methods:{handleChange:function(){},selectOK:function(e){this.selectList=e},handleSelect:function(){this.$refs.selectDemoModal.add()},selectReset:function(){this.selectList=[]},onSearchDepUser:function(){this.$refs.SearchUserByDepModal.showModal(),this.selectedDepUsers="",this.$refs.SearchUserByDepModal.selectedKeys=[],this.$refs.SearchUserByDepModal.title="根据部门查询用户"},onSearchDepUserCallBack:function(e){this.selectedDepUsers=e}}},u=s,c=(n("d65b"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"6e7b3ac4",null);t["default"]=l.exports},b2cc:function(e,t,n){},b2da:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600"}},[e._v("\n        "+e._s(e.selectedRowKeys.length)+"\n      ")]),n("span",[e._v("项")]),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecg-order-modal-for-j-editable-table",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("e814"),i=n.n(a),s=n("b65a"),u=n("b8ad3"),c={name:"JeecgOrderMainListForJEditableTable",mixins:[s["a"]],components:{JeecgOrderModalForJEditableTable:u["default"]},data:function(){return{description:"订单管理页面",url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},methods:{initDictConfig:function(){}}},l=c,d=(n("e31a"),n("2877")),f=Object(d["a"])(l,r,o,!1,null,"1c6adbea",null);t["default"]=f.exports},b38b:function(e,t,n){},b4690:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"数据对比窗口",confirmLoading:e.confirmLoading,cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据库表名","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataTale",{}],expression:"[ 'dataTale', {}]"}],attrs:{placeholder:"请输入数据库表名",disabled:""},on:{blur:e.handleTableBlur}})],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据ID","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataId",{}],expression:"[ 'dataId', {}]"}],attrs:{placeholder:"请输入数据ID",disabled:""},on:{blur:e.handleIdBlur}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号1","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion1",{}],expression:"[ 'dataVersion1', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange1}},e._l(e.DataVersionList,function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])}),1)],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号2","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion2",{}],expression:"[ 'dataVersion2', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange2}},e._l(e.DataVersionList,function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])}),1)],1)],1)],1)],1)],1),n("data-log-compare-modal",{ref:"modal",on:{ok:e.modalFormOk}})],1)],1)},o=[],a=n("0fea"),i=n("fcbc"),s={name:"DataLogModal",components:{DataLogCompareModal:i["default"]},dataId1:"",dataId2:"",dataTable1:"",dataID3:"",data:function(){return{modalWidth:700,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{queryDataVerListUrl:"/sys/dataLog/queryDataVerList"},DataVersionList:[]}},created:function(){},methods:{addModal:function(e){var t=this,n=e[0].dataTable,r=e[0].dataId,o=e[0].dataVersion,a=e[1].dataVersion;this.dataId1=e[0].id,this.dataId2=e[1].id,this.dataTable1=e[0].dataTable,this.dataID3=e[0].dataId,this.initDataVersionList(),this.form.resetFields(),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue({dataTale:n,dataId:r,dataVersion1:o,dataVersion2:a})})},handleOk:function(){this.close(),this.$refs.modal.compareModal(this.dataId1,this.dataId2),this.$refs.modal.title="数据比较"},handleCancel:function(){this.close()},handleSubmit:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},modalFormOk:function(){},initDataVersionList:function(){var e=this,t=this;Object(a["b"])(t.url.queryDataVerListUrl,{dataTable:this.dataTable1,dataId:this.dataID3}).then(function(t){t.success?e.DataVersionList=t.result:(e.DataVersionList=[],e.dataId1="",e.dataId2="",console.log(t.message))})},handleChange1:function(e){this.dataId1=e},handleChange2:function(e){this.dataId2=e},handleTableBlur:function(e){this.dataTable1=e.target.value,this.initDataVersionList()},handleIdBlur:function(e){this.dataID3=e.target.value,this.initDataVersionList()}}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,"499ee242",null);t["default"]=l.exports},b4e3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典名称",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.queryParam.dictName,callback:function(t){e.$set(e.queryParam,"dictName",t)},expression:"queryParam.dictName"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典编号",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典编号"},model:{value:e.queryParam.dictCode,callback:function(t){e.$set(e.queryParam,"dictCode",t)},expression:"queryParam.dictCode"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1)],1)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("\n            编辑\n          ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.editDictItem(r)}}},[n("a-icon",{attrs:{type:"setting"}}),e._v(" 字典配置")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])],1)}}])})],1),n("dict-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("dict-item-list",{ref:"dictItemList"})],1)},o=[],a=n("5176"),i=n.n(a),s=n("e814"),u=n.n(s),c=n("ca00"),l=n("b65a"),d=n("57ed"),f=n("59a0"),m=n("4ec3"),p={name:"DictList",mixins:[l["a"]],components:{DictModal:d["default"],DictItemList:f["default"]},data:function(){return{description:"这是数据字典页面",visible:!1,queryParam:{dictCode:"",dictName:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:120,align:"center",customRender:function(e,t,n){return u()(n)+1}},{title:"字典名称",align:"left",dataIndex:"dictName"},{title:"字典编号",align:"left",dataIndex:"dictCode"},{title:"描述",align:"left",dataIndex:"description"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],dict:"",labelCol:{xs:{span:8},sm:{span:5}},wrapperCol:{xs:{span:16},sm:{span:19}},url:{list:"/sys/dict/list",delete:"/sys/dict/delete",exportXlsUrl:"sys/dict/exportXls",importExcelUrl:"sys/dict/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getQueryParams:function(){var e=i()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["b"])(e)},handleDel:function(e){var t=this;t.$confirm({title:"确认删除",content:"您确定要删除 "+e.dictName+" 字典类型?",onOk:function(){Object(m["delDict"])({id:e.id}).then(function(e){e.success?(t.$message.success(e.message),t.loadData(),t.cancelDict()):t.$message.warning(e.message)})}})},cancelDict:function(){this.dict="",this.visible=!1,this.loadData()},editDictItem:function(e){this.$refs.dictItemList.edit(e)},searchReset:function(){var e=this;e.queryParam.dictName="",e.queryParam.dictCode="",e.loadData(this.ipagination.current)}},watch:{openKeys:function(e){console.log("openKeys",e)}}},h=p,g=(n("ee3b"),n("2877")),v=Object(g["a"])(h,r,o,!1,null,"60af8ac9",null);t["default"]=v.exports},b644:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("page-layout",{attrs:{title:"单号：234231029431",logo:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}},[r("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[r("detail-list-item",{attrs:{term:"创建人"}},[t._v("曲丽丽")]),r("detail-list-item",{attrs:{term:"订购产品"}},[t._v("XX服务")]),r("detail-list-item",{attrs:{term:"创建时间"}},[t._v("2018-08-07")]),r("detail-list-item",{attrs:{term:"关联单据"}},[r("a",[t._v("12421")])]),r("detail-list-item",{attrs:{term:"生效日期"}},[t._v("2018-08-07 ~ 2018-12-11")]),r("detail-list-item",{attrs:{term:"备注"}},[t._v("请于两个工作日内确认")])],1),r("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("状态")]),r("div",{staticClass:"heading"},[t._v("待审批")])]),r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("订单金额")]),r("div",{staticClass:"heading"},[t._v("¥ 568.08")])])],1),r("template",{slot:"action"},[r("a-button-group",{staticStyle:{"margin-right":"4px"}},[r("a-button",[t._v("操作")]),r("a-button",[t._v("操作")]),r("a-button",[r("a-icon",{attrs:{type:"ellipsis"}})],1)],1),r("a-button",{attrs:{type:"primary"}},[t._v("主操作")])],1),r("a-card",{attrs:{bordered:!1,title:"流程进度"}},[r("a-steps",{attrs:{direction:t.isMobile()?"vertical":"horizontal",current:1,progressDot:""}},[r("a-step",{attrs:{title:"创建项目"}}),r("a-step",{attrs:{title:"部门初审"}}),r("a-step",{attrs:{title:"财务复核"}}),r("a-step",{attrs:{title:"完成"}})],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户信息"}},[r("detail-list",[r("detail-list-item",{attrs:{term:"用户姓名"}},[t._v("付晓晓")]),r("detail-list-item",{attrs:{term:"会员卡号"}},[t._v("32943898021309809423")]),r("detail-list-item",{attrs:{term:"身份证"}},[t._v("3321944288191034921")]),r("detail-list-item",{attrs:{term:"联系方式"}},[t._v("18112345678")]),r("detail-list-item",{attrs:{term:"联系地址"}},[t._v("浙江省杭州市西湖区黄姑山路工专路交叉路口")])],1),r("detail-list",{attrs:{title:"信息组"}},[r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")]),r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")])],1),r("a-card",{attrs:{type:"inner",title:"多层信息组"}},[r("detail-list",{attrs:{title:"组名称",size:"small"}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("林东东")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")]),r("detail-list-item",{attrs:{term:"所属部门"}},[t._v("XX公司-YY部")]),r("detail-list-item",{attrs:{term:"过期时间"}},[t._v("2018-08-08")]),r("detail-list-item",{attrs:{term:"描述"}},[t._v("这段描述很长很长很长很长很长很长很长很长很长很长很长很长很长很长...")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:1}},[r("detail-list-item",{attrs:{term:"学名"}},[t._v("\tCitrullus lanatus (Thunb.) Matsum. et Nakai一年生蔓生藤本；茎、枝粗壮，具明显的棱。卷须较粗..")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:2}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("付小小")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")])],1)],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户近半年来电记录"}},[r("div",{staticClass:"no-data"},[r("a-icon",{attrs:{type:"frown-o"}}),t._v("暂无数据")],1)]),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,tabList:t.tabList,activeTabKey:t.activeTabKey},on:{tabChange:function(t){e.activeTabKey=t}}},["1"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation1,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"2"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation2,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"3"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation3,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e()],1)],2)},o=[],a=n("ac0d"),i=n("b445"),s=n("c16f"),u=s["default"].Item,c={name:"Advanced",components:{PageLayout:i["default"],DetailList:s["default"],DetailListItem:u},mixins:[a["b"]],data:function(){return{tabList:[{key:"1",tab:"操作日志一"},{key:"2",tab:"操作日志二"},{key:"3",tab:"操作日志三"}],activeTabKey:"1",operationColumns:[{title:"操作类型",dataIndex:"type",key:"type"},{title:"操作人",dataIndex:"name",key:"name"},{title:"执行结果",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"备注",dataIndex:"remark",key:"remark"}],operation1:[{key:"op1",type:"订购关系生效",name:"曲丽丽",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"},{key:"op5",type:"创建订单",name:"汗牙牙",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}],operation2:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"}],operation3:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}]}},filters:{statusFilter:function(e){var t={agree:"成功",reject:"驳回"};return t[e]},statusTypeFilter:function(e){var t={agree:"success",reject:"error"};return t[e]}}},l=c,d=(n("9089"),n("2877")),f=Object(d["a"])(l,r,o,!1,null,"2eb569c4",null);t["default"]=f.exports},b65a:function(e,t,n){"use strict";n.d(t,"a",function(){return d});n("7f7f");var r=n("a4bb"),o=n.n(r),a=(n("ac6a"),n("5176")),i=n.n(a),s=n("f499"),u=n.n(s),c=n("ca00"),l=n("0fea"),d={data:function(){return{queryParam:{},dataSource:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},filters:{},loading:!1,selectedRowKeys:[],selectionRows:[],toggleSearchStatus:!1,superQueryFlag:!1,superQueryParams:""}},created:function(){this.loadData(),this.initDictConfig()},methods:{loadData:function(e){var t=this;if(this.url.list){1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["b"])(this.url.list,n).then(function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)})}else this.$message.error("请设置url.list属性!")},initDictConfig:function(){console.log("--这是一个假的方法!")},handleSuperQuery:function(e){e?(this.superQueryFlag=!0,this.superQueryParams=u()(e)):(this.superQueryParams="",this.superQueryFlag=!1),this.loadData()},getQueryParams:function(){var e={};this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams));var t=i()(e,this.queryParam,this.isorter,this.filters);return t.field=this.getQueryField(),t.pageNo=this.ipagination.current,t.pageSize=this.ipagination.pageSize,Object(c["b"])(t)},getQueryField:function(){var e="id,";return this.columns.forEach(function(t){e+=","+t.dataIndex}),e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},searchQuery:function(){this.loadData(1)},superQuery:function(){this.$refs.superQueryModal.show()},searchReset:function(){this.queryParam={},this.loadData(1)},batchDel:function(){if(this.url.deleteBatch)if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(l["a"])(n.url.deleteBatch,{ids:e}).then(function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)})}})}else this.$message.error("请设置url.deleteBatch属性!")},handleDelete:function(e){if(this.url.delete){var t=this;Object(l["a"])(t.url.delete,{id:e}).then(function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)})}else this.$message.error("请设置url.delete属性!")},handleEdit:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑"},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增"},handleTableChange:function(e,t,n){o()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},modalFormOk:function(){this.loadData()},handleDetail:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="详情",this.$refs.modalForm.disableSubmit=!0},handleExportXls:function(){var e=encodeURI(u()(this.getQueryParams())),t="".concat(window._CONFIG["domianURL"],"/").concat(this.url.exportXlsUrl,"?paramsStr=").concat(e);window.location.href=t},handleImportExcel:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(this.$message.success("".concat(e.file.name," 文件上传成功")),this.loadData()):"error"===e.file.status&&this.$message.error("".concat(e.file.name," 文件上传失败."))}}}},b6f5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("div",[n("a-form-item",{attrs:{label:"用户名：","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-input-search",{attrs:{placeholder:"点击右侧按钮选择用户",disabled:""},on:{search:e.onSearch},model:{value:e.userNames,callback:function(t){e.userNames=t},expression:"userNames"}},[n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1)],1)]),n("select-user-list-modal",{ref:"selectUserListModal",on:{ok:e.getUserCallBack}})],1)},o=[],a=n("5d73"),i=n.n(a),s=(n("4ec3"),n("9caf")),u={name:"SelectUserModal",components:{SelectUserListModal:s["default"]},props:["taskId"],data:function(){return{title:"操作",visible:!1,selectUserListVisible:!1,model:{},confirmLoading:!1,userNames:"",userKeys:""}},created:function(){},methods:{open:function(){this.userNames="",this.userKeys="",this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},onSearch:function(){this.$refs.selectUserListModal.open()},getUserCallBack:function(e){console.log(e);var t="",n="",r=!0,o=!1,a=void 0;try{for(var s,u=i()(e);!(r=(s=u.next()).done);r=!0){var c=s.value;t=c.realname+","+t,n=c.username+","+n}}catch(l){o=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}this.userNames=t,this.userKeys=n,console.log("--userkeys--"+this.userKeys)},handleSubmit:function(){console.log("taskId: "+this.taskId),this.$emit("ok",this.userKeys,this.taskId),this.close()}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},b8ad3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请选择订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单金额"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1),n("a-tabs",{on:{change:e.handleChangeTabs},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable1",attrs:{loading:e.table1.loading,columns:e.table1.columns,dataSource:e.table1.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable2",attrs:{loading:e.table2.loading,columns:e.table2.columns,dataSource:e.table2.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1)],1)],1)],1)},o=[],a=n("cebc"),i=(n("6b54"),n("5176")),s=n.n(i),u=n("795b"),c=n.n(u),l=(n("ac6a"),n("5df3"),n("7550")),d=n("e2e0"),f=n("0fea"),m=n("2dab"),p=n("88bc"),h=n.n(p),g=n("c1df"),v=n.n(g),b={name:"JeecgOrderModalForJEditableTable",components:{JDate:m["default"],JEditableTable:l["default"]},data:function(){return{title:"操作",visible:!1,form:this.$form.createForm(this),confirmLoading:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},activeKey:"1",table1:{loading:!1,dataSource:[],columns:[{title:"客户名",key:"name",width:"24%",type:d["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"性别",key:"sex",width:"18%",type:d["a"].select,options:[{title:"男",value:"1"},{title:"女",value:"2"}],defaultValue:"",placeholder:"请选择${title}"},{title:"身份证号",key:"idcard",width:"24%",type:d["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"${title}格式不正确"}]},{title:"手机号",key:"telphone",width:"24%",type:d["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"${title}格式不正确"}]}]},table2:{loading:!1,dataSource:[],columns:[{title:"航班号",key:"ticketCode",width:"40%",type:d["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"航班时间",key:"tickectDate",width:"30%",type:d["a"].date,placeholder:"请选择${title}",defaultValue:""}]},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{getAllTable:function(){return c.a.all([Object(d["c"])(this,"editableTable1"),Object(d["c"])(this,"editableTable2")])},add:function(){this.getAllTable().then(function(e){e[0].add(),e[1].add()}),this.edit({})},edit:function(e){var t=this;if(this.visible=!0,this.activeKey="1",this.form.resetFields(),this.model=s()({},e),this.$nextTick(function(){t.form.setFieldsValue(h()(t.model,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.model.orderDate?v()(t.model.orderDate):null})}),this.model.id){var n={id:this.model.id};this.requestTableData(this.url.orderCustomerList,n,this.table1),this.requestTableData(this.url.orderTicketList,n,this.table2)}},close:function(){this.visible=!1,this.getAllTable().then(function(e){e[0].initialize(),e[1].initialize()}),this.$emit("close")},requestTableData:function(e,t,n){n.loading=!0,Object(f["b"])(e,t).then(function(e){n.dataSource=e.result||[]}).finally(function(){n.loading=!1})},handleOk:function(){this.validateFields()},handleCancel:function(){this.close()},handleChangeTabs:function(e){Object(d["c"])(this,"editableTable".concat(e)).then(function(e){e.resetScrollTop()})},validateFields:function(){var e=this;this.getAllTable().then(function(t){return Object(d["d"])(e.form,t)}).then(function(t){var n=e.classifyIntoFormData(t);return e.requestAddOrEdit(n)}).catch(function(t){t.error===d["b"]?e.activeKey=null==t.index?e.activeKey:(t.index+1).toString():console.error(t)})},classifyIntoFormData:function(e){var t=s()(this.model,e.formValue);return t.orderDate=t.orderDate?t.orderDate.format("YYYY-MM-DD HH:mm:ss"):null,Object(a["a"])({},t,{jeecgOrderCustomerList:e.tablesValue[0].values,jeecgOrderTicketList:e.tablesValue[1].values})},requestAddOrEdit:function(e){var t=this,n=this.url.add,r="post";this.model.id&&(n=this.url.edit,r="put"),this.confirmLoading=!0,Object(f["f"])(n,e,r).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1})}}},y=b,w=n("2877"),x=Object(w["a"])(y,r,o,!1,null,"69b37a74",null);t["default"]=x.exports},b8c5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},o=[],a={name:"Project"},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"35407015",null);t["default"]=u.exports},b8ea:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},o=[],a=n("fe2b"),i=n("a6b6"),s={name:"Article",components:{AList:a["b"],AListItem:i["a"]}},u=s,c=n("2877"),l=Object(c["a"])(u,r,o,!1,null,"226554db",null);t["default"]=l.exports},b8fa:function(e,t,n){},b90e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:e.drawerWidth,visible:e.visible,confirmLoading:e.confirmLoading,wrapStyle:{height:"calc(100% - 108px)",overflow:"auto",paddingBottom:"108px"}},on:{close:e.handleCancel}},[n("div",{style:{width:"100%",border:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff"}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"菜单类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuType",{initialValue:0}],expression:"['menuType',{'initialValue':0}]"}],on:{change:e.onChangeMenuType}},[n("a-radio",{attrs:{value:0}},[e._v("一级菜单")]),n("a-radio",{attrs:{value:1}},[e._v("子菜单")]),n("a-radio",{attrs:{value:2}},[e._v("按钮/数据权限")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:e.menuLabel,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]"}],attrs:{placeholder:"请输入菜单名称",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.localMenuType,expression:"localMenuType!=0"}],attrs:{label:"上级菜单",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"请选择父级菜单",disabled:e.disableSubmit},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单路径"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{}],expression:"[ 'url',{}]"}],attrs:{placeholder:"请输入菜单路径",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"前端组件"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["component",{}],expression:"[ 'component', {}]"}],attrs:{placeholder:"请输入前端组件",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.localMenuType,expression:"localMenuType==0"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"默认跳转地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["redirect",{}],expression:"[ 'redirect',{}]"}],attrs:{placeholder:"请输入路由参数 redirect",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"授权标识"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["perms",{}],expression:"[ 'perms', {}]"}],attrs:{placeholder:"多个用逗号分隔, 如: user:list,user:create",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单图标"}},[n("a-input",{attrs:{placeholder:"点击右侧按钮选择图标",readOnly:e.disableSubmit},model:{value:e.model.icon,callback:function(t){e.$set(e.model,"icon",t)},expression:"model.icon"}},[n("a-icon",{attrs:{slot:"addonAfter",type:"setting"},on:{click:e.selectIcons},slot:"addonAfter"})],1)],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",{initialValue:1,rule:e.validatorRules.sortNo}],expression:"[ 'sortNo', {'initialValue':1.0,'rule':validatorRules.sortNo}]"}],staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜单排序",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否路由菜单"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.routeSwitch,callback:function(t){e.routeSwitch=t},expression:"routeSwitch"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"隐藏路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.menuHidden,callback:function(t){e.menuHidden=t},expression:"menuHidden"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"聚合路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.alwaysShow,callback:function(t){e.alwaysShow=t},expression:"alwaysShow"}})],1)],1),n("icons",{attrs:{iconChooseVisible:e.iconChooseVisible},on:{choose:e.handleIconChoose,close:e.handleIconCancel}})],1),n("a-row",{style:{textAlign:"right"}},[n("a-button",{style:{marginRight:"8px"},on:{click:e.handleCancel}},[e._v("\n        关闭\n      ")]),n("a-button",{attrs:{disabled:e.disableSubmit,type:"primary"},on:{click:e.handleOk}},[e._v("确定")])],1)],1)])},o=[],a=(n("3b2b"),n("5176")),i=n.n(a),s=n("4ec3"),u=n("11cb"),c=n("88bc"),l=n.n(c),d={name:"PermissionModal",components:{Icons:u["default"]},data:function(){return{drawerWidth:700,treeData:[],treeValue:"0-0-4",title:"操作",visible:!1,disableSubmit:!1,model:{},localMenuType:"1",alwaysShow:!1,menuHidden:!1,routeSwitch:!0,show:!0,menuLabel:"菜单名称",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入菜单标题!"}]},sortNo:{rules:[{validator:this.validateNumber}]}},iconChooseVisible:!1}},created:function(){},methods:{loadTree:function(){var e=this;Object(s["E"])().then(function(t){if(t.success){console.log("----queryTreeList---"),console.log(t),e.treeData=[];for(var n=t.result.treeList,r=0;r<n.length;r++){var o=n[r];o.isLeaf=o.leaf,e.treeData.push(o)}}})},add:function(){this.edit()},edit:function(e){var t=this;this.resetScreenSize(),this.form.resetFields(),this.model=i()({},e),e?(console.log(e),this.alwaysShow=!!e.alwaysShow,this.menuHidden=!!e.hidden,this.routeSwitch=e.route,this.show=2!=e.menuType,this.menuLabel=2==e.menuType?"按钮/权限名称":"菜单名称",this.model.parentId?this.localMenuType=1:this.localMenuType=0):(this.model.parentId?this.localMenuType=1:this.localMenuType=0,this.show=!0,this.menuLabel="菜单名称"),this.visible=!0,this.loadTree();var n=l()(this.model,"name","perms","component","url","sortNo","menuType");this.$nextTick(function(){t.form.setFieldsValue(n)})},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0,e.model.alwaysShow=e.alwaysShow,e.model.hidden=e.menuHidden,e.model.route=e.routeSwitch;var o,a=i()(e.model,r);console.log(a),o=e.model.id?Object(s["q"])(a):Object(s["c"])(a),o.then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},validateNumber:function(e,t,n){!t||new RegExp(/^[0-9]*[1-9][0-9]*$/).test(t)?n():n("请输入正整数!")},onChangeMenuType:function(e){console.log("localMenuType checked",e.target.value),this.localMenuType=e.target.value,2==e.target.value?(this.show=!1,this.menuLabel="按钮/权限名称"):(this.show=!0,this.menuLabel="菜单名称")},selectIcons:function(){this.iconChooseVisible=!0},handleIconCancel:function(){this.iconChooseVisible=!1},handleIconChoose:function(e){console.log(e),this.model.icon=e,this.form.icon=e,this.iconChooseVisible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700}}},f=d,m=n("2877"),p=Object(m["a"])(f,r,o,!1,null,"5797d912",null);t["default"]=p.exports},b9e9:function(e,t,n){n("7445"),e.exports=n("584a").parseInt},ba54:function(e,t,n){},ba8f:function(e,t,n){},bbd6:function(e,t,n){},bbec:function(e,t,n){"use strict";var r=n("ba8f"),o=n.n(r);o.a},be9c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"date"==e.item.view?n("a-form-item",{attrs:{label:e.item.label}},[e.single_mode===e.item.mode?[n("j-date",{attrs:{placeholder:"请选择"+e.item.label},model:{value:e.queryParam[e.item.field],callback:function(t){e.$set(e.queryParam,e.item.field,t)},expression:"queryParam[item.field]"}})]:[n("j-date",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请选择开始日期"},model:{value:e.queryParam[e.item.field+"_begin"],callback:function(t){e.$set(e.queryParam,e.item.field+"_begin",t)},expression:"queryParam[item.field+'_begin']"}}),n("span",{staticClass:"group-query-strig"},[e._v("~")]),n("j-date",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请选择结束日期"},model:{value:e.queryParam[e.item.field+"_end"],callback:function(t){e.$set(e.queryParam,e.item.field+"_end",t)},expression:"queryParam[item.field+'_end']"}})]],2):"datetime"==e.item.view?n("a-form-item",{attrs:{label:e.item.label}},[e.single_mode===e.item.mode?[n("j-date",{attrs:{placeholder:"请选择"+e.item.label,"show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:e.queryParam[e.item.field],callback:function(t){e.$set(e.queryParam,e.item.field,t)},expression:"queryParam[item.field]"}})]:[n("j-date",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请选择开始时间","show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:e.queryParam[e.item.field+"_begin"],callback:function(t){e.$set(e.queryParam,e.item.field+"_begin",t)},expression:"queryParam[item.field+'_begin']"}}),n("span",{staticClass:"group-query-strig"},[e._v("~")]),n("j-date",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请选择开始时间","show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:e.queryParam[e.item.field+"_end"],callback:function(t){e.$set(e.queryParam,e.item.field+"_end",t)},expression:"queryParam[item.field+'_end']"}})]],2):"list"==e.item.view||"radio"==e.item.view?n("a-form-item",{attrs:{label:e.item.label}},[n("a-select",{attrs:{placeholder:"请选择"+e.item.label},model:{value:e.queryParam[e.item.field],callback:function(t){e.$set(e.queryParam,e.item.field,t)},expression:"queryParam[item.field]"}},e._l(e.dictOptions[e.item.field],function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),1)],1):"checkbox"==e.item.view?n("a-form-item",{attrs:{label:e.item.label}},[n("j-select-multiple",{attrs:{placeholder:"请选择"+e.item.label,options:e.dictOptions[e.item.field]},model:{value:e.queryParam[e.item.field],callback:function(t){e.$set(e.queryParam,e.item.field,t)},expression:"queryParam[item.field]"}})],1):n("a-form-item",{attrs:{label:e.item.label}},[e.single_mode===e.item.mode?[n("a-input",{attrs:{placeholder:"请输入"+e.item.label},model:{value:e.queryParam[e.item.field],callback:function(t){e.$set(e.queryParam,e.item.field,t)},expression:"queryParam[item.field]"}})]:[n("a-input",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请输入开始"+e.item.label},model:{value:e.queryParam[e.item.field+"_begin"],callback:function(t){e.$set(e.queryParam,e.item.field+"_begin",t)},expression:"queryParam[item.field+'_begin']"}}),n("span",{staticClass:"group-query-strig"},[e._v("~")]),n("a-input",{staticStyle:{width:"calc(50% - 15px)"},attrs:{placeholder:"请输入结束"+e.item.label},model:{value:e.queryParam[e.item.field+"_end"],callback:function(t){e.$set(e.queryParam,e.item.field+"_end",t)},expression:"queryParam[item.field+'_end']"}})]],2)},o=[],a=n("2dab"),i=n("13d2"),s={name:"OnlineQueryFormItem",props:{item:{type:Object,default:function(){},required:!0},dictOptions:{type:Object,default:function(){},required:!0},queryParam:{type:Object,default:function(){},required:!0}},components:{JDate:a["default"],JSelectMultiple:i["default"]},data:function(){return{single_mode:"single"}}},u=s,c=(n("79f4"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"25010d86",null);t["default"]=l.exports},bf0e:function(e,t,n){"use strict";var r=n("8f82"),o=n.n(r);o.a},bf13:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-mini-progress"},[n("div",{staticClass:"target",style:{left:e.target+"%"}},[n("span",{style:{backgroundColor:e.color}}),n("span",{style:{backgroundColor:e.color}})]),n("div",{staticClass:"progress-wrapper"},[n("div",{staticClass:"progress",style:{backgroundColor:e.color,width:e.percentage+"%",height:e.height+"px"}})])])},o=[],a=(n("c5f6"),{name:"MiniProgress",props:{target:{type:Number,default:0},height:{type:Number,default:10},color:{type:String,default:"#13C2C2"},percentage:{type:Number,default:0}}}),i=a,s=(n("8500"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"83beb760",null);t["default"]=u.exports},c047:function(e,t,n){},c06c:function(e,t,n){"use strict";var r=n("c232"),o=n.n(r);o.a},c1af:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,ok:!1,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称",hidden:!1,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{id:"departName",placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,hidden:e.seen,label:"上级部门",hasFeedback:""}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门",disabled:e.condition},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile',validatorRules.mobile]"}],attrs:{placeholder:"请输入电话"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"传真"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fax",{}],expression:"['fax', {}]"}],attrs:{placeholder:"请输入传真"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],attrs:{placeholder:"请输入备注"}})],1)],1)],1)],1)},o=[],a=(n("3b2b"),n("6b54"),n("5176")),i=n.n(a),s=n("0fea"),u=n("4ec3"),c=n("88bc"),l=n.n(c),d=n("261e"),f={name:"SysDepartModal",components:{ATextarea:d["a"]},data:function(){return{departTree:[],orgTypeData:[],phoneWarning:"",departName:"",title:"操作",seen:!1,visible:!1,condition:!0,disableSubmit:!1,model:{},menuhidden:!1,menuusing:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{add:"/sysdepart/sysDepart/add"}}},created:function(){},methods:{loadTreeData:function(){var e=this;Object(u["A"])().then(function(t){if(t.success){e.departTree=[];for(var n=0;n<t.result.length;n++){var r=t.result[n];e.departTree.push(r)}}})},add:function(e){this.seen=!e,this.edit(e)},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},{}),this.visible=!0,this.loadTreeData(),this.model.parentId=null!=e?e.toString():null,this.$nextTick(function(){t.form.setFieldsValue(l()(t.model,"departName","departNameEn","departNameAbbr","departOrder","description","orgType","orgCode","mobile","fax","address","memo","status","delFlag"))})},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o=i()(e.model,r);console.log(o),Object(s["f"])(e.url.add,o,"post").then(function(e){e.success?(t.$message.success(e.message),t.loadTreeData(),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")}}},m=f,p=n("2877"),h=Object(p["a"])(m,r,o,!1,null,"1298bd7c",null);t["default"]=h.exports},c232:function(e,t,n){},c298:function(e,t,n){"use strict";var r=n("c77d"),o=n.n(r);o.a},c2a5:function(e,t,n){},c338:function(e,t,n){"use strict";var r=n("48f3"),o=n.n(r);o.a},c34c:function(e,t,n){"use strict";var r=n("596d"),o=n.n(r);o.a},c436:function(e,t,n){},c63e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"部门搜索",confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree",{attrs:{multiple:"",treeCheckable:"tree",checkable:"",checkedKeys:e.checkedKeys,allowClear:"true",checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门"},on:{check:e.onCheck}})],1)],1)]],2)},o=[],a=n("5176"),i=n.n(a),s=n("88bc"),u=n.n(s),c=n("0fea"),l=n("4ec3"),d=n("418f"),f={name:"DepartWindow",components:{userModal:d["default"]},data:function(){return{checkedKeys:[],userId:"",model:{},userDepartModel:{userId:"",departIdList:[]},departList:[],modalWidth:400,departTree:[],title:"操作",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{userId:"/sys/user/generateUserId"}}},methods:{add:function(e,t){this.checkedKeys=e,this.userId=t,this.edit({})},edit:function(e){var t=this;this.departList=[],this.queryDepartTree(),this.form.resetFields(),this.visible=!0,this.model=i()({},e);var n=u()(this.model,"id","userId","departIdList");this.$nextTick(function(){t.form.setFieldsValue(n)})},close:function(){this.$emit("close"),this.visible=!1,this.departList=[],this.checkedKeys=[]},handleSubmit:function(){var e=this,t=this;this.form.validateFields(function(n){if(!n)if(t.confirmLoading=!0,null==e.userId)Object(c["b"])(e.url.userId).then(function(n){if(n.success){var r={userId:n.result,departIdList:e.departList};console.log(r),t.$emit("ok",r)}}).finally(function(){t.departList=[],t.confirmLoading=!1,t.close()});else{var r={userId:e.userId,departIdList:e.departList};console.log(r),t.departList=[],t.$emit("ok",r),t.confirmLoading=!1,t.close()}})},handleCancel:function(){this.close()},onCheck:function(e,t){this.departList=[],this.checkedKeys=e.checked;for(var n=t.checkedNodes,r=0;r<n.length;r++){var o=n[r].data.props,a={key:"",value:"",title:""};a.key=o.value,a.value=o.value,a.title=o.title,this.departList.push(a)}console.log("onCheck",e,t)},queryDepartTree:function(){var e=this;Object(l["A"])().then(function(t){t.success&&(e.departTree=t.result)})},modalFormOk:function(){}}},m=f,p=(n("c298"),n("2877")),h=Object(p["a"])(m,r,o,!1,null,"214a8dc7",null);t["default"]=h.exports},c751:function(e,t,n){},c77d:function(e,t,n){},c943:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{}],expression:"['name', {}]"}],attrs:{placeholder:"请输入姓名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键词",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyWord",{}],expression:"['keyWord', {}]"}],attrs:{placeholder:"请输入关键词"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"打卡时间",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["punchTime",{}],expression:"[ 'punchTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"sex"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"年龄",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["age",{}],expression:"['age', {}]"}],attrs:{placeholder:"请输入年龄"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生日",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{}],expression:"[ 'birthday', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"邮箱",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{}],expression:"['email', {}]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"个人简介",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入个人简介"}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l=n("c1df"),d=n.n(l),f={name:"JeecgDemoModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(c()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?d()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?d()(t.model.birthday):null})})},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);u.punchTime=u.punchTime?u.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,u.birthday=u.birthday?u.birthday.format():null,console.log(u),Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}},m=f,p=n("2877"),h=Object(p["a"])(m,r,o,!1,null,"31237ccc",null);t["default"]=h.exports},c984:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticStyle:{float:"left"}},[e._t("extra")],2),n("div",{staticStyle:{float:"right"}},[e._t("default")],2)])},o=[],a={name:"FooterToolBar"},i=a,s=(n("91a8"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"b834ebf2",null);t["default"]=u.exports},c9c2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:12,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-row",{staticStyle:{"margin-left":"14px"}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(2)}}},[e._v("添加子部门")]),n("a-button",{attrs:{type:"default"},on:{click:function(t){return e.handleAdd(1)}}},[e._v("添加一级部门")]),n("a-button",{attrs:{title:"删除多条数据",type:"default"},on:{click:e.batchDel}},[e._v("批量删除")]),n("a-button",{attrs:{type:"default",icon:"reload",loading:e.loading},on:{click:e.refresh}},[e._v("刷新")])],1),n("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n            当前选择：\n            "),this.currSelected.title?n("a",[e._v(e._s(e.getCurrSelectedTitle()))]):e._e(),this.currSelected.title?n("a",{staticStyle:{"margin-left":"10px"},on:{click:e.onClearSelected}},[e._v("取消选择")]):e._e()])]),n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入部门名称"},on:{search:e.onSearch}}),n("a-col",{attrs:{md:10,sm:24}},[[n("a-dropdown",{attrs:{trigger:[this.dropTrigger]},on:{visibleChange:e.dropStatus}},[n("span",{staticStyle:{"user-select":"none"}},[n("a-tree",{attrs:{checkable:"",multiple:"",selectedKeys:e.selectedKeys,checkedKeys:e.checkedKeys,treeData:e.departTree,checkStrictly:!0,expandedKeys:e.iExpandedKeys,autoExpandParent:e.autoExpandParent},on:{select:e.onSelect,check:e.onCheck,rightClick:e.rightHandle,expand:e.onExpand}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.handleAdd(3)}}},[e._v("添加")]),n("a-menu-item",{key:"2",on:{click:e.handleDelete}},[e._v("删除")]),n("a-menu-item",{key:"3",on:{click:e.closeDrop}},[e._v("取消")])],1)],1)]],2)],1)],1)],1),n("a-col",{attrs:{md:12,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,disabled:e.disable,placeholder:"无"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:""}],expression:"['mobile', {'initialValue':''}]"}],attrs:{placeholder:"请输入手机号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{initialValue:""}],expression:"['address', {'initialValue':''}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{initialValue:""}],expression:"['memo', {'initialValue':''}]"}],attrs:{placeholder:"请输入备注"}})],1)],1),n("div",{staticClass:"anty-form-btn"},[n("a-button",{attrs:{type:"default",htmlType:"button",icon:"sync"},on:{click:e.emptyCurrForm}},[e._v("重置")]),n("a-button",{attrs:{type:"primary",htmlType:"button",icon:"form"},on:{click:e.submitCurrForm}},[e._v("修改并保存")])],1)],1)],1),n("depart-modal",{ref:"departModal",on:{ok:e.loadTree}})],1)},o=[],a=(n("7f7f"),n("5176")),i=n.n(a),s=n("c1af"),u=n("88bc"),c=n.n(u),l=n("4ec3"),d=n("0fea"),f=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],m={name:"DepartList",components:{DepartModal:s["default"]},data:function(){return{iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:"",currFlowName:"",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:"",hiding:!0,model:{},dropTrigger:"",depart:{},columns:f,disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]},validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{delete:"/sysdepart/sysDepart/delete",edit:"/sysdepart/sysDepart/edit",deleteBatch:"/sysdepart/sysDepart/deleteBatch"}}},methods:{loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(l["z"])().then(function(n){if(n.success){for(var r=0;r<n.result.length;r++){var o=n.result[r];t.treeData.push(o),t.departTree.push(o),t.setThisExpandedKeys(o),console.log(o.id)}e.loading=!1}})},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},refresh:function(){this.loading=!0,this.loadTree()},rightHandle:function(e){this.dropTrigger="contextmenu",console.log(e.node.eventKey),this.rightClickSelectedKey=e.node.eventKey},onExpand:function(e){console.log("onExpand",e),this.iExpandedKeys=e,this.autoExpandParent=!1},backFlowList:function(){this.$router.back(-1)},dropStatus:function(e){0==e&&(this.dropTrigger="")},closeDrop:function(){this.dropTrigger=""},addRootNode:function(){this.$refs.nodeModal.add(this.currFlowId,"")},batchDel:function(){if(console.log(this.checkedKeys),this.checkedKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.checkedKeys.length;t++)e+=this.checkedKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"确定要删除所选中的 "+this.checkedKeys.length+" 条数据?",onOk:function(){Object(d["a"])(n.url.deleteBatch,{ids:e}).then(function(e){e.success?(n.$message.success(e.message),n.loadTree(),n.onClearSelected()):n.$message.warning(e.message)})}})}},onSearch:function(e){var t=this;e?Object(l["L"])({keyWord:e}).then(function(e){if(e.success){t.departTree=[];for(var n=0;n<e.result.length;n++){var r=e.result[n];t.departTree.push(r)}}else t.$message.warning(e.message)}):t.loadTree()},nodeModalOk:function(){this.loadTree()},nodeModalClose:function(){},hide:function(){console.log(111),this.visible=!1},onCheck:function(e,t){console.log("onCheck",e,t),this.hiding=!1,this.checkedKeys=e.checked},onSelect:function(e,t){console.log("selected",e,t),this.hiding=!1;var n=t.node.dataRef;console.log("onSelect-record",n),this.currSelected=i()({},n),this.model=this.currSelected,this.selectedKeys=[n.key],this.model.parentId=n.parentId,this.setValuesToForm(n)},setValuesToForm:function(e){this.form.getFieldDecorator("fax",{initialValue:""}),this.form.setFieldsValue(c()(e,"departName","departOrder","mobile","fax","address","memo"))},getCurrSelectedTitle:function(){return this.currSelected.title?this.currSelected.title:""},onClearSelected:function(){this.hiding=!0,this.checkedKeys={},this.currSelected={},this.form.resetFields(),this.selectedKeys=[]},handleNodeTypeChange:function(e){this.currSelected.nodeType=e},notifyTriggerTypeChange:function(e){this.currSelected.notifyTriggerType=e},receiptTriggerTypeChange:function(e){this.currSelected.receiptTriggerType=e},submitCurrForm:function(){var e=this;this.form.validateFields(function(t,n){if(!t){if(!e.currSelected.id)return void e.$message.warning("请点击选择要修改部门!");var r=i()(e.currSelected,n);console.log("Received values of form: ",r),Object(d["f"])(e.url.edit,r,"put").then(function(t){t.success&&(e.$message.success("保存成功!"),e.loadTree())})}})},emptyCurrForm:function(){this.form.resetFields()},nodeSettingFormSubmit:function(){this.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},openSelect:function(){this.$refs.sysDirectiveModal.show()},handleAdd:function(e){if(1==e)this.$refs.departModal.add(),this.$refs.departModal.title="新增";else if(2==e){var t=this.currSelected.key;if(!t)return this.$message.warning("请先选中一条记录!"),!1;this.$refs.departModal.add(this.selectedKeys),this.$refs.departModal.title="新增"}else this.$refs.departModal.add(this.rightClickSelectedKey),this.$refs.departModal.title="新增"},handleDelete:function(){var e=this;Object(l["k"])({id:this.rightClickSelectedKey}).then(function(t){t.success?(e.$message.success("删除成功!"),e.loadTree()):e.$message.warning("删除失败!")})},selectDirectiveOk:function(e){console.log("选中指令数据",e),this.nodeSettingForm.setFieldsValue({directiveCode:e.directiveCode}),this.currSelected.sysCode=e.sysCode},getFlowGraphData:function(e){if(this.graphDatasource.nodes.push({id:e.id,text:e.flowNodeName}),e.children.length>0)for(var t=0;t<e.children.length;t++){var n=e.children[t];this.graphDatasource.edges.push({source:e.id,target:n.id}),this.getFlowGraphData(n)}}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name,this.loadTree()}},p=m,h=(n("fd2f"),n("2877")),g=Object(h["a"])(p,r,o,!1,null,"73d1de80",null);t["default"]=g.exports},c9e7:function(e,t,n){"use strict";var r=n("dd2a"),o=n.n(r);o.a},ca7e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[e.queryInfo&&e.queryInfo.length>0?n("a-row",{attrs:{gutter:24}},[e._l(e.queryInfo,function(t,r){return["1"===t.hidden?[n("a-col",{directives:[{name:"show",rawName:"v-show",value:e.toggleSearchStatus,expression:"toggleSearchStatus"}],key:"query"+r,attrs:{md:6,sm:8}},[n("onl-cgreport-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1)]:[n("a-col",{key:"query"+r,attrs:{md:6,sm:8}},[n("onl-cgreport-query-form-item",{attrs:{queryParam:e.queryParam,item:t,dictOptions:e.dictOptions}})],1)]]}),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchByQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2):e._e()],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-bottom":"10px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.exportExcel}},[e._v("导出")])],1),n("a-table",{ref:"table",staticStyle:{"min-height":"300px"},attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.table.columns,dataSource:e.table.dataSource,pagination:e.table.pagination,loading:e.table.loading,rowSelection:{selectedRowKeys:e.table.selectedRowKeys,onChange:e.handleChangeInTableSelect}},on:{change:e.handleChangeInTable}})],1)},o=[],a=n("a4bb"),i=n.n(a),s=n("5176"),u=n.n(s),c=(n("c5f6"),n("768b")),l=n("795b"),d=n.n(l),f=(n("ac6a"),n("5df3"),n("0fea")),m=n("be9c"),p=n("ca00"),h={name:"OnlCgreportAutoList",components:{OnlCgreportQueryFormItem:m["default"]},data:function(){return{queryInfo:[],queryParam:{},sorter:{column:"createTime",order:"desc"},dictOptions:{},toggleSearchStatus:!1,reportCode:"",description:"在线报表功能测试页面",url:{getColumns:"/online/cgreport/api/getColumns/",getData:"/online/cgreport/api/getData/",getQueryInfo:"/online/cgreport/api/getQueryInfo/"},table:{loading:!0,columns:[],dataSource:[],selectedRowKeys:[],selectionRows:[],pagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0}}}},mounted:function(){this.loadData(),this.initQueryInfo()},watch:{$route:function(e,t){this.loadData(),this.initQueryInfo()}},methods:{initQueryInfo:function(){var e=this;Object(f["b"])("".concat(this.url.getQueryInfo).concat(this.reportCode)).then(function(t){console.log("获取查询条件",t),t.success?e.queryInfo=t.result:e.$message.warning(t.message)})},loadData:function(e){var t=this;1==e&&(this.table.pagination.current=1);var n=this.getQueryParams();console.log(n),this.reportCode=this.$route.params.code,console.log(" 动态报表 reportCode ： "+this.reportCode),this.table.loading=!0,d.a.all([Object(f["b"])("".concat(this.url.getColumns).concat(this.reportCode)),Object(f["b"])("".concat(this.url.getData).concat(this.reportCode),n)]).then(function(e){var n=Object(c["a"])(e,2),r=n[0].result.columns,o=n[1].result;t.table.columns=r,o?(t.table.pagination.total=Number(o.total),t.table.dataSource=o.records):(t.table.pagination.total=0,t.table.dataSource=[])}).catch(function(e){console.error(e),t.$message.error("查询失败")}).then(function(){t.table.loading=!1})},getQueryParams:function(){var e=u()({},this.queryParam,this.sorter);return e.pageNo=this.table.pagination.current,e.pageSize=this.table.pagination.pageSize,Object(p["b"])(e)},searchByQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},exportExcel:function(){var e="".concat(window._CONFIG["domianURL"],"/online/cgreport/api/exportXls/").concat(this.reportCode);window.location.href=e},handleChangeInTableSelect:function(e,t){this.table.selectedRowKeys=e,this.table.selectionRows=t},handleChangeInTable:function(e,t,n){i()(n).length>0&&(this.sorter.column=n.field,this.sorter.order="ascend"==n.order?"asc":"desc"),this.table.pagination=e,this.loadData()}}},g=h,v=(n("836c"),n("2877")),b=Object(v["a"])(g,r,o,!1,null,"7ba3e751",null);t["default"]=b.exports},ca7f:function(e,t,n){"use strict";var r=n("4f56"),o=n.n(r);o.a},cc89:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"404"}})},o=[],a=n("0673"),i={components:{ExceptionPage:a["default"]}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"ec864426",null);t["default"]=c.exports},cd07:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[n("div",{staticClass:"account-settings-info-main",class:e.device,style:"min-height:"+e.mainInfoHeight},[n("div",{staticClass:"account-settings-info-left"},[n("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",defaultSelectedKeys:e.defaultSelectedKeys,type:"inner"},on:{openChange:e.onOpenChange}},[n("a-menu-item",{key:"/account/settings/base"},[n("router-link",{attrs:{to:{name:"account-settings-base"}}},[e._v("\n              基本设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/security"},[n("router-link",{attrs:{to:{name:"account-settings-security"}}},[e._v("\n              安全设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/custom"},[n("router-link",{attrs:{to:{name:"account-settings-custom"}}},[e._v("\n              个性化\n            ")])],1),n("a-menu-item",{key:"/account/settings/binding"},[n("router-link",{attrs:{to:{name:"account-settings-binding"}}},[e._v("\n              账户绑定\n            ")])],1),n("a-menu-item",{key:"/account/settings/notification"},[n("router-link",{attrs:{to:{name:"account-settings-notification"}}},[e._v("\n              新消息通知\n            ")])],1)],1)],1),n("div",{staticClass:"account-settings-info-right"},[n("div",{staticClass:"account-settings-info-title"},[n("span",[e._v(e._s(e.$route.meta.title))])]),n("route-view")],1)])])],1)},o=[],a=n("b445"),i=n("501f"),s=n("ac0d"),u={components:{RouteView:i["default"],PageLayout:a["default"]},mixins:[s["b"]],data:function(){return{mode:"inline",mainInfoHeight:"100%",openKeys:[],defaultSelectedKeys:[],preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]},pageTitle:""}},created:function(){this.updateMenu()},mounted:function(){this.mainInfoHeight=window.innerHeight-285+"px"},methods:{onOpenChange:function(e){this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat();this.defaultSelectedKeys=[e.pop().path]}}},c=u,l=(n("2bcd"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"10979fbf",null);t["default"]=d.exports},cd43:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"仓库名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.name",{rules:[{required:!0,message:"请输入仓库名称",whitespace:!0}]}],expression:"[\n            'repository.name',\n            {rules: [{ required: true, message: '请输入仓库名称', whitespace: true}]}\n          ]"}],attrs:{placeholder:"请输入仓库名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"仓库域名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.domain",{rules:[{required:!0,message:"请输入仓库域名",whitespace:!0},{validator:e.validate}]}],expression:"[\n            'repository.domain',\n            {rules: [{ required: true, message: '请输入仓库域名', whitespace: true}, {validator: validate}]}\n          ]"}],attrs:{addonBefore:"http://",addonAfter:".com",placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库管理员"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.manager",{rules:[{required:!0,message:"请选择管理员"}]}],expression:"[ 'repository.manager', {rules: [{ required: true, message: '请选择管理员'}]} ]"}],attrs:{placeholder:"请选择管理员"}},[n("a-select-option",{attrs:{value:"王同学"}},[e._v("王同学")]),n("a-select-option",{attrs:{value:"李同学"}},[e._v("李同学")]),n("a-select-option",{attrs:{value:"黄同学"}},[e._v("黄同学")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"审批人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.auditor",{rules:[{required:!0,message:"请选择审批员"}]}],expression:"[ 'repository.auditor', {rules: [{ required: true, message: '请选择审批员'}]} ]"}],attrs:{placeholder:"请选择审批员"}},[n("a-select-option",{attrs:{value:"王晓丽"}},[e._v("王晓丽")]),n("a-select-option",{attrs:{value:"李军"}},[e._v("李军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"生效日期"}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.effectiveDate",{rules:[{required:!0,message:"请选择生效日期"}]}],expression:"[\n            'repository.effectiveDate',\n            {rules: [{ required: true, message: '请选择生效日期'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.type",{rules:[{required:!0,message:"请选择仓库类型"}]}],expression:"[\n            'repository.type',\n            {rules: [{ required: true, message: '请选择仓库类型'}]}\n          ]"}],attrs:{placeholder:"请选择仓库类型"}},[n("a-select-option",{attrs:{value:"公开"}},[e._v("公开")]),n("a-select-option",{attrs:{value:"私密"}},[e._v("私密")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},o=[],a={name:"RepositoryForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})})},validate:function(e,t,n){var r=/^user-(.*)$/;r.test(t)||n("需要以 user- 开头"),n()}}},i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"cba1edea",null);t["default"]=u.exports},cdd9:function(e,t){(function(){(function(e){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},r=function(e){return function(){return e}},o=function(e){return e},a=function(e){return function(){throw new Error(e)}},i=r(!1),s=r(!0),u=i,c=s,l=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},o=function(){},a=function(){return null},i=function(){},s={fold:function(e,t){return e()},is:u,isSome:u,isNone:c,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a,getOrUndefined:i,or:n,orThunk:t,map:l,ap:l,each:o,bind:l,flatten:l,exists:u,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(s),s}(),f=function(e){var t=function(){return e},n=function(){return a},r=function(t){return f(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:u,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(l,function(t){return f(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:d},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(u,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},m=function(e){return null===e||void 0===e?d:f(e)},p={some:f,none:l,from:m},h=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},g=function(e){return function(t){return h(t)===e}},v=g("string"),b=g("object"),y=g("function"),w=g("number"),x=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},C=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return p.some(o)}return p.none()},S=Array.prototype.push,k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t},_=Array.prototype.slice,T=function(e){return 0===e.length?p.none():p.some(e[0])},O=(y(Array.from)&&Array.from,function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)}),E=function(t){var n=p.none(),r=[],o=function(e){return E(function(t){a(function(n){t(e(n))})})},a=function(e){s()?c(e):r.push(e)},i=function(e){n=p.some(e),u(r),r=[]},s=function(){return n.isSome()},u=function(e){x(e,c)},c=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(i),{get:a,map:o,isReady:s}},D=function(e){return E(function(t){t(e)})},R={nu:E,pure:D},N=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;e.setTimeout(function(){t.apply(o,n)},0)}},I=function(e){var t=function(t){e(N(t))},n=function(e){return I(function(n){t(function(t){var r=e(t);n(r)})})},r=function(e){return I(function(n){t(function(t){e(t).get(n)})})},o=function(e){return I(function(n){t(function(t){e.get(n)})})},a=function(){return R.nu(t)},i=function(){var e=null;return I(function(t){null===e&&(e=a()),e.get(t)})};return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,get:t}},A=function(e){return I(function(t){t(e)})},M={nu:I,pure:A},B=function(e){var t=function(t){return e===t},n=function(t){return B(e)},o=function(t){return B(e)},a=function(t){return B(t(e))},u=function(t){return B(e)},c=function(t){t(e)},l=function(t){return t(e)},d=function(t,n){return n(e)},f=function(t){return t(e)},m=function(t){return t(e)},h=function(){return p.some(e)};return{is:t,isValue:s,isError:i,getOr:r(e),getOrThunk:r(e),getOrDie:r(e),or:n,orThunk:o,fold:d,map:a,mapError:u,each:c,bind:l,exists:f,forall:m,toOption:h}},L=function(e){var t=function(e){return e()},r=function(){return a(String(e))()},u=function(e){return e},c=function(e){return e()},l=function(t){return L(e)},d=function(t){return L(t(e))},f=function(t){return L(e)},m=function(t,n){return t(e)};return{is:i,isValue:i,isError:s,getOr:o,getOrThunk:t,getOrDie:r,or:u,orThunk:c,fold:m,map:l,mapError:d,each:n,bind:f,exists:i,forall:s,toOption:p.none}},P={value:B,error:L},z=function(t){var n=function(){return z(t.toCached())},r=function(e){return z(t.bind(function(t){return t.fold(function(e){return M.pure(P.error(e))},function(t){return e(t)})}))},o=function(e){return z(t.map(function(t){return t.bind(e)}))},a=function(e){return z(t.map(function(t){return t.map(e)}))},i=function(e){return z(t.map(function(t){return t.mapError(e)}))},s=function(e,n){return t.map(function(t){return t.fold(e,n)})},u=function(n,r){return z(M.nu(function(o){var a=!1,i=e.setTimeout(function(){a=!0,o(P.error(r()))},n);t.get(function(t){a||(e.clearTimeout(i),o(t))})}))};return O({},t,{toCached:n,bindFuture:r,bindResult:o,mapResult:a,mapError:i,foldResult:s,withTimeout:u})},F=function(e){return z(M.nu(e))},j=function(e){return z(M.pure(P.value(e)))},H=function(e){return z(M.pure(P.error(e)))},V=function(e){return z(M.pure(e))},$=function(e){return z(e.map(P.value))},U=function(e){return F(function(t){e.then(function(e){t(P.value(e))},function(e){t(P.error(e))})})},q={nu:F,wrap:z,pure:j,value:j,error:H,fromResult:V,fromFuture:$,fromPromise:U},W=Object.prototype.hasOwnProperty,K=function(e,t){return t},Y=function(e,t){var n=b(e)&&b(t);return n?G(e,t):t},X=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var a=t[o];for(var i in a)W.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},G=X(Y),J=X(K),Q="undefined"!==typeof e.window?e.window:Function("return this;")(),Z=function(e,t){for(var n=void 0!==t&&null!==t?t:Q,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},ee=function(e,t){var n=e.split(".");return Z(n,t)},te=function(e,t){return ee(e,t)},ne=function(e,t){var n=te(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},re={getOrDie:ne},oe=function(){return re.getOrDie("URL")},ae=function(e){return oe().createObjectURL(e)},ie=function(e){oe().revokeObjectURL(e)},se={createObjectURL:ae,revokeObjectURL:ie},ue=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map(function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}}),r={name:"alt",type:"input",label:"Image description"},o={name:"title",type:"input",label:"Image title"},a={name:"dimensions",type:"sizeinput"},i=e.classList.map(function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return k([[t],n.toArray(),e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[a]:[],[{type:"grid",columns:2,items:k([i.toArray(),e.hasImageCaption?[s]:[]])}]])},ce=function(e){return{title:"General",items:ue(e)}},le={makeTab:ce,makeItems:ue};function de(){var e=re.getOrDie("FileReader");return new e}var fe=tinymce.util.Tools.resolve("tinymce.util.Promise"),me=tinymce.util.Tools.resolve("tinymce.util.Tools"),pe=tinymce.util.Tools.resolve("tinymce.util.XHR"),he=function(e){return!1!==e.settings.image_dimensions},ge=function(e){return!0===e.settings.image_advtab},ve=function(e){return e.getParam("image_prepend_url","")},be=function(e){return e.getParam("image_class_list")},ye=function(e){return!1!==e.settings.image_description},we=function(e){return!0===e.settings.image_title},xe=function(e){return!0===e.settings.image_caption},Ce=function(e){return e.getParam("image_list",!1)},Se=function(e){return!!e.getParam("images_upload_url",!1)},ke=function(e){return!!e.getParam("images_upload_handler",!1)},_e=function(e){return e.getParam("images_upload_url")},Te=function(e){return e.getParam("images_upload_handler")},Oe=function(e){return e.getParam("images_upload_base_path")},Ee=function(e){return e.getParam("images_upload_credentials")},De={hasDimensions:he,hasAdvTab:ge,getPrependUrl:ve,getClassList:be,hasDescription:ye,hasImageTitle:we,hasImageCaption:xe,getImageList:Ce,hasUploadUrl:Se,hasUploadHandler:ke,getUploadUrl:_e,getUploadHandler:Te,getUploadBasePath:Oe,getUploadCredentials:Ee},Re=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},Ne=function(t,n){var r=e.document.createElement("img");function o(e){r.parentNode&&r.parentNode.removeChild(r),n(e)}r.onload=function(){var e=Re(r.width,r.clientWidth),t=Re(r.height,r.clientHeight),n={width:e,height:t};o(P.value(n))},r.onerror=function(){o(P.error(void 0))};var a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",e.document.body.appendChild(r),r.src=t},Ie=function(e,t,n){function r(e,n){return n=n||[],me.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t(o)),n.push(o)}),n}return r(e,n||[])},Ae=function(e){return e&&(e=e.replace(/px$/,"")),e},Me=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},Be=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},Le=function(e,t){var n=De.getImageList(e);"string"===typeof n?pe.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"===typeof n?n(t):t(n)},Pe=function(e,t,n){function r(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!De.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()},n.onerror=r},ze=function(e){return new fe(function(t,n){var r=de();r.onload=function(){t(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(e)})},Fe={getImageSize:Ne,buildListItems:Ie,removePixelSuffix:Ae,addPixelSuffix:Me,mergeMargins:Be,createImageList:Le,waitLoadImage:Pe,blobToDataUri:ze},je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),He=je.DOM,Ve=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?Fe.removePixelSuffix(e.style.marginLeft):""},$e=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?Fe.removePixelSuffix(e.style.marginTop):""},Ue=function(e){return e.style.borderWidth?Fe.removePixelSuffix(e.style.borderWidth):""},qe=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},We=function(e,t){return e.style[t]?e.style[t]:""},Ke=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},Ye=function(e,t,n){e.setAttribute(t,n)},Xe=function(e){var t=He.create("figure",{class:"image"});He.insertAfter(t,e),t.appendChild(e),t.appendChild(He.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable="false"},Ge=function(e){var t=e.parentNode;He.insertAfter(e,t),He.remove(t)},Je=function(e){Ke(e)?Ge(e):Xe(e)},Qe=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Ze=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=Fe.addPixelSuffix(r),Qe(e,t)):Ye(e,n,r)}},et=function(e,t){return e.style[t]?Fe.removePixelSuffix(e.style[t]):qe(e,t)},tt=function(e,t){var n=Fe.addPixelSuffix(t);e.style.marginLeft=n,e.style.marginRight=n},nt=function(e,t){var n=Fe.addPixelSuffix(t);e.style.marginTop=n,e.style.marginBottom=n},rt=function(e,t){var n=Fe.addPixelSuffix(t);e.style.borderWidth=n},ot=function(e,t){e.style.borderStyle=t},at=function(e){return We(e,"borderStyle")},it=function(e){return"FIGURE"===e.nodeName},st=function(e){return"IMG"===e.nodeName},ut=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}},ct=function(t,n){var r=e.document.createElement("img");return Ye(r,"style",n.style),(Ve(r)||""!==n.hspace)&&tt(r,n.hspace),($e(r)||""!==n.vspace)&&nt(r,n.vspace),(Ue(r)||""!==n.border)&&rt(r,n.border),(at(r)||""!==n.borderStyle)&&ot(r,n.borderStyle),t(r.getAttribute("style"))},lt=function(t,n){var r=e.document.createElement("img");if(pt(t,J(n,{caption:!1}),r),Ye(r,"alt",n.alt),n.caption){var o=He.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(He.create("figcaption",{contentEditable:!0},"Caption")),o.contentEditable="false",o}return r},dt=function(e,t){return{src:qe(t,"src"),alt:qe(t,"alt"),title:qe(t,"title"),width:et(t,"width"),height:et(t,"height"),class:qe(t,"class"),style:e(qe(t,"style")),caption:Ke(t),hspace:Ve(t),vspace:$e(t),border:Ue(t),borderStyle:We(t,"borderStyle")}},ft=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},mt=function(e,t){return function(n,r,o){e(n,o),Qe(n,t)}},pt=function(e,t,n){var r=dt(e,n);ft(n,r,t,"caption",function(e,t,n){return Je(e)}),ft(n,r,t,"src",Ye),ft(n,r,t,"alt",Ye),ft(n,r,t,"title",Ye),ft(n,r,t,"width",Ze("width",e)),ft(n,r,t,"height",Ze("height",e)),ft(n,r,t,"class",Ye),ft(n,r,t,"style",mt(function(e,t){return Ye(e,"style",t)},e)),ft(n,r,t,"hspace",mt(tt,e)),ft(n,r,t,"vspace",mt(nt,e)),ft(n,r,t,"border",mt(rt,e)),ft(n,r,t,"borderStyle",mt(ot,e))},ht=function(e,t){var n=e.dom.styles.parse(t),r=Fe.mergeMargins(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},gt=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||t.getAttribute("data-mce-object")||t.getAttribute("data-mce-placeholder"))?null:t},vt=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},bt=function(e){var t=gt(e);return t?dt(function(t){return ht(e,t)},t):ut()},yt=function(e,t){var n=lt(function(t){return ht(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),it(r)){var o=vt(e,r);e.selection.select(o)}else e.selection.select(r)},wt=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},xt=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Ct=function(e,t){var n=gt(e);if(pt(function(t){return ht(e,t)},t,n),wt(e,n),it(n.parentNode)){var r=n.parentNode;vt(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),Fe.waitLoadImage(e,t,n)},St=function(e,t){var n=gt(e);n?t.src?Ct(e,t):xt(e,n):t.src&&yt(e,t)},kt=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return p.none()},_t=function(e){return v(e.value)?e.value:""},Tt=function(e,t){var n=[];return me.each(e,function(e){var r=v(e.text)?e.text:v(e.title)?e.title:"";if(void 0!==e.menu){var o=Tt(e.menu,t);n.push({text:r,items:o})}else{var a=t(e);n.push({text:r,value:a})}}),n},Ot=function(e){return void 0===e&&(e=_t),function(t){return t?p.from(t).map(function(t){return Tt(t,e)}):p.none()}},Et=function(e){return Ot(_t)(e)},Dt=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},Rt=function(e,t){return kt(e,function(e){return Dt(e)?Rt(e.items,t):e.value===t?p.some(e):p.none()})},Nt=function(e,t){return e.bind(function(e){return Rt(e,t)})},It={sanitizer:Ot,sanitize:Et,findEntry:Nt};function At(){var e=re.getOrDie("XMLHttpRequest");return new e}var Mt=function(){},Bt=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function Lt(t){var n=function(n,r,o,a){var i,s;i=At(),i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(e){a(e.loaded/e.total*100)},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e;i.status<200||i.status>=300?o("HTTP Error: "+i.status):(e=JSON.parse(i.responseText),e&&"string"===typeof e.location?r(Bt(t.basePath,e.location)):o("Invalid JSON: "+i.responseText))},s=new e.FormData,s.append("file",n.blob(),n.filename()),i.send(s)},r=function(e,t){return new fe(function(n,r){try{t(e,n,r,Mt)}catch(o){r(o.message)}})},o=function(e){return e===n},a=function(e){return!t.url&&o(t.handler)?fe.reject("Upload url missing from the settings."):r(e,t.handler)};return t=me.extend({credentials:!1,handler:n},t),{upload:a}}var Pt=function(e){return{title:"Advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace"},{type:"input",label:"Horizontal space",name:"hspace"},{type:"input",label:"Border width",name:"border"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},zt={makeTab:Pt},Ft=function(e){var t=It.sanitizer(function(t){return e.convertURL(t.value||t.url,"src")}),n=M.nu(function(n){Fe.createImageList(e,function(e){n(t(e).map(function(e){return k([[{text:"None",value:""}],e])}))})}),r=It.sanitize(De.getClassList(e)),o=De.hasAdvTab(e),a=De.hasUploadUrl(e),i=De.hasUploadHandler(e),s=bt(e),u=De.hasDescription(e),c=De.hasImageTitle(e),l=De.hasDimensions(e),d=De.hasImageCaption(e),f=De.getUploadUrl(e),m=De.getUploadBasePath(e),h=De.getUploadCredentials(e),g=De.getUploadHandler(e),b=p.some(De.getPrependUrl(e)).filter(function(e){return v(e)&&e.length>0});return n.map(function(e){return{image:s,imageList:e,classList:r,hasAdvTab:o,hasUploadUrl:a,hasUploadHandler:i,hasDescription:u,hasImageTitle:c,hasDimensions:l,hasImageCaption:d,url:f,basePath:m,credentials:h,handler:g,prependURL:b}})},jt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",items:t}},Ht={makeTab:jt},Vt=function(e){return{prevImage:It.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},$t=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[]}},Ut=function(e){return{src:e.src.value,alt:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle}},qt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?p.none():e.prependURL.bind(function(e){return t.substring(0,e.length)!==e?p.some(e+t):p.none()})},Wt=function(e,t){var n=t.getData();qt(e,n.src.value).each(function(e){t.setData({src:{value:e,meta:n.src.meta}})})},Kt=function(e,t){var n=t.src.meta;if(void 0!==n){var r=G({},t);return e.hasDescription&&v(n.alt)&&(r.alt=n.alt),e.hasImageTitle&&v(n.title)&&(r.title=n.title),e.hasDimensions&&(v(n.width)&&(r.dimensions.width=n.width),v(n.height)&&(r.dimensions.height=n.height)),v(n.class)&&It.findEntry(e.classList,n.class).each(function(e){r.classes=e.value}),e.hasAdvTab&&(v(n.vspace)&&(r.vspace=n.vspace),v(n.border)&&(r.border=n.border),v(n.hspace)&&(r.hspace=n.hspace),v(n.borderstyle)&&(r.borderstyle=n.borderstyle)),p.some(r)}return p.none()},Yt=function(e,t){Kt(e,t.getData()).each(function(e){return t.setData(e)})},Xt=function(e,t,n,r){var o=r.getData(),a=o.src.value,i=o.src.meta||{};i.width||i.height||!t.hasDimensions||e.imageSize(a).get(function(e){e.each(function(e){n.open&&r.setData({dimensions:e})})})},Gt=function(e,t,n){var r=n.getData(),o=It.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(function(e){return e.value}).getOr("")})},Jt=function(e,t,n,r){Wt(t,r),Yt(t,r),Xt(e,t,n,r),Gt(t,n,r)},Qt=function(e,t,n,r){var o=r.getData(),a=It.findEntry(t.imageList,o.images);a.each(function(e){var t=""===o.alt||n.prevImage.map(function(e){return e.text===o.alt}).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=a,Jt(e,t,n,r)},Zt=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?Fe.removePixelSuffix(String(e["margin-top"])):""},en=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?Fe.removePixelSuffix(String(e["margin-right"])):""},tn=function(e){return e["border-width"]?Fe.removePixelSuffix(String(e["border-width"])):""},nn=function(e){return e["border-style"]?String(e["border-style"]):""},rn=function(e,t,n){return t(e(t(n)))},on=function(e,t,n){var r=Fe.mergeMargins(e(n.style)),o=G({},n);return o.vspace=Zt(r),o.hspace=en(r),o.border=tn(r),o.borderstyle=nn(r),o.style=rn(e,t,r),o},an=function(e,t){var n=t.getData(),r=on(e.parseStyle,e.serializeStyle,n);t.setData(r)},sn=function(e,t,n){var r=G($t(t.image),n.getData()),o=ct(e.normalizeCss,Ut(r));n.setData({style:o})},un=function(e,t,n,r){var o=r.getData();r.block("Uploading image"),T(o.fileinput).fold(function(){r.unblock()},function(o){var a=se.createObjectURL(o),i=Lt({url:t.url,basePath:t.basePath,credentials:t.credentials,handler:t.handler}),s=function(){r.unblock(),se.revokeObjectURL(a)};Fe.blobToDataUri(o).then(function(u){var c=e.createBlobCache(o,a,u);i.upload(c).then(function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("General"),Jt(e,t,n,r),s()}).catch(function(t){s(),e.alertErr(r,t)})})})},cn=function(e,t,n){return function(r,o){"src"===o.name?Jt(e,t,n,r):"images"===o.name?Qt(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?an(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?sn(e,t,r):"fileinput"===o.name&&un(e,t,n,r)}},ln=function(e){return function(){e.open=!1}},dn=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:k([[le.makeTab(e)],e.hasAdvTab?[zt.makeTab(e)]:[],e.hasUploadUrl||e.hasUploadHandler?[Ht.makeTab(e)]:[]])};return t}var n={type:"panel",items:le.makeItems(e)};return n},fn=function(e){return function(t){var n=Vt(t);return{title:"Insert/Edit Image",size:"normal",body:dn(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$t(t.image),onSubmit:e.onSubmit(t),onChange:cn(e,t,n),onClose:ln(n)}}},mn=function(e){return function(t){return function(n){var r=G($t(t.image),n.getData());e.undoManager.transact(function(){St(e,Ut(r))}),e.editorUpload.uploadImagesAuto(),n.close()}}},pn=function(e){return function(t){return q.nu(function(n){Fe.getImageSize(e.documentBaseURI.toAbsolute(t),function(e){var t=e.bind(function(e){return(v(e.width)||w(e.width))&&(v(e.height)||w(e.height))?P.value({width:String(e.width),height:String(e.height)}):P.error(void 0)});n(t)})})}},hn=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},gn=function(e){return function(t,n){e.windowManager.alert(n,t.close)}},vn=function(e){return function(t){return ht(e,t)}},bn=function(e){return function(t){return e.dom.parseStyle(t)}},yn=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},wn=function(e){var t={onSubmit:mn(e),imageSize:pn(e),createBlobCache:hn(e),alertErr:gn(e),normalizeCss:vn(e),parseStyle:bn(e),serializeStyle:yn(e)},n=function(){return Ft(e).map(fn(t)).get(function(t){e.windowManager.open(t)})};return{open:n}},xn=function(e){e.addCommand("mceImage",wn(e).open)},Cn={register:xn},Sn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},kn=function(e){return function(t){var n,r=t.length,o=function(t){t.attr("contenteditable",e?"true":null)};while(r--)n=t[r],Sn(n)&&(n.attr("contenteditable",e?"false":null),me.each(n.getAll("figcaption"),o))}},_n=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",kn(!0)),e.serializer.addNodeFilter("figure",kn(!1))})},Tn={setup:_n},On=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Rn(o.childNodes[0])},En=function(t,n){var r=n||e.document,o=r.createElement(t);return Rn(o)},Dn=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Rn(o)},Rn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},Nn=function(e,t,n){var r=e.dom();return p.from(r.elementFromPoint(t,n)).map(Rn)},In={fromHtml:On,fromTag:En,fromText:Dn,fromDom:Rn,fromPoint:Nn},An=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE,e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,function(e){var t=e.dom().nodeName;return t.toLowerCase()}),Mn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var o={};return x(e,function(e,n){o[e]=r(t[n])}),o}},Bn=function(){var e=re.getOrDie("Node");return e},Ln=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Pn=function(e,t){return Ln(e,t,Bn().DOCUMENT_POSITION_PRECEDING)},zn=function(e,t){return Ln(e,t,Bn().DOCUMENT_POSITION_CONTAINED_BY)},Fn={documentPositionPreceding:Pn,documentPositionContainedBy:zn},jn=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Hn=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Vn=function(e,t){var n=Hn(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return qn(r(1),r(2))},$n=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Un():Vn(e,n)},Un=function(){return qn(0,0)},qn=function(e,t){return{major:e,minor:t}},Wn={nu:qn,detect:$n,unknown:Un},Kn="Edge",Yn="Chrome",Xn="IE",Gn="Opera",Jn="Firefox",Qn="Safari",Zn=function(e,t){return function(){return t===e}},er=function(){return tr({current:void 0,version:Wn.unknown()})},tr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Zn(Kn,t),isChrome:Zn(Yn,t),isIE:Zn(Xn,t),isOpera:Zn(Gn,t),isFirefox:Zn(Jn,t),isSafari:Zn(Qn,t)}},nr={unknown:er,nu:tr,edge:r(Kn),chrome:r(Yn),ie:r(Xn),opera:r(Gn),firefox:r(Jn),safari:r(Qn)},rr="Windows",or="iOS",ar="Android",ir="Linux",sr="OSX",ur="Solaris",cr="FreeBSD",lr=function(e,t){return function(){return t===e}},dr=function(){return fr({current:void 0,version:Wn.unknown()})},fr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:lr(rr,t),isiOS:lr(or,t),isAndroid:lr(ar,t),isOSX:lr(sr,t),isLinux:lr(ir,t),isSolaris:lr(ur,t),isFreeBSD:lr(cr,t)}},mr={unknown:dr,nu:fr,windows:r(rr),ios:r(or),android:r(ar),linux:r(ir),osx:r(sr),solaris:r(ur),freebsd:r(cr)},pr=function(e,t,n){var o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,i=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,u=o||i||s&&!0===/mobile/i.test(n),c=e.isiOS()||e.isAndroid(),l=c&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:r(o),isiPhone:r(a),isTablet:r(u),isPhone:r(l),isTouch:r(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d)}},hr=function(e,t){var n=String(t).toLowerCase();return C(e,function(e){return e.search(n)})},gr=function(e,t){return hr(e,t).map(function(e){var n=Wn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},vr=function(e,t){return hr(e,t).map(function(e){var n=Wn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},br={detectBrowser:gr,detectOs:vr},yr=function(e,t){return-1!==e.indexOf(t)},wr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xr=function(e){return function(t){return yr(t,e)}},Cr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=yr(e,"edge/")&&yr(e,"chrome")&&yr(e,"safari")&&yr(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wr],search:function(e){return yr(e,"chrome")&&!yr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return yr(e,"msie")||yr(e,"trident")}},{name:"Opera",versionRegexes:[wr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xr("firefox")},{name:"Safari",versionRegexes:[wr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(yr(e,"safari")||yr(e,"mobile/"))&&yr(e,"applewebkit")}}],Sr=[{name:"Windows",search:xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return yr(e,"iphone")||yr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:xr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xr("linux"),versionRegexes:[]},{name:"Solaris",search:xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xr("freebsd"),versionRegexes:[]}],kr={browsers:r(Cr),oses:r(Sr)},_r=function(e){var t=kr.browsers(),n=kr.oses(),r=br.detectBrowser(t,e).fold(nr.unknown,nr.nu),o=br.detectOs(n,e).fold(mr.unknown,mr.nu),a=pr(o,r,e);return{browser:r,os:o,deviceType:a}},Tr={detect:_r},Or=jn(function(){var t=e.navigator.userAgent;return Tr.detect(t)}),Er={detect:Or},Dr=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Rr=function(e,t){return Fn.documentPositionContainedBy(e.dom(),t.dom())},Nr=Er.detect().browser,Ir=(Nr.isIE(),function(e){var t=e.dom();return p.from(t.parentNode).map(In.fromDom)}),Ar=(Mn("element","offset"),function(e){return Ir(e).filter(function(e){return"figure"===An(e)}).getOr(e)}),Mr=function(e){var t=function(t){return{text:"Image",icon:"image",onAction:function(){var n=Ar(In.fromDom(t));e.selection.select(n.dom()),wn(e).open()}}};e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:wn(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:wn(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return it(e)||st(e)?[t(e)]:[]}})},Br={register:Mr};function Lr(){}t.add("image",function(e){Tn.setup(e),Br.register(e),Cn.register(e)})})(window)})()},ce31:function(e,t,n){"use strict";var r=n("ba54"),o=n.n(r);o.a},cf80:function(e,t,n){},cfb8:function(e,t,n){"use strict";var r=n("b2cc"),o=n.n(r);o.a},d039:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"content",staticClass:"card-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[null===t?[n("a-button",{staticClass:"new-btn",attrs:{type:"dashed"}},[n("a-icon",{attrs:{type:"plus"}}),e._v("\n          新增产品\n        ")],1)]:[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"large"},slot:"avatar"}),n("div",{staticClass:"meta-content",attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.content))])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[e._v("操作一")]),n("a",[e._v("操作二")])])],2)]],2)}}])})],1)},o=[],a=[];a.push(null);for(var i=0;i<11;i++)a.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",content:"在中台产品的研发过程中，会出现不同的设计规范和实现方式，但其中往往存在很多类似的页面和组件，这些类似的组件会被抽离成一套标准规范。"});var s={name:"CardList",data:function(){return{description:"段落示意：蚂蚁金服务设计平台 ant.design，用最小的工作量，无缝接入蚂蚁金服生态， 提供跨越设计与开发的体验解决方案。",linkList:[{icon:"rocket",href:"#",title:"快速开始"},{icon:"info-circle-o",href:"#",title:"产品简介"},{icon:"file-text",href:"#",title:"产品文档"}],extraImage:"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png",dataSource:a}}},u=s,c=(n("f8e7"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"022c9dfc",null);t["default"]=l.exports},d1c8:function(e,t,n){"use strict";var r=n("c047"),o=n.n(r);o.a},d259:function(e,t,n){"use strict";var r=n("98bc"),o=n.n(r);o.a},d263:function(e,t,n){"use strict";n("386b")("fixed",function(e){return function(){return e(this,"tt","","")}})},d29d:function(e,t,n){"use strict";var r=n("0181"),o=n.n(r);o.a},d39a:function(e,t,n){},d544:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 0px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderCustomer-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],a=n("39a5"),i=n("6620"),s=n("b65a"),u=n("0fea"),c={name:"JeecgOrderCustomerList",mixins:[s["a"]],components:{JeecgOrderDMainList:i["default"],JeecgOrderCustomerModal:a["default"]},data:function(){return{description:"订单客户信息",columns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderCustomerByMainId",delete:"/test/order/deleteCustomer",deleteBatch:"/test/order/deleteBatchCustomer"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(u["b"])(this.url.list,{mainId:n.mainId}).then(function(e){e.success?t.dataSource=e.result:t.dataSource=null})},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加客户信息"}}},l=c,d=(n("019b"),n("2877")),f=Object(d["a"])(l,r,o,!1,null,"6ae50bf6",null);t["default"]=f.exports},d579:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tooltip",{attrs:{placement:"topLeft"}},[n("template",{slot:"title"},[n("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},o=[],a=(n("c5f6"),{name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"4de15389",null);t["default"]=u.exports},d65b:function(e,t,n){"use strict";var r=n("cf80"),o=n.n(r);o.a},d6a6:function(e,t,n){},d6d2:function(e,t,n){"use strict";var r=n("c436"),o=n.n(r);o.a},d841:function(e,t,n){"use strict";var r=n("aa46"),o=n.n(r);o.a},d92a:function(e,t,n){},dc0a:function(e,t,n){},dd2a:function(e,t,n){},dd8e:function(e,t,n){},dd9d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1)},o=[],a=n("cebc"),i=n("5176"),s=n.n(i),u=n("0fea"),c=n("2dab"),l=n("88bc"),d=n.n(l),f=n("c1df"),m=n.n(f),p={name:"JeecgOrderDMainModal",components:{JDate:c["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/add",edit:"/test/order/edit",orderCustomerList:"/test/order/listOrderCustomerByMainId",orderTicketList:"/test/order/listOrderTicketByMainId"}}},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.orderMainModel=s()({},e),console.log(this.orderMainModel.id),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(d()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?m()(t.orderMainModel.orderDate):null})}),console.log(this.orderMainModel)},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",i="";e.orderMainModel.id?(o+=e.url.edit,i="put"):(o+=e.url.add,i="post");var c=s()(e.orderMainModel,r);c.orderDate=c.orderDate?c.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=Object(a["a"])({},c);console.log(l),Object(u["f"])(o,l,i).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}},h=p,g=(n("b046"),n("2877")),v=Object(g["a"])(h,r,o,!1,null,"3947da84",null);t["default"]=v.exports},ddf9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"20px"},attrs:{title:"重新设定密码",width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{}],expression:"[ 'username', {}]"}],attrs:{placeholder:"请输入用户账号",readOnly:!0}})],1),n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("4ec3"),u={name:"PasswordModal",data:function(){return{visible:!1,confirmLoading:!1,confirmDirty:!1,validatorRules:{password:{rules:[{required:!0,message:"请输入登陆密码!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]}},model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this)}},created:function(){console.log("created")},methods:{show:function(e){var t=this;this.form.resetFields(),this.visible=!0,this.model.username=e,this.$nextTick(function(){t.form.setFieldsValue({username:e})})},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[]},handleSubmit:function(){var e=this;this.form.validateFields(function(t,n){if(!t){e.confirmLoading=!0;var r=i()(e.model,n);Object(s["g"])(r).then(function(t){t.success?(e.$message.success(t.message),e.$emit("ok")):e.$message.warning(t.message)}).finally(function(){e.confirmLoading=!1,e.close()})}})},handleCancel:function(){this.close()},validateToNextPassword:function(e,t,n){var r=this.form;t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},df55:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{title:e.title}},[n("a-card",{attrs:{bordered:!1}},[n("detail-list",{attrs:{title:"退款申请"}},[n("detail-list-item",{attrs:{term:"取货单号"}},[e._v("1000000000")]),n("detail-list-item",{attrs:{term:"状态"}},[e._v("已取货")]),n("detail-list-item",{attrs:{term:"销售单号"}},[e._v("1234123421")]),n("detail-list-item",{attrs:{term:"子订单"}},[e._v("3214321432")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("detail-list",{attrs:{title:"用户信息"}},[n("detail-list-item",{attrs:{term:"用户姓名"}},[e._v("付小小")]),n("detail-list-item",{attrs:{term:"联系电话"}},[e._v("18100000000")]),n("detail-list-item",{attrs:{term:"常用快递"}},[e._v("菜鸟仓储")]),n("detail-list-item",{attrs:{term:"取货地址"}},[e._v("浙江省杭州市西湖区万塘路18号")]),n("detail-list-item",{attrs:{term:"备注"}},[e._v("\t无")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("div",{staticClass:"title"},[e._v("退货商品")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.goodsColumns,data:e.loadGoodsData}}),n("div",{staticClass:"title"},[e._v("退货进度")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.scheduleColumns,data:e.loadScheduleData},scopedSlots:e._u([{key:"status",fn:function(t){return[n("a-badge",{attrs:{status:t,text:e._f("statusFilter")(t)}})]}}])})],1)],1)},o=[],a=n("795b"),i=n.n(a),s=n("b445"),u=n("e8c4"),c=n("c16f"),l=n("2985"),d=c["default"].Item,f={components:{PageLayout:s["default"],ABadge:l["a"],DetailList:c["default"],DetailListItem:d,STable:u["a"]},data:function(){return{goodsColumns:[{title:"商品编号",dataIndex:"id",key:"id"},{title:"商品名称",dataIndex:"name",key:"name"},{title:"商品条码",dataIndex:"barcode",key:"barcode"},{title:"单价",dataIndex:"price",key:"price",align:"right"},{title:"数量（件）",dataIndex:"num",key:"num",align:"right"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"}],loadGoodsData:function(){return new i.a(function(e){e({data:[{id:"1234561",name:"矿泉水 550ml",barcode:"12421432143214321",price:"2.00",num:"1",amount:"2.00"},{id:"1234562",name:"凉茶 300ml",barcode:"12421432143214322",price:"3.00",num:"2",amount:"6.00"},{id:"1234563",name:"好吃的薯片",barcode:"12421432143214323",price:"7.00",num:"4",amount:"28.00"},{id:"1234564",name:"特别好吃的蛋卷",barcode:"12421432143214324",price:"8.50",num:"3",amount:"25.50"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})}).then(function(e){return e})},scheduleColumns:[{title:"时间",dataIndex:"time",key:"time"},{title:"当前进度",dataIndex:"rate",key:"rate"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作员ID",dataIndex:"operator",key:"operator"},{title:"耗时",dataIndex:"cost",key:"cost"}],loadScheduleData:function(){return new i.a(function(e){e({data:[{key:"1",time:"2017-10-01 14:10",rate:"联系客户",status:"processing",operator:"取货员 ID1234",cost:"5mins"},{key:"2",time:"2017-10-01 14:05",rate:"取货员出发",status:"success",operator:"取货员 ID1234",cost:"1h"},{key:"3",time:"2017-10-01 13:05",rate:"取货员接单",status:"success",operator:"取货员 ID1234",cost:"5mins"},{key:"4",time:"2017-10-01 13:00",rate:"申请审批通过",status:"success",operator:"系统",cost:"1h"},{key:"5",time:"2017-10-01 12:00",rate:"发起退货申请",status:"success",operator:"用户",cost:"5mins"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})}).then(function(e){return e})}}},filters:{statusFilter:function(e){var t={processing:"进行中",success:"完成",failed:"失败"};return t[e]}},computed:{title:function(){return this.$route.meta.title}}},m=f,p=(n("57ef"),n("2877")),h=Object(p["a"])(m,r,o,!1,null,"36a7328e",null);t["default"]=h.exports},e0c9:function(e,t,n){},e0e4:function(e,t,n){},e1ea:function(e,t,n){"use strict";var r=n("258d"),o=n.n(r);o.a},e2e0:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return p});var r=n("5176"),o=n.n(r),a=n("7618"),i=(n("7f7f"),n("795b")),s=n.n(i),u=n("67bb"),c=n.n(u),l={normal:"normal",input:"input",inputNumber:"inputNumber",checkbox:"checkbox",select:"select",date:"date",datetime:"datetime"},d=c()();function f(e,t){return new s.a(function(n){(function r(){var o=e.$refs[t];o?n(o):setTimeout(function(){r()},10)})()})}function m(e,t){if(!e||"function"!==typeof e.validateFields)throw"form 参数需要的是一个form对象，而传入的却是".concat(Object(a["a"])(e));var n={};return new s.a(function(t,n){e.validateFields(function(e,r){e?n({error:d}):t(r)})}).then(function(e){return o()(n,{formValue:e}),p(t)}).then(function(e){return o()(n,{tablesValue:e}),s.a.resolve(n)}).catch(function(e){return s.a.reject(e)})}function p(e){if(!(e instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是".concat(Object(a["a"])(e));return new s.a(function(t,n){var r=[],o=0;(function a(){var i=e[o];i.getAll(!0).then(function(n){r[o]=n,++o===e.length?t(r):a()},function(e){e===d&&n({error:d,index:o}),n(e)})})()})}},e31a:function(e,t,n){"use strict";var r=n("95df"),o=n.n(r);o.a},e409:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"403"}})},o=[],a=n("0673"),i={components:{ExceptionPage:a["default"]}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"e1fa96e6",null);t["default"]=c.exports},e42e:function(e,t,n){"use strict";var r=n("00be"),o=n.n(r);o.a},e562:function(e,t,n){(function(){(function(t){"use strict";var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e){return function(){return e}},a=function(e){return e};function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var s,u,c,l,d,f,m,p,h,g,v,b,y,w=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},x=function(e){return function(){throw new Error(e)}},C=o(!1),S=o(!0),k=C,_=S,T=function(){return O},O=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},a=function(){return null},i=function(){},s={fold:function(e,t){return e()},is:k,isSome:k,isNone:_,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a,getOrUndefined:i,or:n,orThunk:t,map:T,ap:T,each:r,bind:T,flatten:T,exists:k,forall:_,filter:T,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(s),s}(),E=function(e){var t=function(){return e},n=function(){return a},r=function(t){return E(t(e))},o=function(t){return t(e)},a={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:_,isNone:k,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(T,function(t){return E(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?a:O},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(k,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return a},D=function(e){return null===e||void 0===e?O:E(e)},R={some:E,none:T,from:D},N=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},I=function(e){return function(t){return N(t)===e}},A=I("string"),M=I("object"),B=I("array"),L=I("null"),P=I("boolean"),z=I("function"),F=I("number"),j=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Z(e,t)};return void 0===e?n:t}(),H=function(e,t){var n=j(e,t);return-1===n?R.none():R.some(n)},V=function(e,t){return j(e,t)>-1},$=function(e,t){return Q(e,t).isSome()},U=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o,e)}return r},q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},W=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},K=function(e,t){for(var n=[],r=[],o=0,a=e.length;o<a;o++){var i=e[o],s=t(i,o,e)?n:r;s.push(i)}return{pass:n,fail:r}},Y=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];t(a,r,e)&&n.push(a)}return n},X=function(e,t,n){return W(e,function(e){n=t(n,e)}),n},G=function(e,t,n){return q(e,function(e){n=t(n,e)}),n},J=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return R.some(o)}return R.none()},Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return R.some(n)}return R.none()},Z=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},ee=Array.prototype.push,te=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ee.apply(t,e[n])}return t},ne=function(e,t){var n=U(e,t);return te(n)},re=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n,e))return!1}return!0},oe=Array.prototype.slice,ae=function(e){var t=oe.call(e,0);return t.reverse(),t},ie=function(e,t){return Y(e,function(e){return!V(t,e)})},se=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var a=e[r];n[String(a)]=t(a,r)}return n},ue=function(e,t){var n=oe.call(e,0);return n.sort(t),n},ce=function(e){return 0===e.length?R.none():R.some(e[0])},le=function(e){return 0===e.length?R.none():R.some(e[e.length-1])},de=z(Array.from)?Array.from:function(e){return oe.call(e)},fe="undefined"!==typeof t.window?t.window:Function("return this;")(),me=function(e,t){for(var n=void 0!==t&&null!==t?t:fe,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},pe=function(e,t){var n=e.split(".");return me(n,t)},he=function(e,t){return pe(e,t)},ge=function(e,t){var n=he(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},ve={getOrDie:ge},be=function(){return ve.getOrDie("URL")},ye=function(e){return be().createObjectURL(e)},we=function(e){be().revokeObjectURL(e)},xe={createObjectURL:ye,revokeObjectURL:we},Ce=t.navigator,Se=Ce.userAgent,ke=function(e){return"matchMedia"in t.window&&t.matchMedia(e).matches};s=!1,h=/Android/.test(Se),u=/WebKit/.test(Se),c=!u&&!s&&/MSIE/gi.test(Se)&&/Explorer/gi.test(Ce.appName),c=c&&/MSIE (\w+)\./.exec(Se)[1],l=-1!==Se.indexOf("Trident/")&&(-1!==Se.indexOf("rv:")||-1!==Ce.appName.indexOf("Netscape"))&&11,d=-1!==Se.indexOf("Edge/")&&!c&&!l&&12,c=c||l||d,f=!u&&!l&&/Gecko/.test(Se),m=-1!==Se.indexOf("Mac"),p=/(iPad|iPhone)/.test(Se),g="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!xe.createObjectURL,v=ke("only screen and (max-device-width: 480px)")&&(h||p),b=ke("only screen and (min-width: 800px)")&&(h||p),y=-1!==Se.indexOf("Windows Phone"),d&&(u=!1);var _e,Te=!p||g||parseInt(Se.match(/AppleWebKit\/(\d*)/)[1],10)>=534,Oe={opera:s,webkit:u,ie:c,gecko:f,mac:m,iOS:p,android:h,contentEditable:Te,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==c,range:t.window.getSelection&&"Range"in t.window,documentMode:c&&!d?t.document.documentMode||7:10,fileApi:g,ceFalse:!1===c||c>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===c||c>11,desktop:!v&&!b,windowsPhone:y},Ee=function(){function e(e,t){return function(){e.apply(t,arguments)}}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(i,this),e(s,this))},o=r.immediateFn||"function"===typeof t.setImmediate&&t.setImmediate||function(e){t.setTimeout(e,1)};function a(e){var t=this;null!==this._state?o(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void l(e(n,t),e(i,this),e(s,this))}this._state=!0,this._value=t,u.call(this)}catch(r){s.call(this,r)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=this;return new r(function(r,o){a.call(n,new c(e,t,r,o))})},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new r(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var s=i.then;if("function"===typeof s)return void s.call(i,function(e){o(a,e)},n)}e[a]=i,0===--r&&t(e)}catch(u){n(u)}}for(var a=0;a<e.length;a++)o(a,e[a])})},r.resolve=function(e){return e&&"object"===typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},r},De=window.Promise?window.Promise:Ee(),Re=function(e,n){var r,o=t.window.requestAnimationFrame,a=["ms","moz","webkit"],i=function(e){t.window.setTimeout(e,0)};for(r=0;r<a.length&&!o;r++)o=t.window[a[r]+"RequestAnimationFrame"];o||(o=i),o(e,n)},Ne=function(e,n){return"number"!==typeof n&&(n=0),t.setTimeout(e,n)},Ie=function(e,n){return"number"!==typeof n&&(n=1),t.setInterval(e,n)},Ae=function(e){return t.clearTimeout(e)},Me=function(e){return t.clearInterval(e)},Be=function(e,n){var r,o;return o=function(){var o=arguments;t.clearTimeout(r),r=Ne(function(){e.apply(this,o)},n)},o.stop=function(){t.clearTimeout(r)},o},Le={requestAnimationFrame:function(e,n){_e?_e.then(e):_e=new De(function(e){n||(n=t.document.body),Re(e,n)}).then(e)},setTimeout:Ne,setInterval:Ie,setEditorTimeout:function(e,t,n){return Ne(function(){e.removed||t()},n)},setEditorInterval:function(e,n,r){var o;return o=Ie(function(){e.removed?t.clearInterval(o):n()},r),o},debounce:Be,throttle:Be,clearInterval:Me,clearTimeout:Ae},Pe="mce-data-",ze=/^(?:mouse|contextmenu)|click/,Fe={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},je=function(e){return e.isDefaultPrevented===Ve||e.isDefaultPrevented===He},He=function(){return!1},Ve=function(){return!0},$e=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ue=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},qe=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},We=function(e,n){var r,o=n||{};for(r in e)Fe[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||t.document),Oe.experimentalShadowDom&&(o.target=qe(e,o.target)),e&&ze.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var a=o.target.ownerDocument||t.document,i=a.documentElement,s=a.body;o.pageX=e.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),o.pageY=e.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Ve,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Ve,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Ve,o.stopPropagation()},!1===je(o)&&(o.isDefaultPrevented=He,o.isPropagationStopped=He,o.isImmediatePropagationStopped=He),"undefined"===typeof o.metaKey&&(o.metaKey=!1),o},Ke=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var a=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},i=function(){Ue(e,"DOMContentLoaded",i),Ue(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o))},s=function(){a()&&(Ue(r,"readystatechange",s),i())},u=function(){try{r.documentElement.doScroll("left")}catch(e){return void Le.setTimeout(u)}i()};!r.addEventListener||Oe.ie&&Oe.ie<11?($e(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&u()):a()?i():$e(e,"DOMContentLoaded",i),$e(e,"load",i)}},Ye=function(){var e,n,r,o,a,i=this,s={};n=Pe+(+new Date).toString(32),o="onmouseenter"in t.document.documentElement,r="onfocusin"in t.document.documentElement,a={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,i.domLoaded=!1,i.events=s;var u=function(e,t){var n,r,o,a,i=s[t];if(n=i&&i[e.type],n)for(r=0,o=n.length;r<o;r++)if(a=n[r],a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};i.bind=function(c,l,d,f){var m,p,h,g,v,b,y,w=t.window,x=function(e){u(We(e||w.event),m)};if(c&&3!==c.nodeType&&8!==c.nodeType){c[n]?m=c[n]:(m=e++,c[n]=m,s[m]={}),f=f||c,l=l.split(" "),h=l.length;while(h--)g=l[h],b=x,v=y=!1,"DOMContentLoaded"===g&&(g="ready"),i.domLoaded&&"ready"===g&&"complete"===c.readyState?d.call(f,We({type:g})):(o||(v=a[g],v&&(b=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=We(e||w.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,u(e,m))})),r||"focusin"!==g&&"focusout"!==g||(y=!0,v="focusin"===g?"focus":"blur",b=function(e){e=We(e||w.event),e.type="focus"===e.type?"focusin":"focusout",u(e,m)}),p=s[m][g],p?"ready"===g&&i.domLoaded?d({type:g}):p.push({func:d,scope:f}):(s[m][g]=p=[{func:d,scope:f}],p.fakeName=v,p.capture=y,p.nativeHandler=b,"ready"===g?Ke(c,b,i):$e(c,v||g,b,y)));return c=p=0,d}},i.unbind=function(e,t,r){var o,a,u,c,l,d;if(!e||3===e.nodeType||8===e.nodeType)return i;if(o=e[n],o){if(d=s[o],t){t=t.split(" "),u=t.length;while(u--)if(l=t[u],a=d[l],a){if(r){c=a.length;while(c--)if(a[c].func===r){var f=a.nativeHandler,m=a.fakeName,p=a.capture;a=a.slice(0,c).concat(a.slice(c+1)),a.nativeHandler=f,a.fakeName=m,a.capture=p,d[l]=a}}r&&0!==a.length||(delete d[l],Ue(e,a.fakeName||l,a.nativeHandler,a.capture))}}else{for(l in d)a=d[l],Ue(e,a.fakeName||l,a.nativeHandler,a.capture);d={}}for(l in d)return i;delete s[o];try{delete e[n]}catch(h){e[n]=null}}return i},i.fire=function(e,t,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return i;r=We(null,r),r.type=t,r.target=e;do{o=e[n],o&&u(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return i},i.clean=function(e){var t,r,o=i.unbind;if(!e||3===e.nodeType||8===e.nodeType)return i;if(e[n]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){o(e),r=e.getElementsByTagName("*"),t=r.length;while(t--)e=r[t],e[n]&&o(e)}return i},i.destroy=function(){s={}},i.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};Ye.Event=new Ye,Ye.Event.bind(t.window,"ready",function(){});var Xe,Ge,Je,Qe,Ze,et,tt,nt,rt,ot,at,it,st,ut,ct,lt,dt,ft,mt,pt="sizzle"+-new Date,ht=t.window.document,gt=0,vt=0,bt=Qt(),yt=Qt(),wt=Qt(),xt=function(e,t){return e===t&&(at=!0),0},Ct="undefined",St=1<<31,kt={}.hasOwnProperty,_t=[],Tt=_t.pop,Ot=_t.push,Et=_t.push,Dt=_t.slice,Rt=_t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",It="[\\x20\\t\\r\\n\\f]",At="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Mt="\\["+It+"*("+At+")(?:"+It+"*([*^$|!~]?=)"+It+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+At+"))|)"+It+"*\\]",Bt=":("+At+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Mt+")*)|.*)\\)|)",Lt=new RegExp("^"+It+"+|((?:^|[^\\\\])(?:\\\\.)*)"+It+"+$","g"),Pt=new RegExp("^"+It+"*,"+It+"*"),zt=new RegExp("^"+It+"*([>+~]|"+It+")"+It+"*"),Ft=new RegExp("="+It+"*([^\\]'\"]*?)"+It+"*\\]","g"),jt=new RegExp(Bt),Ht=new RegExp("^"+At+"$"),Vt={ID:new RegExp("^#("+At+")"),CLASS:new RegExp("^\\.("+At+")"),TAG:new RegExp("^("+At+"|[*])"),ATTR:new RegExp("^"+Mt),PSEUDO:new RegExp("^"+Bt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+It+"*(even|odd|(([+-]|)(\\d*)n|)"+It+"*(?:([+-]|)"+It+"*(\\d+)|))"+It+"*\\)|)","i"),bool:new RegExp("^(?:"+Nt+")$","i"),needsContext:new RegExp("^"+It+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+It+"*((?:-\\d)?\\d*)"+It+"*\\)|)(?=[^-]|$)","i")},$t=/^(?:input|select|textarea|button)$/i,Ut=/^h\d$/i,qt=/^[^{]+\{\s*\[native \w/,Wt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Kt=/[+~]/,Yt=/'|\\/g,Xt=new RegExp("\\\\([\\da-f]{1,6}"+It+"?|("+It+")|.)","ig"),Gt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Et.apply(_t=Dt.call(ht.childNodes),ht.childNodes),_t[ht.childNodes.length].nodeType}catch(pL){Et={apply:_t.length?function(e,t){Ot.apply(e,Dt.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}var Jt=function(e,t,n,r){var o,a,i,s,u,c,l,d,f,m;if((t?t.ownerDocument||t:ht)!==st&&it(t),t=t||st,n=n||[],!e||"string"!==typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(ct&&!r){if(o=Wt.exec(e))if(i=o[1]){if(9===s){if(a=t.getElementById(i),!a||!a.parentNode)return n;if(a.id===i)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&mt(t,a)&&a.id===i)return n.push(a),n}else{if(o[2])return Et.apply(n,t.getElementsByTagName(e)),n;if((i=o[3])&&Ge.getElementsByClassName)return Et.apply(n,t.getElementsByClassName(i)),n}if(Ge.qsa&&(!lt||!lt.test(e))){if(d=l=pt,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){c=et(e),(l=t.getAttribute("id"))?d=l.replace(Yt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;while(u--)c[u]=d+sn(c[u]);f=Kt.test(e)&&on(t.parentNode)||t,m=c.join(",")}if(m)try{return Et.apply(n,f.querySelectorAll(m)),n}catch(p){}finally{l||t.removeAttribute("id")}}}return nt(e.replace(Lt,"$1"),t,n,r)};function Qt(){var e=[];function t(n,r){return e.push(n+" ")>Je.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function Zt(e){return e[pt]=!0,e}function en(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||St)-(~e.sourceIndex||St);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function tn(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function nn(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function rn(e){return Zt(function(t){return t=+t,Zt(function(n,r){var o,a=e([],n.length,t),i=a.length;while(i--)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))})})}function on(e){return e&&typeof e.getElementsByTagName!==Ct&&e}for(Xe in Ge=Jt.support={},Ze=Jt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},it=Jt.setDocument=function(e){var t,n=e?e.ownerDocument||e:ht,r=n.defaultView;function o(e){try{return e.top}catch(t){}return null}return n!==st&&9===n.nodeType&&n.documentElement?(st=n,ut=n.documentElement,ct=!Ze(n),r&&r!==o(r)&&(r.addEventListener?r.addEventListener("unload",function(){it()},!1):r.attachEvent&&r.attachEvent("onunload",function(){it()})),Ge.attributes=!0,Ge.getElementsByTagName=!0,Ge.getElementsByClassName=qt.test(n.getElementsByClassName),Ge.getById=!0,Je.find.ID=function(e,t){if(typeof t.getElementById!==Ct&&ct){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Je.filter.ID=function(e){var t=e.replace(Xt,Gt);return function(e){return e.getAttribute("id")===t}},Je.find.TAG=Ge.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Ct)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e);if("*"===e){while(n=a[o++])1===n.nodeType&&r.push(n);return r}return a},Je.find.CLASS=Ge.getElementsByClassName&&function(e,t){if(ct)return t.getElementsByClassName(e)},dt=[],lt=[],Ge.disconnectedMatch=!0,lt=lt.length&&new RegExp(lt.join("|")),dt=dt.length&&new RegExp(dt.join("|")),t=qt.test(ut.compareDocumentPosition),mt=t||qt.test(ut.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},xt=t?function(e,t){if(e===t)return at=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!Ge.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===ht&&mt(ht,e)?-1:t===n||t.ownerDocument===ht&&mt(ht,t)?1:ot?Rt.call(ot,e)-Rt.call(ot,t):0:4&r?-1:1)}:function(e,t){if(e===t)return at=!0,0;var r,o=0,a=e.parentNode,i=t.parentNode,s=[e],u=[t];if(!a||!i)return e===n?-1:t===n?1:a?-1:i?1:ot?Rt.call(ot,e)-Rt.call(ot,t):0;if(a===i)return en(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)u.unshift(r);while(s[o]===u[o])o++;return o?en(s[o],u[o]):s[o]===ht?-1:u[o]===ht?1:0},n):st},Jt.matches=function(e,t){return Jt(e,null,null,t)},Jt.matchesSelector=function(e,t){if((e.ownerDocument||e)!==st&&it(e),t=t.replace(Ft,"='$1']"),Ge.matchesSelector&&ct&&(!dt||!dt.test(t))&&(!lt||!lt.test(t)))try{var n=ft.call(e,t);if(n||Ge.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(pL){}return Jt(t,st,null,[e]).length>0},Jt.contains=function(e,t){return(e.ownerDocument||e)!==st&&it(e),mt(e,t)},Jt.attr=function(e,t){(e.ownerDocument||e)!==st&&it(e);var n=Je.attrHandle[t.toLowerCase()],r=n&&kt.call(Je.attrHandle,t.toLowerCase())?n(e,t,!ct):void 0;return void 0!==r?r:Ge.attributes||!ct?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Jt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Jt.uniqueSort=function(e){var t,n=[],r=0,o=0;if(at=!Ge.detectDuplicates,ot=!Ge.sortStable&&e.slice(0),e.sort(xt),at){while(t=e[o++])t===e[o]&&(r=n.push(o));while(r--)e.splice(n[r],1)}return ot=null,e},Qe=Jt.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Qe(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=Qe(t);return n},Je=Jt.selectors={cacheLength:50,createPseudo:Zt,match:Vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Xt,Gt),e[3]=(e[3]||e[4]||e[5]||"").replace(Xt,Gt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Jt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Jt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Vt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&jt.test(n)&&(t=et(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Xt,Gt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=bt[e+" "];return t||(t=new RegExp("(^|"+It+")"+e+"("+It+"|$)"))&&bt(e,function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==Ct&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Jt.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,m,p,h=a!==i?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!u&&!s;if(g){if(a){while(h){d=t;while(d=d[h])if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[i?g.firstChild:g.lastChild],i&&b){l=g[pt]||(g[pt]={}),c=l[e]||[],m=c[0]===gt&&c[1],f=c[0]===gt&&c[2],d=m&&g.childNodes[m];while(d=++m&&d&&d[h]||(f=m=0)||p.pop())if(1===d.nodeType&&++f&&d===t){l[e]=[gt,m,f];break}}else if(b&&(c=(t[pt]||(t[pt]={}))[e])&&c[0]===gt)f=c[1];else while(d=++m&&d&&d[h]||(f=m=0)||p.pop())if((s?d.nodeName.toLowerCase()===v:1===d.nodeType)&&++f&&(b&&((d[pt]||(d[pt]={}))[e]=[gt,f]),d===t))break;return f-=o,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=Je.pseudos[e]||Je.setFilters[e.toLowerCase()]||Jt.error("unsupported pseudo: "+e);return r[pt]?r(t):r.length>1?(n=[e,e,"",t],Je.setFilters.hasOwnProperty(e.toLowerCase())?Zt(function(e,n){var o,a=r(e,t),i=a.length;while(i--)o=Rt.call(e,a[i]),e[o]=!(n[o]=a[i])}):function(e){return r(e,0,n)}):r}},pseudos:{not:Zt(function(e){var t=[],n=[],r=tt(e.replace(Lt,"$1"));return r[pt]?Zt(function(e,t,n,o){var a,i=r(e,null,o,[]),s=e.length;while(s--)(a=i[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:Zt(function(e){return function(t){return Jt(e,t).length>0}}),contains:Zt(function(e){return e=e.replace(Xt,Gt),function(t){return(t.textContent||t.innerText||Qe(t)).indexOf(e)>-1}}),lang:Zt(function(e){return Ht.test(e||"")||Jt.error("unsupported lang: "+e),e=e.replace(Xt,Gt).toLowerCase(),function(t){var n;do{if(n=ct?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===ut},focus:function(e){return e===st.activeElement&&(!st.hasFocus||st.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Je.pseudos.empty(e)},header:function(e){return Ut.test(e.nodeName)},input:function(e){return $t.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:rn(function(){return[0]}),last:rn(function(e,t){return[t-1]}),eq:rn(function(e,t,n){return[n<0?n+t:n]}),even:rn(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:rn(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:rn(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:rn(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Je.pseudos.nth=Je.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Je.pseudos[Xe]=tn(Xe);for(Xe in{submit:!0,reset:!0})Je.pseudos[Xe]=nn(Xe);function an(){}function sn(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function un(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=vt++;return t.first?function(t,n,a){while(t=t[r])if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,i){var s,u,c=[gt,a];if(i){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,i))return!0}else while(t=t[r])if(1===t.nodeType||o){if(u=t[pt]||(t[pt]={}),(s=u[r])&&s[0]===gt&&s[1]===a)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,i))return!0}}}function cn(e){return e.length>1?function(t,n,r){var o=e.length;while(o--)if(!e[o](t,n,r))return!1;return!0}:e[0]}function ln(e,t,n){for(var r=0,o=t.length;r<o;r++)Jt(e,t[r],n);return n}function dn(e,t,n,r,o){for(var a,i=[],s=0,u=e.length,c=null!=t;s<u;s++)(a=e[s])&&(n&&!n(a,r,o)||(i.push(a),c&&t.push(s)));return i}function fn(e,t,n,r,o,a){return r&&!r[pt]&&(r=fn(r)),o&&!o[pt]&&(o=fn(o,a)),Zt(function(a,i,s,u){var c,l,d,f=[],m=[],p=i.length,h=a||ln(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?h:dn(h,f,e,s,u),v=n?o||(a?e:p||r)?[]:i:g;if(n&&n(g,v,s,u),r){c=dn(v,m),r(c,[],s,u),l=c.length;while(l--)(d=c[l])&&(v[m[l]]=!(g[m[l]]=d))}if(a){if(o||e){if(o){c=[],l=v.length;while(l--)(d=v[l])&&c.push(g[l]=d);o(null,v=[],c,u)}l=v.length;while(l--)(d=v[l])&&(c=o?Rt.call(a,d):f[l])>-1&&(a[c]=!(i[c]=d))}}else v=dn(v===i?v.splice(p,v.length):v),o?o(null,i,v,u):Et.apply(i,v)})}function mn(e){for(var t,n,r,o=e.length,a=Je.relative[e[0].type],i=a||Je.relative[" "],s=a?1:0,u=un(function(e){return e===t},i,!0),c=un(function(e){return Rt.call(t,e)>-1},i,!0),l=[function(e,n,r){return!a&&(r||n!==rt)||((t=n).nodeType?u(e,n,r):c(e,n,r))}];s<o;s++)if(n=Je.relative[e[s].type])l=[un(cn(l),n)];else{if(n=Je.filter[e[s].type].apply(null,e[s].matches),n[pt]){for(r=++s;r<o;r++)if(Je.relative[e[r].type])break;return fn(s>1&&cn(l),s>1&&sn(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Lt,"$1"),n,s<r&&mn(e.slice(s,r)),r<o&&mn(e=e.slice(r)),r<o&&sn(e))}l.push(n)}return cn(l)}function pn(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,i,s,u){var c,l,d,f=0,m="0",p=o&&[],h=[],g=rt,v=o||r&&Je.find.TAG("*",u),b=gt+=null==g?1:Math.random()||.1,y=v.length;for(u&&(rt=a!==st&&a);m!==y&&null!=(c=v[m]);m++){if(r&&c){l=0;while(d=e[l++])if(d(c,a,i)){s.push(c);break}u&&(gt=b)}n&&((c=!d&&c)&&f--,o&&p.push(c))}if(f+=m,n&&m!==f){l=0;while(d=t[l++])d(p,h,a,i);if(o){if(f>0)while(m--)p[m]||h[m]||(h[m]=Tt.call(s));h=dn(h)}Et.apply(s,h),u&&!o&&h.length>0&&f+t.length>1&&Jt.uniqueSort(s)}return u&&(gt=b,rt=g),p};return n?Zt(o):o}an.prototype=Je.filters=Je.pseudos,Je.setFilters=new an,et=Jt.tokenize=function(e,t){var n,r,o,a,i,s,u,c=yt[e+" "];if(c)return t?0:c.slice(0);i=e,s=[],u=Je.preFilter;while(i){for(a in n&&!(r=Pt.exec(i))||(r&&(i=i.slice(r[0].length)||i),s.push(o=[])),n=!1,(r=zt.exec(i))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Lt," ")}),i=i.slice(n.length)),Je.filter)!(r=Vt[a].exec(i))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),i=i.slice(n.length));if(!n)break}return t?i.length:i?Jt.error(e):yt(e,s).slice(0)},tt=Jt.compile=function(e,t){var n,r=[],o=[],a=wt[e+" "];if(!a){t||(t=et(e)),n=t.length;while(n--)a=mn(t[n]),a[pt]?r.push(a):o.push(a);a=wt(e,pn(o,r)),a.selector=e}return a},nt=Jt.select=function(e,t,n,r){var o,a,i,s,u,c="function"===typeof e&&e,l=!r&&et(e=c.selector||e);if(n=n||[],1===l.length){if(a=l[0]=l[0].slice(0),a.length>2&&"ID"===(i=a[0]).type&&Ge.getById&&9===t.nodeType&&ct&&Je.relative[a[1].type]){if(t=(Je.find.ID(i.matches[0].replace(Xt,Gt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}o=Vt.needsContext.test(e)?0:a.length;while(o--){if(i=a[o],Je.relative[s=i.type])break;if((u=Je.find[s])&&(r=u(i.matches[0].replace(Xt,Gt),Kt.test(a[0].type)&&on(t.parentNode)||t))){if(a.splice(o,1),e=r.length&&sn(a),!e)return Et.apply(n,r),n;break}}}return(c||tt(e,l))(r,t,!ct,n,Kt.test(e)&&on(t.parentNode)||t),n},Ge.sortStable=pt.split("").sort(xt).join("")===pt,Ge.detectDuplicates=!!at,it(),Ge.sortDetached=!0;var hn=Array.isArray,gn=function(e){var t,n,r=e;if(!hn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},vn=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},bn=function(e,t){var n=[];return vn(e,function(r,o){n.push(t(r,o,e))}),n},yn=function(e,t){var n=[];return vn(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},wn=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},xn=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},Cn=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Sn=function(e,t,n){var r=Cn(e,t,n);if(-1!==r)return e[r]},kn=function(e){return e[e.length-1]},_n={isArray:hn,toArray:gn,each:vn,map:bn,filter:yn,indexOf:wn,reduce:xn,findIndex:Cn,find:Sn,last:kn},Tn=/^\s*|\s*$/g,On=function(e){return null===e||void 0===e?"":(""+e).replace(Tn,"")},En=function(e,t){return t?!("array"!==t||!_n.isArray(e))||typeof e===t:void 0!==e},Dn=function(e,t,n){var r;e=e||[],t=t||",","string"===typeof e&&(e=e.split(t)),n=n||{},r=e.length;while(r--)n[e[r]]={};return n},Rn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Nn=function(e,t,n){var r,o,a,i,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],o=u.createNS(e[3].replace(/\.\w+$/,""),n),!o[a]){if("static"===e[2])return o[a]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[a]));t[a]||(t[a]=function(){},c=1),o[a]=t[a],u.extend(o[a].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],s=o[a],o[a]=c?function(){return r[i].apply(this,arguments)}:function(){return this.parent=r[i],s.apply(this,arguments)},o[a].prototype[a]=o[a],u.each(r,function(e,t){o[a].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?o[a].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==a&&(o[a].prototype[t]=e)})),u.each(t.static,function(e,t){o[a][t]=e})}},In=function(e,t){for(var n,r,o,a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s,u=arguments;for(n=1,r=u.length;n<r;n++)for(o in t=u[n],t)t.hasOwnProperty(o)&&(s=t[o],void 0!==s&&(e[o]=s));return e},An=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),_n.each(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;An(e,t,n,r)}))},Mn=function(e,n){var r,o;for(n=n||t.window,e=e.split("."),r=0;r<e.length;r++)o=e[r],n[o]||(n[o]={}),n=n[o];return n},Bn=function(e,n){var r,o;for(n=n||t.window,e=e.split("."),r=0,o=e.length;r<o;r++)if(n=n[e[r]],!n)break;return n},Ln=function(e,t){return!e||En(e,"array")?e:_n.map(e.split(t||","),On)},Pn=function(e){var t=Oe.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},zn={trim:On,isArray:_n.isArray,is:En,toArray:_n.toArray,makeMap:Dn,each:_n.each,map:_n.map,grep:_n.filter,inArray:_n.indexOf,hasOwn:Rn,extend:In,create:Nn,walk:An,createNS:Mn,resolve:Bn,explode:Ln,_addCacheSuffix:Pn},Fn=t.document,jn=Array.prototype.push,Hn=Array.prototype.slice,Vn=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,$n=Ye.Event,Un=zn.makeMap("children,contents,next,prev"),qn=function(e){return"undefined"!==typeof e},Wn=function(e){return"string"===typeof e},Kn=function(e){return e&&e===e.window},Yn=function(e,t){var n,r,o;t=t||Fn,o=t.createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;while(r=o.firstChild)n.appendChild(r);return n},Xn=function(e,t,n,r){var o;if(Wn(t))t=Yn(t,lr(e[0]));else if(t.length&&!t.nodeType){if(t=or.makeArray(t),r)for(o=t.length-1;o>=0;o--)Xn(e,t[o],n,r);else for(o=0;o<t.length;o++)Xn(e,t[o],n,r);return e}if(t.nodeType){o=e.length;while(o--)n.call(e[o],t)}return e},Gn=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Jn=function(e,t,n){var r,o;return t=or(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},Qn=zn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Zn=zn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),er={for:"htmlFor",class:"className",readonly:"readOnly"},tr={float:"cssFloat"},nr={},rr={},or=function(e,t){return new or.fn.init(e,t)},ar=function(e,t){var n;if(t.indexOf)return t.indexOf(e);n=t.length;while(n--)if(t[n]===e)return n;return-1},ir=/^\s*|\s*$/g,sr=function(e){return null===e||void 0===e?"":(""+e).replace(ir,"")},ur=function(e,t){var n,r,o,a;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],!1===t.call(a,r,a)))break}else for(o=0;o<n;o++)if(a=e[o],!1===t.call(a,o,a))break;return e},cr=function(e,t){var n=[];return ur(e,function(e,r){t(r,e)&&n.push(r)}),n},lr=function(e){return e?9===e.nodeType?e:e.ownerDocument:Fn};or.fn=or.prototype={constructor:or,selector:"",context:null,length:0,init:function(e,n){var r,o,a=this;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return or(e).attr(n);a.context=n=t.document}if(Wn(e)){if(a.selector=e,r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Vn.exec(e),!r)return or(n).find(e);if(r[1]){o=Yn(e,lr(n)).firstChild;while(o)jn.call(a,o),o=o.nextSibling}else{if(o=lr(n).getElementById(r[2]),!o)return a;if(o.id!==r[2])return a.find(e);a.length=1,a[0]=o}}else this.add(e,!1);return a},toArray:function(){return zn.toArray(this)},add:function(e,t){var n,r,o=this;if(Wn(e))return o.add(or(e));if(!1!==t)for(n=or.unique(o.toArray().concat(or.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else jn.apply(o,or.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"===typeof e)ur(e,function(e,t){r.attr(e,t)});else{if(!qn(t)){if(r[0]&&1===r[0].nodeType){if(n=nr[e],n&&n.get)return n.get(r[0],e);if(Zn[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=nr[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=er[e]||e,"object"===typeof e)ur(e,function(e,t){n.prop(e,t)});else{if(!qn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,a=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},i=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"===typeof e)ur(e,function(e,t){o.css(e,t)});else if(qn(t))e=a(e),"number"!==typeof t||Qn[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if(r=rr[e],r&&r.set)r.set(this,t);else{try{this.style[tr[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(i(e)):n.removeAttribute(e))}});else{if(n=o[0],r=rr[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[a(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(i(e))}catch(s){return}}return o},remove:function(){var e,t=this,n=this.length;while(n--)e=t[n],$n.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){var e,t=this,n=this.length;while(n--){e=t[n];while(e.firstChild)e.removeChild(e.firstChild)}return this},html:function(e){var t,n=this;if(qn(e)){t=n.length;try{while(t--)n[t].innerHTML=e}catch(r){or(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(qn(e)){t=n.length;while(t--)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Xn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Xn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Xn(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Xn(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return or(e).append(this),this},prependTo:function(e){return or(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Jn(this,e)},wrapAll:function(e){return Jn(this,e,!0)},wrapInner:function(e){return this.each(function(){or(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){or(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),or(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!==typeof e?n:(-1!==e.indexOf(" ")?ur(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,a;a=Gn(r,e),a!==t&&(o=r.className,a?r.className=sr((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return Gn(this[0],e)},each:function(e){return ur(this,e)},on:function(e,t){return this.each(function(){$n.bind(this,e,t)})},off:function(e,t){return this.each(function(){$n.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"===typeof e?$n.fire(this,e.type,e):$n.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new or(Hn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)or.find(e,this[t],r);return or(r)},filter:function(e){return or("function"===typeof e?cr(this.toArray(),function(t,n){return e(n,t)}):or.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof or&&(e=e[0]),this.each(function(n,r){while(r){if("string"===typeof e&&or(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),or(t)},offset:function(e){var t,n,r,o,a=0,i=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:jn,sort:[].sort,splice:[].splice},zn.extend(or,{extend:zn.extend,makeArray:function(e){return Kn(e)||e.nodeType?[e]:zn.toArray(e)},inArray:ar,isArray:zn.isArray,each:ur,trim:sr,grep:cr,find:Jt,expr:Jt.selectors,unique:Jt.uniqueSort,text:Jt.getText,contains:Jt.contains,filter:function(e,t,n){var r=t.length;n&&(e=":not("+e+")");while(r--)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?or.find.matchesSelector(t[0],e)?[t[0]]:[]:or.find.matches(e,t),t}});var dr=function(e,t,n){var r=[],o=e[t];"string"!==typeof n&&n instanceof or&&(n=n[0]);while(o&&9!==o.nodeType){if(void 0!==n){if(o===n)break;if("string"===typeof n&&or(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},fr=function(e,t,n,r){var o=[];for(r instanceof or&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"===typeof r&&or(e).is(r))break}o.push(e)}return o},mr=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};ur({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return dr(e,"parentNode")},next:function(e){return mr(e,"nextSibling",1)},prev:function(e){return mr(e,"previousSibling",1)},children:function(e){return fr(e.firstChild,"nextSibling",1)},contents:function(e){return zn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){or.fn[e]=function(n){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(or.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(Un[e]||(o=or.unique(o)),0===e.indexOf("parents")&&(o=o.reverse())),o=or(o),n?o.filter(n):o}}),ur({parentsUntil:function(e,t){return dr(e,"parentNode",t)},nextUntil:function(e,t){return fr(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return fr(e,"previousSibling",1,t).slice(1)}},function(e,t){or.fn[e]=function(n,r){var o=this,a=[];return o.each(function(){var e=t.call(a,this,n,a);e&&(or.isArray(e)?a.push.apply(a,e):a.push(e))}),this.length>1&&(a=or.unique(a),0!==e.indexOf("parents")&&"prevUntil"!==e||(a=a.reverse())),a=or(a),r?a.filter(r):a}}),or.fn.is=function(e){return!!e&&this.filter(e).length>0},or.fn.init.prototype=or.fn,or.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return or.extend(n,this),n};var pr=function(e,t,n){ur(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};Oe.ie&&Oe.ie<8&&(pr(nr,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),pr(nr,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),Oe.ie&&Oe.ie<9&&(tr.float="styleFloat",pr(rr,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),or.attrHooks=nr,or.cssHooks=rr;var hr=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},gr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},vr=function(e,t){var n=gr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return wr(r(1),r(2))},br=function(e,t){var n=String(t).toLowerCase();return 0===e.length?yr():vr(e,n)},yr=function(){return wr(0,0)},wr=function(e,t){return{major:e,minor:t}},xr={nu:wr,detect:br,unknown:yr},Cr="Edge",Sr="Chrome",kr="IE",_r="Opera",Tr="Firefox",Or="Safari",Er=function(e,t){return function(){return t===e}},Dr=function(){return Rr({current:void 0,version:xr.unknown()})},Rr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Er(Cr,t),isChrome:Er(Sr,t),isIE:Er(kr,t),isOpera:Er(_r,t),isFirefox:Er(Tr,t),isSafari:Er(Or,t)}},Nr={unknown:Dr,nu:Rr,edge:o(Cr),chrome:o(Sr),ie:o(kr),opera:o(_r),firefox:o(Tr),safari:o(Or)},Ir="Windows",Ar="iOS",Mr="Android",Br="Linux",Lr="OSX",Pr="Solaris",zr="FreeBSD",Fr=function(e,t){return function(){return t===e}},jr=function(){return Hr({current:void 0,version:xr.unknown()})},Hr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:Fr(Ir,t),isiOS:Fr(Ar,t),isAndroid:Fr(Mr,t),isOSX:Fr(Lr,t),isLinux:Fr(Br,t),isSolaris:Fr(Pr,t),isFreeBSD:Fr(zr,t)}},Vr={unknown:jr,nu:Hr,windows:o(Ir),ios:o(Ar),android:o(Mr),linux:o(Br),osx:o(Lr),solaris:o(Pr),freebsd:o(zr)},$r=function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,u=r||i||s&&!0===/mobile/i.test(n),c=e.isiOS()||e.isAndroid(),l=c&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:o(r),isiPhone:o(a),isTablet:o(u),isPhone:o(l),isTouch:o(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(d)}},Ur=function(e,t){var n=String(t).toLowerCase();return J(e,function(e){return e.search(n)})},qr=function(e,t){return Ur(e,t).map(function(e){var n=xr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Wr=function(e,t){return Ur(e,t).map(function(e){var n=xr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Kr={detectBrowser:qr,detectOs:Wr},Yr=function(e,t){return-1!==e.indexOf(t)},Xr=function(e){return e.replace(/^\s+|\s+$/g,"")},Gr=function(e){return e.replace(/^\s+/g,"")},Jr=function(e){return e.replace(/\s+$/g,"")},Qr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zr=function(e){return function(t){return Yr(t,e)}},eo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=Yr(e,"edge/")&&Yr(e,"chrome")&&Yr(e,"safari")&&Yr(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qr],search:function(e){return Yr(e,"chrome")&&!Yr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Yr(e,"msie")||Yr(e,"trident")}},{name:"Opera",versionRegexes:[Qr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zr("firefox")},{name:"Safari",versionRegexes:[Qr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Yr(e,"safari")||Yr(e,"mobile/"))&&Yr(e,"applewebkit")}}],to=[{name:"Windows",search:Zr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Yr(e,"iphone")||Yr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Zr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zr("linux"),versionRegexes:[]},{name:"Solaris",search:Zr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zr("freebsd"),versionRegexes:[]}],no={browsers:o(eo),oses:o(to)},ro=function(e){var t=no.browsers(),n=no.oses(),r=Kr.detectBrowser(t,e).fold(Nr.unknown,Nr.nu),o=Kr.detectOs(n,e).fold(Vr.unknown,Vr.nu),a=$r(o,r,e);return{browser:r,os:o,deviceType:a}},oo={detect:ro},ao=hr(function(){var e=t.navigator.userAgent;return oo.detect(e)}),io={detect:ao},so=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return lo(o.childNodes[0])},uo=function(e,n){var r=n||t.document,o=r.createElement(e);return lo(o)},co=function(e,n){var r=n||t.document,o=r.createTextNode(e);return lo(o)},lo=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},fo=function(e,t,n){var r=e.dom();return R.from(r.elementFromPoint(t,n)).map(lo)},mo={fromHtml:so,fromTag:uo,fromText:co,fromDom:lo,fromPoint:fo},po=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),ho=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),go=t.Node.TEXT_NODE,vo=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,function(e){var t=e.dom().nodeName;return t.toLowerCase()}),bo=function(e){return e.dom().nodeType},yo=function(e){return function(t){return bo(t)===e}},wo=yo(ho),xo=yo(go),Co=Object.keys,So=Object.hasOwnProperty,ko=function(e,t){for(var n=Co(e),r=0,o=n.length;r<o;r++){var a=n[r],i=e[a];t(i,a,e)}},_o=function(e,t){return To(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},To=function(e,t){var n={};return ko(e,function(r,o){var a=t(r,o,e);n[a.k]=a.v}),n},Oo=function(e,t){var n={},r={};return ko(e,function(e,o){var a=t(e,o)?n:r;a[o]=e}),{t:n,f:r}},Eo=function(e,t){return Do(e,t)?R.from(e[t]):R.none()},Do=function(e,t){return So.call(e,t)},Ro=function(e){return void 0!==e.style},No=function(e){var t=xo(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Io=function(e,n,r){if(!(A(r)||P(r)||F(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Ao=function(e,t,n){Io(e.dom(),t,n)},Mo=function(e,t){var n=e.dom();ko(t,function(e,t){Io(n,t,e)})},Bo=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Lo=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Po=function(e,t){e.dom().removeAttribute(t)},zo=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),a=o.getPropertyValue(n),i=""!==a||No(e)?a:Fo(r,n);return null===i?void 0:i},Fo=function(e,t){return Ro(e)?e.style.getPropertyValue(t):""},jo=function(e,t){var n=e.dom(),r=Fo(n,t);return R.from(r).filter(function(e){return e.length>0})},Ho=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return q(e,function(e,n){r[e]=o(t[n])}),r}},Vo=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},$o={toArray:Vo},Uo=function(){var e=ve.getOrDie("Node");return e},qo=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Wo=function(e,t){return qo(e,t,Uo().DOCUMENT_POSITION_PRECEDING)},Ko=function(e,t){return qo(e,t,Uo().DOCUMENT_POSITION_CONTAINED_BY)},Yo={documentPositionPreceding:Wo,documentPositionContainedBy:Ko},Xo=ho,Go=po,Jo=function(e,t){var n=e.dom();if(n.nodeType!==Xo)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Qo=function(e){return e.nodeType!==Xo&&e.nodeType!==Go||0===e.childElementCount},Zo=function(e,n){var r=void 0===n?t.document:n.dom();return Qo(r)?[]:U(r.querySelectorAll(e),mo.fromDom)},ea=function(e,n){var r=void 0===n?t.document:n.dom();return Qo(r)?R.none():R.from(r.querySelector(e)).map(mo.fromDom)},ta=function(e,t){return e.dom()===t.dom()},na=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ra=function(e,t){return Yo.documentPositionContainedBy(e.dom(),t.dom())},oa=io.detect().browser,aa=oa.isIE()?ra:na,ia=function(e){return mo.fromDom(e.dom().ownerDocument)},sa=function(e){return mo.fromDom(e.dom().ownerDocument.documentElement)},ua=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return mo.fromDom(n)},ca=function(e){var t=e.dom();return R.from(t.parentNode).map(mo.fromDom)},la=function(e,t){var n=z(t)?t:o(!1),r=e.dom(),a=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,s=mo.fromDom(i);if(a.push(s),!0===n(s))break;r=i}return a},da=function(e){var t=e.dom();return R.from(t.previousSibling).map(mo.fromDom)},fa=function(e){var t=e.dom();return R.from(t.nextSibling).map(mo.fromDom)},ma=function(e){return ae($o.toArray(e,da))},pa=function(e){return $o.toArray(e,fa)},ha=function(e){var t=e.dom();return U(t.childNodes,mo.fromDom)},ga=function(e,t){var n=e.dom().childNodes;return R.from(n[t]).map(mo.fromDom)},va=function(e){return ga(e,0)},ba=function(e){return ga(e,e.dom().childNodes.length-1)},ya=function(e){return e.dom().childNodes.length},wa=(Ho("element","offset"),io.detect().browser),xa=function(e){return J(e,wo)},Ca=function(e){return wa.isFirefox()&&"table"===vo(e)?xa(ha(e)).filter(function(e){return"caption"===vo(e)}).bind(function(e){return xa(pa(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},Sa=function(e,t,n){var r,o,a=0,i=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===zo(mo.fromDom(e),"position"))return o=t.getBoundingClientRect(),a=o.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,i=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:a,y:i};r=t;while(r&&r!==n&&r.nodeType)a+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;r=t.parentNode;while(r&&r!==n&&r.nodeType)a-=r.scrollLeft||0,i-=r.scrollTop||0,r=r.parentNode;i+=Ca(mo.fromDom(t))}return{x:a,y:i}},ka={getPos:Sa},_a=function(e){var n=R.none(),r=[],o=function(e){return _a(function(t){a(function(n){t(e(n))})})},a=function(e){s()?c(e):r.push(e)},i=function(e){n=R.some(e),u(r),r=[]},s=function(){return n.isSome()},u=function(e){q(e,c)},c=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(i),{get:a,map:o,isReady:s}},Ta=function(e){return _a(function(t){t(e)})},Oa={nu:_a,pure:Ta},Ea=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;t.setTimeout(function(){e.apply(o,n)},0)}},Da=function(e){var t=function(t){e(Ea(t))},n=function(e){return Da(function(n){t(function(t){var r=e(t);n(r)})})},r=function(e){return Da(function(n){t(function(t){e(t).get(n)})})},o=function(e){return Da(function(n){t(function(t){e.get(n)})})},a=function(){return Oa.nu(t)},i=function(){var e=null;return Da(function(t){null===e&&(e=a()),e.get(t)})};return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,get:t}},Ra=function(e){return Da(function(t){t(e)})},Na={nu:Da,pure:Ra},Ia=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(a){n[o]=a,r++,r>=e.length&&t(n)}};0===e.length?t([]):q(e,function(e,t){e.get(o(t))})})},Aa=function(e){return Ia(e,Na.nu)},Ma=function(e){var t=function(t){return e===t},n=function(t){return Ma(e)},r=function(t){return Ma(e)},a=function(t){return Ma(t(e))},i=function(t){return Ma(e)},s=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},l=function(t){return t(e)},d=function(t){return t(e)},f=function(){return R.some(e)};return{is:t,isValue:S,isError:C,getOr:o(e),getOrThunk:o(e),getOrDie:o(e),or:n,orThunk:r,fold:c,map:a,mapError:i,each:s,bind:u,exists:l,forall:d,toOption:f}},Ba=function(e){var t=function(e){return e()},r=function(){return x(String(e))()},o=function(e){return e},i=function(e){return e()},s=function(t){return Ba(e)},u=function(t){return Ba(t(e))},c=function(t){return Ba(e)},l=function(t,n){return t(e)};return{is:C,isValue:C,isError:S,getOr:a,getOrThunk:t,getOrDie:r,or:o,orThunk:i,fold:l,map:s,mapError:u,each:n,bind:c,exists:C,forall:S,toOption:R.none}},La={value:Ma,error:Ba};function Pa(e,n){void 0===n&&(n={});var i,s=0,u={};i=n.maxLoadTime||5e3;var c=function(t){e.getElementsByTagName("head")[0].appendChild(t)},l=function(r,o,a){var l,d,f,m,p=function(e){m.status=e,m.passed=[],m.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=function(){var e=m.passed,t=e.length;while(t--)e[t]();p(2)},g=function(){var e=m.failed,t=e.length;while(t--)e[t]();p(3)},v=function(){var e=t.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},b=function(e,t){e()||((new Date).getTime()-f<i?Le.setTimeout(t):g())},y=function(){b(function(){var t,n,r=e.styleSheets,o=r.length;while(o--)if(t=r[o],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===l.id)return h(),!0},y)},w=function(){b(function(){try{var e=d.sheet.cssRules;return h(),!!e}catch(t){}},w)};if(r=zn._addCacheSuffix(r),u[r]?m=u[r]:(m={passed:[],failed:[]},u[r]=m),o&&m.passed.push(o),a&&m.failed.push(a),1!==m.status)if(2!==m.status)if(3!==m.status){if(m.status=1,l=e.createElement("link"),l.rel="stylesheet",l.type="text/css",l.id="u"+s++,l.async=!1,l.defer=!1,f=(new Date).getTime(),n.contentCssCors&&(l.crossOrigin="anonymous"),"onload"in l&&!v())l.onload=y,l.onerror=g;else{if(t.navigator.userAgent.indexOf("Firefox")>0)return d=e.createElement("style"),d.textContent='@import "'+r+'"',w(),void c(d);y()}c(l),l.href=r}else g();else h()},d=function(e){return Na.nu(function(t){l(e,r(t,o(La.value(e))),r(t,o(La.error(e))))})},f=function(e){return e.fold(a,a)},m=function(e,t,n){Aa(U(e,d)).get(function(e){var r=K(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(f)):t(r.pass.map(f))})};return{load:l,loadAll:m}}function za(e,t){var n=e,r=function(e,n,r,o){var a,i;if(e){if(!o&&e[n])return e[n];if(e!==t){if(a=e[r],a)return a;for(i=e.parentNode;i&&i!==t;i=i.parentNode)if(a=i[r],a)return a}}},o=function(e,n,r,o){var a,i,s;if(e){if(a=e[r],t&&a===t)return;if(a){if(!o)for(s=a[n];s;s=s[n])if(!s[n])return s;return a}if(i=e.parentNode,i&&i!==t)return i}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e),n},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e),n},this.prev2=function(e){return n=o(n,"lastChild","previousSibling",e),n}}var Fa,ja,Ha,Va=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],$a=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Ua=["td","th"],qa=["thead","tbody","tfoot"],Wa=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ka=["h1","h2","h3","h4","h5","h6"],Ya=["li","dd","dt"],Xa=["ul","ol","dl"],Ga=["pre","script","textarea","style"],Ja=function(e){var t;return function(n){return t=t||se(e,o(!0)),t.hasOwnProperty(vo(n))}},Qa=Ja(Ka),Za=Ja(Va),ei=function(e){return"table"===vo(e)},ti=function(e){return wo(e)&&!Za(e)},ni=function(e){return wo(e)&&"br"===vo(e)},ri=Ja(Wa),oi=Ja(Xa),ai=Ja(Ya),ii=Ja($a),si=Ja(qa),ui=Ja(Ua),ci=Ja(Ga),li=function(e){return function(t){return!!t&&t.nodeType===e}},di=li(1),fi=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},mi=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,o;if(di(t))for(r=0;r<n.length;r++){var a=t.ownerDocument.defaultView.getComputedStyle(t,null);if(o=a?a.getPropertyValue(e):null,o===n[r])return!0}return!1}},pi=function(e,t){return function(n){return di(n)&&n[e]===t}},hi=function(e,t){return function(t){return di(t)&&t.hasAttribute(e)}},gi=function(e,t){return function(n){return di(n)&&n.getAttribute(e)===t}},vi=function(e){return di(e)&&e.hasAttribute("data-mce-bogus")},bi=function(e){return di(e)&&"all"===e.getAttribute("data-mce-bogus")},yi=function(e){return di(e)&&"TABLE"===e.tagName},wi=function(e){return function(t){if(di(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},xi=li(3),Ci=li(8),Si=li(9),ki=li(11),_i=fi("br"),Ti=wi("true"),Oi=wi("false"),Ei={isText:xi,isElement:di,isComment:Ci,isDocument:Si,isDocumentFragment:ki,isBr:_i,isContentEditableTrue:Ti,isContentEditableFalse:Oi,matchNodeNames:fi,hasPropValue:pi,hasAttribute:hi,hasAttributeValue:gi,matchStyleValues:mi,isBogus:vi,isBogusAll:bi,isTable:yi},Di=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},Ri=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Ni=function(e,t){var n,r=t.childNodes;if(!Ei.isElement(t)||!Ri(t)){for(n=r.length-1;n>=0;n--)Ni(e,r[n]);if(!1===Ei.isDocument(t)){if(Ei.isText(t)&&t.nodeValue.length>0){var o=zn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&Di(t))return}else if(Ei.isElement(t)&&(r=t.childNodes,1===r.length&&Ri(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||ii(mo.fromDom(t))))return;e.remove(t)}return t}},Ii={trimNode:Ni},Ai=zn.makeMap,Mi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Li=/[<>&\"\']/g,Pi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,zi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};ja={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ha={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Fi=function(e){var t;return t=mo.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},ji=function(e,t){var n,r,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),ja[r]||(o="&"+e[n+1]+";",a[r]=o,a[o]=r);return a}};Fa=ji("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Hi=function(e,t){return e.replace(t?Mi:Bi,function(e){return ja[e]||e})},Vi=function(e){return(""+e).replace(Li,function(e){return ja[e]||e})},$i=function(e,t){return e.replace(t?Mi:Bi,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ja[e]||"&#"+e.charCodeAt(0)+";"})},Ui=function(e,t,n){return n=n||Fa,e.replace(t?Mi:Bi,function(e){return ja[e]||n[e]||e})},qi=function(e,t){var n=ji(t)||Fa,r=function(e,t){return e.replace(t?Mi:Bi,function(e){return void 0!==ja[e]?ja[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return Ui(e,t,n)},a=Ai(e.replace(/\+/g,","));return a.named&&a.numeric?r:a.named?t?o:Ui:a.numeric?$i:Hi},Wi=function(e){return e.replace(Pi,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):zi[t]||String.fromCharCode(t)):Ha[e]||Fa[e]||Fi(e)})},Ki={encodeRaw:Hi,encodeAllRaw:Vi,encodeNumeric:$i,encodeNamed:Ui,getEncodeFunc:qi,decode:Wi},Yi={},Xi={},Gi=zn.makeMap,Ji=zn.each,Qi=zn.extend,Zi=zn.explode,es=zn.inArray,ts=function(e,t){return e=zn.trim(e),e?e.split(t||" "):[]},ns=function(e){var t,n,r,o,a,i,s={},u=function(e,n,r){var o,a,i,u=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};r=r||[],n=n||"","string"===typeof r&&(r=ts(r)),e=ts(e),o=e.length;while(o--)a=ts([t,n].join(" ")),i={attributes:u(a),attributesOrder:a,children:u(r,Xi)},s[e[o]]=i},c=function(e,t){var n,r,o,a;e=ts(e),n=e.length,t=ts(t);while(n--)for(r=s[e[n]],o=0,a=t.length;o<a;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Yi[e]?Yi[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",i="acronym applet basefont big font strike tt",r=[r,i].join(" "),Ji(ts(i),function(e){u(e,"",r)}),a="center dir isindex noframes",n=[n,a].join(" "),o=[n,r].join(" "),Ji(ts(a),function(e){u(e,"",o)})),o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),Ji(ts("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Yi[e]=s,s)},rs=function(e,t){var n;return e&&(n={},"string"===typeof e&&(e={"*":e}),Ji(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Gi(e,/[, ]/):Zi(e,/[, ]/)})),n};function os(e){var t,n,r,o,a,i,s,u,c,l,d,f,m,p={},h={},g=[],v={},b={},y=function(t,n,r){var o=e[t];return o?o=Gi(o,/[, ]/,Gi(o.toUpperCase(),/[, ]/)):(o=Yi[t],o||(o=Gi(n," ",Gi(n.toUpperCase()," ")),o=Qi(o,r),Yi[t]=o)),o};e=e||{},r=ns(e.schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=rs(e.valid_styles),n=rs(e.invalid_styles,"map"),u=rs(e.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),a=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),i=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=y("non_empty_elements","td th iframe video audio object script pre code",i),d=y("move_caret_before_on_enter_elements","table",l),f=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),m=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Ji((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,a,i,s,u,c,l,d,f,m,h,v,b,y,x,C,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_=/[*?+]/;if(e)for(e=ts(e,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(a=S.exec(e[t]),a){if(h=a[1],c=a[2],v=a[3],u=a[5],f={},m=[],i={attributes:f,attributesOrder:m},"#"===h&&(i.paddEmpty=!0),"-"===h&&(i.removeEmpty=!0),"!"===a[4]&&(i.removeEmptyAttrs=!0),b){for(x in b)f[x]=b[x];m.push.apply(m,y)}if(u)for(u=ts(u,"|"),r=0,o=u.length;r<o;r++)if(a=k.exec(u[r]),a){if(s={},d=a[1],l=a[2].replace(/[\\:]:/g,":"),h=a[3],C=a[4],"!"===d&&(i.attributesRequired=i.attributesRequired||[],i.attributesRequired.push(l),s.required=!0),"-"===d){delete f[l],m.splice(es(m,l),1);continue}h&&("="===h&&(i.attributesDefault=i.attributesDefault||[],i.attributesDefault.push({name:l,value:C}),s.defaultValue=C),":"===h&&(i.attributesForced=i.attributesForced||[],i.attributesForced.push({name:l,value:C}),s.forcedValue=C),"<"===h&&(s.validValues=Gi(C,"?"))),_.test(l)?(i.attributePatterns=i.attributePatterns||[],s.pattern=w(l),i.attributePatterns.push(s)):(f[l]||m.push(l),f[l]=s)}b||"@"!==c||(b=f,y=m),v&&(i.outputName=c,p[v]=i),_.test(c)?(i.pattern=w(c),g.push(i)):p[c]=i}},C=function(e){p={},g=[],x(e),Ji(r,function(e,t){h[t]=e.children})},S=function(e){var t=/^(~)?(.+)$/;e&&(Yi.text_block_elements=Yi.block_elements=null,Ji(ts(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",a=n[2];if(h[a]=h[o],v[a]=o,r||(c[a.toUpperCase()]={},c[a]={}),!p[a]){var i=p[o];i=Qi({},i),delete i.removeEmptyAttrs,delete i.removeEmpty,p[a]=i}Ji(h,function(e,t){e[o]&&(h[t]=e=Qi({},h[t]),e[a]=e[o])})}))},k=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Yi[e.schema]=null,t&&Ji(ts(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?h[o[2]]:h[o[2]]={"#comment":{}},t=h[o[2]],Ji(ts(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},_=function(e){var t,n=p[e];if(n)return n;t=g.length;while(t--)if(n=g[t],n.pattern.test(e))return n};e.valid_elements?C(e.valid_elements):(Ji(r,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},h[t]=e.children}),"html5"!==e.schema&&Ji(ts("strong/b em/i"),function(e){e=ts(e,"/"),p[e[1]].outputName=e[0]}),Ji(ts("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),Ji(ts("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),Ji(ts("span"),function(e){p[e].removeEmptyAttrs=!0})),S(e.custom_elements),k(e.valid_children),x(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),Ji({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=ts(e))}),e.invalid_elements&&Ji(Zi(e.invalid_elements),function(e){p[e]&&delete p[e]}),_("span")||x("span[!data-mce-type|*]");var T=function(){return t},O=function(){return n},E=function(){return u},D=function(){return s},R=function(){return c},N=function(){return f},I=function(){return m},A=function(){return i},M=function(){return a},B=function(){return l},L=function(){return d},P=function(){return o},z=function(){return b},F=function(e,t){var n=h[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},j=function(e,t){var n,r,o=_(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(e))return!0}}return!1},H=function(){return v};return{children:h,elements:p,getValidStyles:T,getValidClasses:E,getBlockElements:R,getInvalidStyles:O,getShortEndedElements:A,getTextBlockElements:N,getTextInlineElements:I,getBoolAttrs:D,getElementRule:_,getSelfClosingElements:M,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:L,getWhiteSpaceElements:P,getSpecialElements:z,isValidChild:F,isValid:j,getCustomElements:H,addValidElements:x,setValidElements:C,addCustomElements:S,addValidChildren:k}}var as=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)};function is(e,t){var n,r,o,a,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},d="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),a=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<r.length;n++)l[r[n]]=d+n,l[d+n]=r[n];return{toHex:function(e){return e.replace(i,as)},parse:function(t){var r,o,a,f,m={},p=e.url_converter,h=e.url_converter_scope||this,g=function(e,t,r){var o,a,i,s;if(o=m[e+"-top"+t],o&&(a=m[e+"-right"+t],a&&(i=m[e+"-bottom"+t],i&&(s=m[e+"-left"+t],s)))){var u=[o,a,i,s];n=u.length-1;while(n--)if(u[n]!==u[n+1])break;n>-1&&r||(m[e+t]=-1===n?u[0]:u.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}},v=function(e){var t,n=m[e];if(n){n=n.split(" "),t=n.length;while(t--)if(n[t]!==n[0])return!1;return m[e]=n[0],!0}},b=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(m[e]=m[t]+" "+m[n]+" "+m[r],delete m[t],delete m[n],delete m[r])},y=function(e){return f=!0,l[e]},w=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},C=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},S=function(t,n,r,o,a,i){if(a=a||i,a)return a=w(a),"'"+a.replace(/\'/g,"\\'")+"'";if(n=w(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return p&&(n=p.call(h,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,y)});while(r=u.exec(t))if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),a=r[2].replace(c,""),o&&a){if(o=C(o),a=C(a),-1!==o.indexOf(d)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(a)))continue;"font-weight"===o&&"700"===a?a="bold":"color"!==o&&"background-color"!==o||(a=a.toLowerCase()),a=a.replace(i,as),a=a.replace(s,S),m[o]=f?w(a,!0):a}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),b("border","border-width","border-style","border-color"),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(e,t){var n,r,i="",s=function(t){var n,r,a,s;if(n=o[t],n)for(r=0,a=n.length;r<a;r++)t=n[r],s=e[t],s&&(i+=(i.length>0?" ":"")+t+": "+s+";")},u=function(e,t){var n;return n=a["*"],(!n||!n[e])&&(n=a[t],!n||!n[e])};if(t&&o)s("*"),s(t);else for(n in e)r=e[n],!r||a&&!u(n,t)||(i+=(i.length>0?" ":"")+n+": "+r+";");return i}}}var ss=zn.each,us=zn.grep,cs=Oe.ie,ls=/^([a-z0-9],?)+$/i,ds=/^[ \t\r\n]*$/,fs=function(e,t,n){var r={},o=t.keep_values,a={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return r={style:{set:function(e,t){null===t||"object"!==typeof t?(o&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName),n}}},o&&(r.href=r.src=a),r},ms=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ps=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};function hs(e,n){var r,o=this;void 0===n&&(n={});var a={},i=t.window,s={},u=0,c=!0,l=!0,d=Pa(e,{contentCssCors:n.contentCssCors}),f=[],m=n.schema?n.schema:os({}),p=is({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),h=n.ownEvents?new Ye(n.proxy):Ye.Event,g=m.getBlockElements(),v=or.overrideDefaults(function(){return{context:e,element:Ee.getRoot()}}),b=function(e){if("string"===typeof e)return!!g[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!g[e.nodeName])}return!1},y=function(t){if(t&&e&&"string"===typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},w=function(e){return"string"===typeof e&&(e=y(e)),v(e)},x=function(e,t,n){var o,a,i=w(e);return i.length&&(o=r[t],a=o&&o.get?o.get(i,t):i.attr(t)),"undefined"===typeof a&&(a=n||""),a},C=function(e){var t=y(e);return t?t.attributes:[]},S=function(e,t,o){var a,i;""===o&&(o=null);var s=w(e);a=s.attr(t),s.length&&(i=r[t],i&&i.set?i.set(s,o,t):s.attr(t,o),a!==o&&n.onSetAttrib&&n.onSetAttrib({attrElm:s,attrName:t,attrValue:o}))},k=function(t,n){if(!cs||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return ss(C(t),function(e){S(r,e.nodeName,x(t,e.nodeName))}),r}return null},_=function(){return n.root_element||e.body},T=function(e){var t=e||i,n=t.document,r=l?n.documentElement:n.body;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},O=function(t,n){return ka.getPos(e.body,y(t),n)},E=function(e,t,r){var o=w(e).css(t,r);n.update_styles&&ms(p,o)},D=function(e,t){var r=w(e).css(t);n.update_styles&&ms(p,r)},R=function(e,t,n){var r=w(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=Oe.ie&&Oe.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},N=function(e){var t,n;return e=y(e),t=R(e,"width"),n=R(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},I=function(e){var t,n;return e=y(e),t=O(e),n=N(e),{x:t.x,y:t.y,w:n.w,h:n.h}},A=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(ls.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var a=Array.isArray(e)?e:[e];return Jt(t,a[0].ownerDocument||a[0],null,a).length>0},M=function(e,t,n,r){var o,a=[],i=y(e);r=void 0===r,n=n||("BODY"!==_().nodeName?_().parentNode:null),zn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return A(e,o)});while(i){if(i===n||!i.nodeType||9===i.nodeType)break;if(!t||"function"===typeof t&&t(i)){if(!r)return[i];a.push(i)}i=i.parentNode}return r?a:null},B=function(e,t,n){var r=M(e,t,n,!1);return r&&r.length>0?r[0]:null},L=function(e,t,n){var r=t;if(e)for("string"===typeof t&&(r=function(e){return A(e,t)}),e=e[n];e;e=e[n])if("function"===typeof r&&r(e))return e;return null},P=function(e,t){return L(e,t,"nextSibling")},z=function(e,t){return L(e,t,"previousSibling")},F=function(t,r){return Jt(t,y(r)||n.root_element||e,[])},j=function(e,t,n){var r,a="string"===typeof e?y(e):e;if(!a)return!1;if(zn.isArray(a)&&(a.length||0===a.length))return r=[],ss(a,function(e,o){e&&("string"===typeof e&&(e=y(e)),r.push(t.call(n,e,o)))}),r;var i=n||o;return t.call(i,a)},H=function(e,t){w(e).each(function(e,n){ss(t,function(e,t){S(n,t,e)})})},V=function(e,t){var n=w(e);cs?n.each(function(e,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){or("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},$=function(t,n,r,o,a){return j(t,function(t){var i="string"===typeof n?e.createElement(n):n;return H(i,r),o&&("string"!==typeof o&&o.nodeType?i.appendChild(o):"string"===typeof o&&V(i,o)),a?i:t.appendChild(i)})},U=function(t,n,r){return $(e.createElement(t),t,n,r,!0)},q=Ki.decode,W=Ki.encodeAllRaw,K=function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!==typeof t[r]&&(o+=" "+r+'="'+W(t[r])+'"');return"undefined"!==typeof n?o+">"+n+"</"+e+">":o+" />"},Y=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();t&&(r.innerHTML=t);while(n=r.firstChild)o.appendChild(n);return o},X=function(e,t){var n=w(e);return t?n.each(function(){var e;while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},G=function(e){return j(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},J=function(e){return p.parse(e)},Q=function(e,t){return p.serialize(e,t)},Z=function(n){var r,o;if(Ee!==hs.DOM&&e===t.document){if(a[n])return;a[n]=!0}o=e.getElementById("mceDefaultStyles"),o||(o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(e.createTextNode(n))},ee=function(n){var r;Ee===hs.DOM||e!==t.document?(n||(n=""),r=e.getElementsByTagName("head")[0],ss(n.split(","),function(e){var t;e=zn._addCacheSuffix(e),s[e]||(s[e]=!0,t=U("link",{rel:"stylesheet",href:e}),r.appendChild(t))})):hs.DOM.loadCSS(n)},te=function(e,t,n){w(e).toggleClass(t,n).each(function(){""===this.className&&or(this).attr("class",null)})},ne=function(e,t){w(e).addClass(t)},re=function(e,t){te(e,t,!1)},oe=function(e,t){return w(e).hasClass(t)},ae=function(e){w(e).show()},ie=function(e){w(e).hide()},se=function(e){return"none"===w(e).css("display")},ue=function(e){return(e||"mce_")+u++},ce=function(e){var t="string"===typeof e?y(e):e;return Ei.isElement(t)?t.outerHTML:or("<div></div>").append(or(t).clone()).html()},le=function(e,t){w(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(or(this).html(t),!0)})},de=function(e,t){var n=y(t);return j(e,function(e){var t,r;return t=n.parentNode,r=n.nextSibling,r?t.insertBefore(e,r):t.appendChild(e),e})},fe=function(e,t,n){return j(t,function(t){return zn.is(t,"array")&&(e=e.cloneNode(!0)),n&&ss(us(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},me=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=U(t),ss(C(e),function(t){S(n,t.nodeName,x(e,t.nodeName))}),fe(n,e,!0)),n||e},pe=function(e,t){var n,r=e;while(r){n=t;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},he=function(e){return p.toHex(zn.trim(e))},ge=function(e,t){var n,r,o,a,i,s,u=0;if(e=e.firstChild,e){i=new za(e,e.parentNode),t=t||(m?m.getNonEmptyElements():null),a=m?m.getWhiteSpaceElements():{};do{if(o=e.nodeType,Ei.isElement(e)){var c=e.getAttribute("data-mce-bogus");if(c){e=i.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=i.next();continue}return!1}r=C(e),n=r.length;while(n--)if(s=r[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8===o)return!1;if(3===o&&!ds.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&a[e.parentNode.nodeName]&&ds.test(e.nodeValue))return!1;e=i.next()}while(e)}return u<=1},ve=function(){return e.createRange()},be=function(e,t,n){var r,o,a,i=ve();if(e&&t)return i.setStart(e.parentNode,ps(e)),i.setEnd(t.parentNode,ps(t)),r=i.extractContents(),i=ve(),i.setStart(t.parentNode,ps(t)+1),i.setEnd(e.parentNode,ps(e)+1),o=i.extractContents(),a=e.parentNode,a.insertBefore(Ii.trimNode(Ee,r),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore(Ii.trimNode(Ee,o),e),X(e),n||t},ye=function(t,r,o,a){if(zn.isArray(t)){var s=t.length;while(s--)t[s]=ye(t[s],r,o,a);return t}return!n.collect||t!==e&&t!==i||f.push([t,r,o,a]),h.bind(t,r,o,a||Ee)},we=function(t,n,r){var o;if(zn.isArray(t)){o=t.length;while(o--)t[o]=we(t[o],n,r);return t}if(f&&(t===e||t===i)){o=f.length;while(o--){var a=f[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||h.unbind(a[0],a[1],a[2])}}return h.unbind(t,n,r)},xe=function(e,t,n){return h.fire(e,t,n)},Ce=function(e){if(e&&Ei.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Se=function(e){for(var t=_(),n=null;e&&e!==t;e=e.parentNode)if(n=Ce(e),null!==n)break;return n},ke=function(){if(f){var e=f.length;while(e--){var t=f[e];h.unbind(t[0],t[1],t[2])}}Jt.setDocument&&Jt.setDocument()},_e=function(e,t){while(e){if(t===e)return!0;e=e.parentNode}return!1},Te=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Ee={doc:e,settings:n,win:i,files:s,stdMode:c,boxModel:l,styleSheetLoader:d,boundEvents:f,styles:p,schema:m,events:h,isBlock:b,$:v,$$:w,root:null,clone:k,getRoot:_,getViewPort:T,getRect:I,getSize:N,getParent:B,getParents:M,get:y,getNext:P,getPrev:z,select:F,is:A,add:$,create:U,createHTML:K,createFragment:Y,remove:X,setStyle:E,getStyle:R,setStyles:D,removeAllAttribs:G,setAttrib:S,setAttribs:H,getAttrib:x,getPos:O,parseStyle:J,serializeStyle:Q,addStyle:Z,loadCSS:ee,addClass:ne,removeClass:re,hasClass:oe,toggleClass:te,show:ae,hide:ie,isHidden:se,uniqueId:ue,setHTML:V,getOuterHTML:ce,setOuterHTML:le,decode:q,encode:W,insertAfter:de,replace:fe,rename:me,findCommonAncestor:pe,toHex:he,run:j,getAttribs:C,isEmpty:ge,createRng:ve,nodeIndex:ps,split:be,bind:ye,unbind:we,fire:xe,getContentEditable:Ce,getContentEditableParent:Se,destroy:ke,isChildOf:_e,dumpRng:Te};return r=fs(p,n,function(){return Ee}),Ee}(function(e){e.DOM=e(t.document),e.nodeIndex=ps})(hs||(hs={}));var gs=hs,vs=gs.DOM,bs=zn.each,ys=zn.grep,ws=function(e){return"function"===typeof e},xs=function(){var e=0,n=1,r=2,o=3,a={},i=[],s={},u=[],c=0,l=function(e,n,r){var o,a,i=vs,s=function(){i.remove(a),o&&(o.onreadystatechange=o.onload=o=null),n()},u=function(){ws(r)?r():"undefined"!==typeof t.console&&t.console.log&&t.console.log("Failed to load script: "+e)};a=i.uniqueId(),o=t.document.createElement("script"),o.id=a,o.type="text/javascript",o.src=zn._addCacheSuffix(e),o.onload=s,o.onerror=u,(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(o)};this.loadScript=function(e,t,n){l(e,t,n)},this.isDone=function(e){return a[e]===r},this.markDone=function(e){a[e]=r},this.add=this.load=function(t,n,r,o){var u=a[t];void 0===u&&(i.push(t),a[t]=e),n&&(s[t]||(s[t]=[]),s[t].push({success:n,failure:o,scope:r||this}))},this.remove=function(e){delete a[e],delete s[e]},this.loadQueue=function(e,t,n){this.loadScripts(i,e,t,n)},this.loadScripts=function(e,t,i,d){var f,m=[],p=function(e,t){bs(s[t],function(t){ws(t[e])&&t[e].call(t.scope)}),s[t]=void 0};u.push({success:t,failure:d,scope:i||this}),f=function(){var t=ys(e);if(e.length=0,bs(t,function(e){a[e]!==r?a[e]!==o?a[e]!==n&&(a[e]=n,c++,l(e,function(){a[e]=r,c--,p("success",e),f()},function(){a[e]=o,c--,m.push(e),p("failure",e),f()})):p("failure",e):p("success",e)}),!c){var i=u.slice(0);u.length=0,bs(i,function(e){0===m.length?ws(e.success)&&e.success.call(e.scope):ws(e.failure)&&e.failure.call(e.scope,m)})}},f()}};xs.ScriptLoader=new xs;var Cs=function(){return Cs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cs.apply(this,arguments)};function Ss(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}var ks=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return ks(n())};return{get:n,set:r,clone:o}},_s=function(e){return M(e)&&Do(e,"raw")},Ts=function(e){return B(e)&&e.length>1},Os={},Es=ks("en"),Ds=function(){return _o(Os,function(e){return Cs({},e)})},Rs=function(e){e&&Es.set(e)},Ns=function(){return Es.get()},Is=function(e,t){var n=Os[e];for(var r in n||(Os[e]=n={}),t)n[r.toLowerCase()]=t[r]},As=function(e){var t=Os[Es.get()]||{},n=function(e){return z(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e),o=r.toLowerCase();return Do(t,o)?n(t[o]):r},a=function(e){return e.replace(/{context:\w+}$/,"")},i=function(e){return e};if(r(e))return i("");if(_s(e))return i(n(e.raw));if(Ts(e)){var s=e.slice(1),u=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Do(s,t)?n(s[t]):e});return i(a(u))}return i(a(o(e)))},Ms=function(){return Eo(Os,Es.get()).bind(function(e){return Eo(e,"_dir")}).exists(function(e){return"rtl"===e})},Bs=function(e){return Do(Os,e)},Ls={getData:Ds,setCode:Rs,getCode:Ns,add:Is,translate:As,isRtl:Ms,hasCode:Bs},Ps=zn.each;function zs(){var e=this,t=[],n={},r={},o=[],a=function(e){if(r[e])return r[e].instance},i=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){var r=Ls.getCode();if(r&&!1!==zs.languageLoad){if(t)if(t=","+t+",",-1!==t.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===t.indexOf(","+r+","))return;xs.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},u=function(e,n,a){t.push(n),r[e]={instance:n,dependencies:a};var i=K(o,function(t){return t.name===e});return o=i.fail,Ps(i.pass,function(e){e.callback()}),n},c=function(e){delete n[e],delete r[e]},l=function(e,t){return"object"===typeof t?t:"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(t,n){var r=e.urls[t];Ps(n,function(e){xs.ScriptLoader.add(r+"/"+e)})},f=function(e,t,n,r){var o=i(e);Ps(o,function(e){var n=l(t,e);m(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(xs))},m=function(e,t,o,a,i){if(!n[e]){var s="string"===typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=zs.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/")),r[e]?f(e,t,o,a):xs.ScriptLoader.add(s,function(){return f(e,t,o,a)},a,i)}},p=function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:a,dependencies:i,requireLangPack:s,add:u,remove:c,createUrl:l,addComponents:d,load:m,waitFor:p}}(function(e){e.PluginManager=e(),e.ThemeManager=e()})(zs||(zs={}));var Fs=function(e,t){var n=ca(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},js=function(e,t){var n=fa(e);n.fold(function(){var n=ca(e);n.each(function(e){Vs(e,t)})},function(e){Fs(e,t)})},Hs=function(e,t){var n=va(e);n.fold(function(){Vs(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Vs=function(e,t){e.dom().appendChild(t.dom())},$s=function(e,t){Fs(e,t),Vs(t,e)},Us=function(e,t){q(t,function(t){Fs(e,t)})},qs=function(e,t){q(t,function(t){Vs(e,t)})},Ws=function(e){e.dom().textContent="",q(ha(e),function(e){Ks(e)})},Ks=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Ys=function(e){var t=ha(e);t.length>0&&Us(e,t),Ks(e)},Xs=function(e,n){var r=null,o=function(){null!==r&&(t.clearTimeout(r),r=null)},a=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];null===r&&(r=t.setTimeout(function(){e.apply(null,o),r=null},n))};return{cancel:o,throttle:a}},Gs=function(e,n){var r=null,o=function(){null!==r&&(t.clearTimeout(r),r=null)},a=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:o,throttle:a}},Js=function(e,t){var n=Bo(e,t);return void 0===n||""===n?[]:n.split(" ")},Qs=function(e,t,n){var r=Js(e,t),o=r.concat([n]);return Ao(e,t,o.join(" ")),!0},Zs=function(e,t,n){var r=Y(Js(e,t),function(e){return e!==n});return r.length>0?Ao(e,t,r.join(" ")):Po(e,t),!1},eu=function(e){return void 0!==e.dom().classList},tu=function(e){return Js(e,"class")},nu=function(e,t){return Qs(e,"class",t)},ru=function(e,t){return Zs(e,"class",t)},ou=function(e,t){eu(e)?e.dom().classList.add(t):nu(e,t)},au=function(e){var t=eu(e)?e.dom().classList:tu(e);0===t.length&&Po(e,"class")},iu=function(e,t){if(eu(e)){var n=e.dom().classList;n.remove(t)}else ru(e,t);au(e)},su=function(e,t){return eu(e)&&e.dom().classList.contains(t)},uu=function(e,t){var n=[];return q(ha(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(uu(e,t))}),n},cu=function(e,t){return Zo(t,e)};function lu(e,t,n,r,o){return e(n,r)?R.some(n):z(o)&&o(n)?R.none():t(n,r,o)}var du=function(e,t,n){var r=e.dom(),a=z(n)?n:o(!1);while(r.parentNode){r=r.parentNode;var i=mo.fromDom(r);if(t(i))return R.some(i);if(a(i))break}return R.none()},fu=function(e,t,n){var r=function(e){return t(e)};return lu(r,du,e,t,n)},mu=function(e,t,n){return du(e,function(e){return Jo(e,t)},n)},pu=function(e,t){return ea(t,e)},hu=function(e,t,n){return lu(Jo,mu,e,t,n)},gu=o("mce-annotation"),vu=o("data-mce-annotation"),bu=o("data-mce-annotation-uid"),yu=function(e,t){var n=e.selection.getRng(),r=mo.fromDom(n.startContainer),o=mo.fromDom(e.getBody()),a=t.fold(function(){return"."+gu()},function(e){return"["+vu()+'="'+e+'"]'}),i=ga(r,n.startOffset).getOr(r),s=hu(i,a,function(e){return ta(e,o)}),u=function(e,t){return Lo(e,t)?R.some(Bo(e,t)):R.none()};return s.bind(function(t){return u(t,""+bu()).bind(function(n){return u(t,""+vu()).map(function(t){var r=xu(e,n);return{uid:n,name:t,elements:r}})})})},wu=function(e){return wo(e)&&su(e,gu())},xu=function(e,t){var n=mo.fromDom(e.getBody());return cu(n,"["+bu()+'="'+t+'"]')},Cu=function(e,t){var n=mo.fromDom(e.getBody()),r=cu(n,"["+vu()+'="'+t+'"]'),o={};return q(r,function(e){var t=Bo(e,bu()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},Su=function(e,t){var n=ks({}),r=function(){return{listeners:[],previous:ks(R.none())}},o=function(e,t){a(e,function(e){return t(e),e})},a=function(e,t){var o=n.get(),a=o.hasOwnProperty(e)?o[e]:r(),i=t(a);o[e]=i,n.set(o)},i=function(e,t,n){o(e,function(r){q(r.listeners,function(r){return r(!0,e,{uid:t,nodes:U(n,function(e){return e.dom()})})})})},s=function(e){o(e,function(t){q(t.listeners,function(t){return t(!1,e)})})},u=Gs(function(){var t=n.get(),r=ue(Co(t));q(r,function(t){a(t,function(n){var r=n.previous.get();return yu(e,R.some(t)).fold(function(){r.isSome()&&(s(t),n.previous.set(R.none()))},function(e){var t=e.uid,o=e.name,a=e.elements;r.is(t)||(i(o,t,a),n.previous.set(R.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);e.on("remove",function(){u.cancel()}),e.on("nodeChange",function(){u.throttle()});var c=function(e,t){a(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})};return{addListener:c}},ku=function(e,t){var n=function(e){var n=R.from(e.attributes.map[vu()]);return n.bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){q(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},_u=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?R.from(e[t]).map(function(e){return e.settings}):R.none()};return{register:t,lookup:n}},Tu=0,Ou=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Tu++,e+"_"+r+Tu+String(n)},Eu=function(e,t){q(t,function(t){ou(e,t)})},Du=function(e,t){return mo.fromDom(e.dom().cloneNode(t))},Ru=function(e){return Du(e,!1)},Nu=function(e){return Du(e,!0)},Iu=function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,ha(mo.fromDom(o))},Au=function(e){return e.dom().innerHTML},Mu=function(e,t){var n=ia(e),r=n.dom(),o=mo.fromDom(r.createDocumentFragment()),a=Iu(t,r);qs(o,a),Ws(e),Vs(e,o)},Bu="\ufeff",Lu=function(e){return e===Bu},Pu=function(e){return e.replace(new RegExp(Bu,"g"),"")},zu={isZwsp:Lu,ZWSP:Bu,trim:Pu},Fu=Ei.isElement,ju=Ei.isText,Hu=function(e){return ju(e)&&(e=e.parentNode),Fu(e)&&e.hasAttribute("data-mce-caret")},Vu=function(e){return ju(e)&&zu.isZwsp(e.data)},$u=function(e){return Hu(e)||Vu(e)},Uu=function(e){return e.firstChild!==e.lastChild||!Ei.isBr(e.firstChild)},qu=function(e,t){var n,r,o,a;if(n=e.ownerDocument,o=n.createTextNode(zu.ZWSP),a=e.parentNode,t){if(r=e.previousSibling,ju(r)){if($u(r))return r;if(Ju(r))return r.splitText(r.data.length-1)}a.insertBefore(o,e)}else{if(r=e.nextSibling,ju(r)){if($u(r))return r;if(Gu(r))return r.splitText(1),r}e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o)}return o},Wu=function(e){var t=e.container();return!(!e||!Ei.isText(t))&&(t.data.charAt(e.offset())===zu.ZWSP||e.isAtStart()&&Vu(t.previousSibling))},Ku=function(e){var t=e.container();return!(!e||!Ei.isText(t))&&(t.data.charAt(e.offset()-1)===zu.ZWSP||e.isAtEnd()&&Vu(t.nextSibling))},Yu=function(){var e=t.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Xu=function(e,t,n){var r,o,a;return r=t.ownerDocument,o=r.createElement(e),o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Yu()),a=t.parentNode,n?a.insertBefore(o,t):t.nextSibling?a.insertBefore(o,t.nextSibling):a.appendChild(o),o},Gu=function(e){return ju(e)&&e.data[0]===zu.ZWSP},Ju=function(e){return ju(e)&&e.data[e.data.length-1]===zu.ZWSP},Qu=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Ei.isBogus(n)&&n.parentNode.removeChild(n)},Zu=function(e){return e&&e.hasAttribute("data-mce-caret")?(Qu(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},ec=function(e){return Hu(e.startContainer)},tc=Ei.isContentEditableTrue,nc=Ei.isContentEditableFalse,rc=Ei.isBr,oc=Ei.isText,ac=Ei.matchNodeNames("script style textarea"),ic=Ei.matchNodeNames("img input textarea hr iframe video audio object"),sc=Ei.matchNodeNames("table"),uc=$u,cc=function(e){return!uc(e)&&(oc(e)?!ac(e.parentNode):ic(e)||rc(e)||sc(e)||dc(e))},lc=function(e){return Ei.isElement(e)&&"true"===e.getAttribute("unselectable")},dc=function(e){return!1===lc(e)&&nc(e)},fc=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(dc(e))return!1;if(tc(e))return!0}return!0},mc=function(e){return!!dc(e)&&!0!==G(de(e.getElementsByTagName("*")),function(e,t){return e||tc(t)},!1)},pc=function(e){return ic(e)||mc(e)},hc=function(e,t){return cc(e)&&fc(e,t)},gc=Math.round,vc=function(e){return e?{left:gc(e.left),top:gc(e.top),bottom:gc(e.bottom),right:gc(e.right),width:gc(e.width),height:gc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},bc=function(e,t){return e=vc(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},yc=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},wc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},xc=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&wc(t.top-e.bottom,e,t)},Cc=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&wc(t.bottom-e.top,e,t)},Sc=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},kc=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},_c=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},Tc=function(e,t){return{x:kc(e,t),y:_c(e,t)}},Oc=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ec=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Dc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Rc=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Dc.test(e)},Nc=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return R.none();n.push(o.getOrDie())}return R.some(t.apply(null,n))},Ic=[].slice,Ac=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ic.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},Mc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ic.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Bc={and:Mc,or:Ac},Lc=Ei.isElement,Pc=cc,zc=Ei.matchStyleValues("display","block table"),Fc=Ei.matchStyleValues("float","left right"),jc=Bc.and(Lc,Pc,w(Fc)),Hc=w(Ei.matchStyleValues("white-space","pre pre-line pre-wrap")),Vc=Ei.isText,$c=Ei.isBr,Uc=gs.nodeIndex,qc=Ec,Wc=function(e){return"createRange"in e?e.createRange():gs.DOM.createRng()},Kc=function(e){return e&&/[\r\n\t ]/.test(e)},Yc=function(e){return!!e.setStart&&!!e.setEnd},Xc=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Kc(e.toString())&&Hc(n.parentNode)&&Ei.isText(n)&&(t=n.data,Kc(t[r-1])||Kc(t[r+1])))},Gc=function(e){var t,n=e.ownerDocument,r=Wc(n),o=n.createTextNode(" "),a=e.parentNode;return a.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=vc(r.getBoundingClientRect()),a.removeChild(o),t},Jc=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Ei.isText(n)&&0===r&&1===o){var a=e.cloneRange();return a.setEndAfter(n),Zc(a)}return null},Qc=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Zc=function(e){var t,n;return n=e.getClientRects(),t=n.length>0?vc(n[0]):vc(e.getBoundingClientRect()),!Yc(e)&&$c(e)&&Qc(t)?Gc(e):Qc(t)&&Yc(e)?Jc(e):t},el=function(e,t){var n=bc(e,t);return n.width=1,n.right=n.left+1,n},tl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&yc(e,r[r.length-1])||r.push(e))},a=function(e,t){var n=Wc(e.ownerDocument);if(t<e.data.length){if(Rc(e.data[t]))return r;if(Rc(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Xc(n)))return o(el(Zc(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Xc(n)||o(el(Zc(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Xc(n)||o(el(Zc(n),!0)))};if(Vc(e.container()))return a(e.container(),e.offset()),r;if(Lc(e.container()))if(e.isAtEnd())n=qc(e.container(),e.offset()),Vc(n)&&a(n,n.data.length),jc(n)&&!$c(n)&&o(el(Zc(n),!1));else{if(n=qc(e.container(),e.offset()),Vc(n)&&a(n,0),jc(n)&&e.isAtEnd())return o(el(Zc(n),!1)),r;t=qc(e.container(),e.offset()-1),jc(t)&&!$c(t)&&(zc(t)||zc(n)||!jc(n))&&o(el(Zc(t),!1)),jc(n)&&o(el(Zc(n),!0))}return r};function nl(e,t,n){var r=function(){return Vc(e),0===t},a=function(){return Vc(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n;return n=Wc(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},s=function(){return n||(n=tl(nl(e,t))),n},u=function(){return s().length>0},c=function(n){return n&&e===n.container()&&t===n.offset()},l=function(n){return qc(e,n?t-1:t)};return{container:o(e),offset:o(t),toRange:i,getClientRects:s,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:c,getNode:l}}(function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Uc(t)+1)},e.before=function(t){return e(t.parentNode,Uc(t))},e.isAbove=function(e,t){return Nc([ce(t.getClientRects()),le(e.getClientRects())],xc).getOr(!1)},e.isBelow=function(e,t){return Nc([le(t.getClientRects()),ce(e.getClientRects())],Cc).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Ei.isText(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}})(nl||(nl={}));var rl,ol=nl,al=Ei.isText,il=Ei.isBogus,sl=gs.nodeIndex,ul=function(e){var t=e.parentNode;return il(t)?ul(t):t},cl=function(e){return e?_n.reduce(e.childNodes,function(e,t){return il(t)&&"BR"!==t.nodeName?e=e.concat(cl(t)):e.push(t),e},[]):[]},ll=function(e,t){while(e=e.previousSibling){if(!al(e))break;t+=e.data.length}return t},dl=function(e){return function(t){return e===t}},fl=function(e){var t,n,r;return t=cl(ul(e)),n=_n.findIndex(t,dl(e),e),t=t.slice(0,n+1),r=_n.reduce(t,function(e,n,r){return al(n)&&al(t[r-1])&&e++,e},0),t=_n.filter(t,Ei.matchNodeNames(e.nodeName)),n=_n.findIndex(t,dl(e),e),n-r},ml=function(e){var t;return t=al(e)?"text()":e.nodeName.toLowerCase(),t+"["+fl(e)+"]"},pl=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break;r.push(t)}return r},hl=function(e,t){var n,r,o,a,i,s=[];return n=t.container(),r=t.offset(),al(n)?o=ll(n,r):(a=n.childNodes,r>=a.length?(o="after",r=a.length-1):o="before",n=a[r]),s.push(ml(n)),i=pl(e,n),i=_n.filter(i,w(Ei.isBogus)),s=s.concat(_n.map(i,function(e){return ml(e)})),s.reverse().join("/")+","+o},gl=function(e,t,n){var r=cl(e);return r=_n.filter(r,function(e,t){return!al(e)||!al(r[t-1])}),r=_n.filter(r,Ei.matchNodeNames(t)),r[n]},vl=function(e,t){var n,r=e,o=0;while(al(r)){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!al(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return al(e)&&t>e.data.length&&(t=e.data.length),ol(e,t)},bl=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",r=_n.reduce(t,function(e,t){return t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t),t?("text()"===t[1]&&(t[1]="#text"),gl(e,t[1],parseInt(t[2],10))):null},e),r?al(r)?vl(r,parseInt(o,10)):(o="after"===o?sl(r)+1:sl(r),ol(r.parentNode,o)):null):null},yl=function(e,t){Ei.isText(t)&&0===t.data.length&&e.remove(t)},wl=function(e,t,n){t.insertNode(n),yl(e,n.previousSibling),yl(e,n.nextSibling)},xl=function(e,t,n){var r=R.from(n.firstChild),o=R.from(n.lastChild);t.insertNode(n),r.each(function(t){return yl(e,t.previousSibling)}),o.each(function(t){return yl(e,t.nextSibling)})},Cl=function(e,t,n){Ei.isDocumentFragment(n)?xl(e,t,n):wl(e,t,n)},Sl=Ei.isContentEditableFalse,kl=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Ei.isText(r);r=r.previousSibling)o+=e(r.data).length;return o},_l=function(e,t,n,r,o){var a,i=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(Ei.isText(i)?u.push(n?kl(t,i,s):s):(a=i.childNodes,s>=a.length&&a.length&&(c=1,s=Math.max(0,a.length-1)),u.push(e.nodeIndex(a[s],n)+c));i&&i!==l;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},Tl=function(e,t,n,r){var o=t.dom,a={};return a.start=_l(o,e,n,r,!0),t.isCollapsed()||(a.end=_l(o,e,n,r,!1)),a},Ol=function(e,t,n){var r=0;return zn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},El=function(e,t){var n,r,o,a=t?"start":"end";n=e[a+"Container"],r=e[a+"Offset"],Ei.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Dl=function(e){return El(e,!0),El(e,!1),e},Rl=function(e,t){var n;if(Ei.isElement(e)&&(e=Ec(e,t),Sl(e)))return e;if($u(e)){if(Ei.isText(e)&&Hu(e)&&(e=e.parentNode),n=e.previousSibling,Sl(n))return n;if(n=e.nextSibling,Sl(n))return n}},Nl=function(e){return Rl(e.startContainer,e.startOffset)||Rl(e.endContainer,e.endOffset)},Il=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,a=n.getRng();if(Sl(r)||"IMG"===o)return{name:o,index:Ol(n.dom,o,r)};var i=Nl(a);return i?(o=i.tagName,{name:o,index:Ol(n.dom,o,i)}):Tl(e,n,t,a)},Al=function(e){var t=e.getRng();return{start:hl(e.dom.getRoot(),ol.fromRangeStart(t)),end:hl(e.dom.getRoot(),ol.fromRangeEnd(t))}},Ml=function(e){return{rng:e.getRng()}},Bl=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Ll=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),a=e.isCollapsed(),i=e.getNode(),s=i.nodeName;if("IMG"===s)return{name:s,index:Ol(n,s,i)};var u=Dl(r.cloneRange());if(!a){u.collapse(!1);var c=Bl(n,o+"_end",t);Cl(n,u,c)}r=Dl(r),r.collapse(!0);var l=Bl(n,o+"_start",t);return Cl(n,r,l),e.moveToBookmark({id:o,keep:1}),{id:o}},Pl=function(e,t,n){return 2===t?Il(zu.trim,n,e):3===t?Al(e):t?Ml(e):Ll(e,!1)},zl={getBookmark:Pl,getUndoBookmark:i(Il,a,!0),getPersistentBookmark:Ll},Fl="_mce_caret",jl=function(e){return Ei.isElement(e)&&e.id===Fl},Hl=function(e,t){while(t&&t!==e){if(t.id===Fl)return t;t=t.parentNode}return null},Vl=Ei.isElement,$l=Ei.isText,Ul=function(e){var t=e.parentNode;t&&t.removeChild(e)},ql=function(e){try{return e.nodeValue}catch(t){return""}},Wl=function(e,t){0===t.length?Ul(e):e.nodeValue=t},Kl=function(e){var t=zu.trim(e);return{count:e.length-t.length,text:t}},Yl=function(e,t){return ed(e),t},Xl=function(e,t){var n=Kl(e.data.substr(0,t.offset())),r=Kl(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(Wl(e,o),ol(e,t.offset()-n.count)):t},Gl=function(e,t){var n=t.container(),r=H(de(n.childNodes),e).map(function(e){return e<t.offset()?ol(n,t.offset()-1):t}).getOr(t);return ed(e),r},Jl=function(e,t){return $l(e)&&t.container()===e?Xl(e,t):Yl(e,t)},Ql=function(e,t){return t.container()===e.parentNode?Gl(e,t):Yl(e,t)},Zl=function(e,t){return ol.isTextPosition(t)?Jl(e,t):Ql(e,t)},ed=function(e){if(Vl(e)&&$u(e)&&(Uu(e)?e.removeAttribute("data-mce-caret"):Ul(e)),$l(e)){var t=zu.trim(ql(e));Wl(e,t)}},td={removeAndReposition:Zl,remove:ed},nd=io.detect().browser,rd=Ei.isContentEditableFalse,od=function(e){return Ei.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},ad=function(e,t,n){var r,o,a,i,s,u=bc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,a=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),o=e.scrollLeft-s.left,a=e.scrollTop-s.top),u.left+=o,u.right+=o,u.top+=a,u.bottom+=a,u.width=1,i=t.offsetWidth-t.clientWidth,i>0&&(n&&(i*=-1),u.left+=i,u.right+=i),u},id=function(e){var t,n,r,o,a;for(t=or("*[contentEditable=false]",e),o=0;o<t.length;o++)n=t[o],r=n.previousSibling,Ju(r)&&(a=r.data,1===a.length?r.parentNode.removeChild(r):r.deleteData(a.length-1,1)),r=n.nextSibling,Gu(r)&&(a=r.data,1===a.length?r.parentNode.removeChild(r):r.deleteData(0,1))},sd=function(e,t,n){var r,o,a=ks(R.none()),i=function(n,r){var i,c;if(s(),od(r))return null;if(!t(r))return o=qu(r,n),c=r.ownerDocument.createRange(),rd(o.nextSibling)?(c.setStart(o,0),c.setEnd(o,0)):(c.setStart(o,1),c.setEnd(o,1)),c;o=Xu("p",r,n),i=ad(e,r,n),or(o).css("top",i.top);var l=or('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(i).appendTo(e)[0];return a.set(R.some({caret:l,element:r,before:n})),a.get().each(function(e){n&&or(e.caret).addClass("mce-visual-caret-before")}),u(),c=r.ownerDocument.createRange(),c.setStart(o,0),c.setEnd(o,0),c},s=function(){id(e),o&&(td.remove(o),o=null),a.get().each(function(e){or(e.caret).remove(),a.set(R.none())}),Le.clearInterval(r)},u=function(){r=Le.setInterval(function(){n()?or("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):or("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},c=function(){a.get().each(function(t){var n=ad(e,t.element,t.before);or(t.caret).css(n)})},l=function(){return Le.clearInterval(r)},d=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:i,hide:s,getCss:d,reposition:c,destroy:l}},ud=function(){return nd.isIE()||nd.isEdge()||nd.isFirefox()},cd=function(e){return rd(e)||Ei.isTable(e)&&ud()},ld=Ei.isContentEditableFalse,dd=Ei.matchStyleValues("display","block table table-cell table-caption list-item"),fd=$u,md=Hu,pd=Ei.isElement,hd=cc,gd=function(e){return e>0},vd=function(e){return e<0},bd=function(e,t){var n;while(n=e(t))if(!md(n))return n;return null},yd=function(e,t,n,r,o){var a=new za(e,r);if(vd(t)){if((ld(e)||md(e))&&(e=bd(a.prev,!0),n(e)))return e;while(e=bd(a.prev,o))if(n(e))return e}if(gd(t)){if((ld(e)||md(e))&&(e=bd(a.next,!0),n(e)))return e;while(e=bd(a.next,o))if(n(e))return e}return null},wd=function(e,t){while(e&&e!==t){if(dd(e))return e;e=e.parentNode}return null},xd=function(e,t,n){return wd(e.container(),n)===wd(t.container(),n)},Cd=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),pd(n)?n.childNodes[r+e]:null):null},Sd=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},kd=function(e,t,n){return wd(t,e)===wd(n,e)},_d=function(e,t,n){var r,o;o=e?"previousSibling":"nextSibling";while(n&&n!==t){if(r=n[o],fd(r)&&(r=r[o]),ld(r)){if(kd(t,r,n))return r;break}if(hd(r))break;n=n.parentNode}return null},Td=i(Sd,!0),Od=i(Sd,!1),Ed=function(e,t,n){var r,o,a,s,u=i(_d,!0,t),c=i(_d,!1,t);if(o=n.startContainer,a=n.startOffset,Hu(o)){if(pd(o)||(o=o.parentNode),s=o.getAttribute("data-mce-caret"),"before"===s&&(r=o.nextSibling,cd(r)))return Td(r);if("after"===s&&(r=o.previousSibling,cd(r)))return Od(r)}if(!n.collapsed)return n;if(Ei.isText(o)){if(fd(o)){if(1===e){if(r=c(o),r)return Td(r);if(r=u(o),r)return Od(r)}if(-1===e){if(r=u(o),r)return Od(r);if(r=c(o),r)return Td(r)}return n}if(Ju(o)&&a>=o.data.length-1)return 1===e&&(r=c(o),r)?Td(r):n;if(Gu(o)&&a<=1)return-1===e&&(r=u(o),r)?Od(r):n;if(a===o.data.length)return r=c(o),r?Td(r):n;if(0===a)return r=u(o),r?Od(r):n}return n},Dd=function(e,t){return R.from(Cd(e?0:-1,t)).filter(ld)},Rd=function(e,t,n){var r=Ed(e,t,n);return-1===e?nl.fromRangeStart(r):nl.fromRangeEnd(r)},Nd=function(e){return R.from(e.getNode()).map(mo.fromDom)},Id=function(e){return R.from(e.getNode(!0)).map(mo.fromDom)},Ad=function(e,t){while(t=e(t))if(t.isVisible())return t;return t},Md=function(e,t){var n=xd(e,t);return!(n||!Ei.isBr(e.getNode()))||n};(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(rl||(rl={}));var Bd=Ei.isContentEditableFalse,Ld=Ei.isText,Pd=Ei.isElement,zd=Ei.isBr,Fd=cc,jd=pc,Hd=hc,Vd=function(e,t){var n=[];while(e&&e!==t)n.push(e),e=e.parentNode;return n},$d=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Ud=function(e,t){if(gd(e)){if(Fd(t.previousSibling)&&!Ld(t.previousSibling))return ol.before(t);if(Ld(t))return ol(t,0)}if(vd(e)){if(Fd(t.nextSibling)&&!Ld(t.nextSibling))return ol.after(t);if(Ld(t))return ol(t,t.data.length)}return vd(e)?zd(t)?ol.before(t):ol.after(t):ol.before(t)},qd=function(e,t){var n=t.nextSibling;return n&&Fd(n)?Ld(n)?ol(n,0):ol.before(n):Wd(rl.Forwards,ol.after(t),e)},Wd=function(e,t,n){var r,a,i,s,u;if(!Pd(n)||!t)return null;if(t.isEqual(ol.after(n))&&n.lastChild){if(u=ol.after(n.lastChild),vd(e)&&Fd(n.lastChild)&&Pd(n.lastChild))return zd(n.lastChild)?ol.before(n.lastChild):u}else u=t;var c=u.container(),l=u.offset();if(Ld(c)){if(vd(e)&&l>0)return ol(c,--l);if(gd(e)&&l<c.length)return ol(c,++l);r=c}else{if(vd(e)&&l>0&&(a=$d(c,l-1),Fd(a)))return!jd(a)&&(i=yd(a,e,Hd,a),i)?Ld(i)?ol(i,i.data.length):ol.after(i):Ld(a)?ol(a,a.data.length):ol.before(a);if(gd(e)&&l<c.childNodes.length&&(a=$d(c,l),Fd(a)))return zd(a)?qd(n,a):!jd(a)&&(i=yd(a,e,Hd,a),i)?Ld(i)?ol(i,0):ol.before(i):Ld(a)?ol(a,0):ol.after(a);r=a||u.getNode()}return(gd(e)&&u.isAtEnd()||vd(e)&&u.isAtStart())&&(r=yd(r,e,o(!0),n,!0),Hd(r,n))?Ud(e,r):(a=yd(r,e,Hd,n),s=_n.last(Y(Vd(c,n),Bd)),!s||a&&s.contains(a)?a?Ud(e,a):null:(u=gd(e)?ol.after(s):ol.before(s),u))},Kd=function(e){return{next:function(t){return Wd(rl.Forwards,t,e)},prev:function(t){return Wd(rl.Backwards,t,e)}}},Yd=function(e,t,n){var r=e?ol.before(n):ol.after(n);return tf(e,t,r)},Xd=function(e){return Ei.isBr(e)?ol.before(e):ol.after(e)},Gd=function(e){return ol.isTextPosition(e)?0===e.offset():cc(e.getNode())},Jd=function(e){if(ol.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return cc(e.getNode(!0))},Qd=function(e,t){return!ol.isTextPosition(e)&&!ol.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Zd=function(e){return!ol.isTextPosition(e)&&Ei.isBr(e.getNode())},ef=function(e,t,n){return e?!Qd(t,n)&&!Zd(t)&&Jd(t)&&Gd(n):!Qd(n,t)&&Gd(t)&&Jd(n)},tf=function(e,t,n){var r=Kd(t);return R.from(e?r.next(n):r.prev(n))},nf=function(e,t,n){return tf(e,t,n).bind(function(r){return xd(n,r,t)&&ef(e,n,r)?tf(e,t,r):R.some(r)})},rf=function(e,t,n,r){return nf(e,t,n).bind(function(n){return r(n)?rf(e,t,n,r):R.some(n)})},of=function(e,t){var n=e?t.firstChild:t.lastChild;return Ei.isText(n)?R.some(ol(n,e?0:n.data.length)):n?cc(n)?R.some(e?ol.before(n):Xd(n)):Yd(e,t,n):R.none()},af=i(tf,!0),sf=i(tf,!1),uf={fromPosition:tf,nextPosition:af,prevPosition:sf,navigate:nf,navigateIgnore:rf,positionIn:of,firstPositionIn:i(of,!0),lastPositionIn:i(of,!1)},cf=function(e){return"string"===typeof e.start},lf=function(e){return e.hasOwnProperty("rng")},df=function(e){return e.hasOwnProperty("id")},ff=function(e){return e.hasOwnProperty("name")},mf=function(e){return zn.isArray(e.start)},pf=function(e,t){return!e.isBlock(t)||t.innerHTML||Oe.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},hf=function(e,t){var n,r;return n=e.createRng(),r=bl(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=bl(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},gf=function(e,t){var n=e.ownerDocument.createTextNode(zu.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},vf=function(e){return!1===e.hasChildNodes()},bf=function(e,t){return uf.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},yf=function(e,t,n){return!(!vf(t)||!Hl(e,t))&&(gf(t,n),!0)},wf=function(e,t,n,r){var o,a,i,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(i=u[0],a=c,o=u.length-1;o>=1;o--){if(s=a.childNodes,yf(c,a,r))return!0;if(u[o]>s.length-1)return!!yf(c,a,r)||bf(a,r);a=s[u[o]]}3===a.nodeType&&(i=Math.min(u[0],a.nodeValue.length)),1===a.nodeType&&(i=Math.min(u[0],a.childNodes.length)),t?r.setStart(a,i):r.setEnd(a,i)}return!0},xf=function(e){return Ei.isText(e)&&e.data.length>0},Cf=function(e,t,n){var r,o,a,i,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):xf(c.nextSibling)?(r=c.nextSibling,o=0):xf(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),s=r,u=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):xf(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),s=r,u=o),!l){i=c.previousSibling,a=c.nextSibling,zn.each(zn.grep(c.childNodes),function(e){Ei.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});while(c=e.get(n.id+"_"+t))e.remove(c,!0);i&&a&&i.nodeType===a.nodeType&&Ei.isText(i)&&!Oe.opera&&(o=i.nodeValue.length,i.appendData(a.nodeValue),e.remove(a),s=i,u=o)}return R.some(ol(s,u))}return R.none()},Sf=function(e,t){return e.isSome()?e:t},kf=function(e,t){var n=e.createRng();return wf(e,!0,t,n)&&wf(e,!1,t,n)?R.some(n):R.none()},_f=function(e,t){var n=Cf(e,"start",t),r=Cf(e,"end",t);return Nc([n,Sf(r,n)],function(t,n){var r=e.createRng();return r.setStart(pf(e,t.container()),t.offset()),r.setEnd(pf(e,n.container()),n.offset()),r})},Tf=function(e,t){return R.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},Of=function(e,t){var n=e.dom;if(t){if(mf(t))return kf(n,t);if(cf(t))return R.some(hf(n,t));if(df(t))return _f(n,t);if(ff(t))return Tf(n,t);if(lf(t))return R.some(t.rng)}return R.none()},Ef={resolve:Of},Df=function(e,t,n){return zl.getBookmark(e,t,n)},Rf=function(e,t){Ef.resolve(e,t).each(function(t){e.setRng(t)})},Nf=function(e){return Ei.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},If={getBookmark:Df,moveToBookmark:Rf,isBookmarkNode:Nf},Af=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Mf=function(e,t,n){var r,o,a,i=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!Af(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a=s.childNodes,i<a.length?(s=a[i],r=new za(s,e.getParent(s,e.isBlock))):(s=a[a.length-1],r=new za(s,e.getParent(s,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!zf(o))return n.setStart(o,0),void t.setRng(n)},Bf=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!zf(e))return e},Lf=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Pf=function(e,t,n){return e.schema.isValidChild(t,n)},zf=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Ff=function(e,t){return"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},jf=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Hf=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Vf=function(e,t,n){return Hf(e,e.getStyle(t,n),n)},$f=function(e,t){var n;return e.getParent(t,function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n}),n},Uf=function(e,t,n){return e.getParents(t,n,e.getRoot())},qf={isInlineBlock:Af,moveStart:Mf,getNonWhiteSpaceSibling:Bf,isTextBlock:Lf,isValid:Pf,isWhiteSpaceNode:zf,replaceVars:Ff,isEq:jf,normalizeStyleValue:Hf,getStyle:Vf,getTextDecoration:$f,getParents:Uf},Wf=If.isBookmarkNode,Kf=qf.getParents,Yf=qf.isWhiteSpaceNode,Xf=qf.isTextBlock,Gf=function(e,t){"undefined"===typeof t&&(t=3===e.nodeType?e.length:e.childNodes.length);while(e&&e.hasChildNodes())e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},Jf=function(e,t){var n=Gf(e,t);if(n.node){while(n.node&&0===n.offset&&n.node.previousSibling)n=Gf(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},Qf=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Zf=function(e,t){var n=t;while(n){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},em=function(e,t,n,r){var o,a,i=n.nodeValue;return"undefined"===typeof r&&(r=e?i.length:0),e?(o=i.lastIndexOf(" ",r),a=i.lastIndexOf(" ",r),o=o>a?o:a,-1!==o&&!t&&(o<r||!e)&&o<=i.length&&o++):(o=i.indexOf(" ",r),a=i.indexOf(" ",r),o=-1!==o&&(-1===a||o<a)?o:a),o},tm=function(e,t,n,r,o,a){var i,s,u,c;if(3===n.nodeType){if(u=em(o,a,n,r),-1!==u)return{container:n,offset:u};c=n}i=new za(n,e.getParent(n,e.isBlock)||t);while(s=i[o?"prev":"next"]())if(3!==s.nodeType||Wf(s.parentNode)){if(e.isBlock(s)||qf.isEq(s,"BR"))break}else if(c=s,u=em(o,a,s),-1!==u)return{container:s,offset:u};if(c)return r=o?0:c.length,{container:c,offset:r}},nm=function(e,t,n,r,o){var a,i,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),a=Kf(e,r),i=0;i<a.length;i++)for(s=0;s<t.length;s++)if(u=t[s],!("collapsed"in u&&u.collapsed!==n.collapsed)&&e.is(a[i],u.selector))return a[i];return r},rm=function(e,t,n,r){var o,a=e.dom,i=a.getRoot();if(t[0].wrapper||(o=a.getParent(n,t[0].block,i)),!o){var s=a.getParent(n,"LI,TD,TH");o=a.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==i&&Xf(e,t)},s)}if(o&&t[0].wrapper&&(o=Kf(a,o,"ul,ol").reverse()[0]||o),!o){o=n;while(o[r]&&!a.isBlock(o[r]))if(o=o[r],qf.isEq(o,"br"))break}return o||n},om=function(e,t,n,r,o,a,i){var s,u,c,l,d;if(s=u=i?n:o,l=i?"previousSibling":"nextSibling",d=e.getRoot(),3===s.nodeType&&!Yf(s)&&(i?r>0:a<s.nodeValue.length))return s;while(1){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!Wf(c)&&!Yf(c)&&!Qf(c))return u;if(u===d||u.parentNode===d){s=u;break}u=u.parentNode}return s},am=function(e,t,n,r){var o,a=t.startContainer,i=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===a.nodeType&&a.hasChildNodes()&&(a=Ec(a,i),3===a.nodeType&&(i=0)),1===s.nodeType&&s.hasChildNodes()&&(s=Ec(s,t.collapsed?u:u-1),3===s.nodeType&&(u=s.nodeValue.length)),a=Zf(c,a),s=Zf(c,s),(Wf(a.parentNode)||Wf(a))&&(a=Wf(a)?a:a.parentNode,a=t.collapsed?a.previousSibling||a:a.nextSibling||a,3===a.nodeType&&(i=t.collapsed?a.length:0)),(Wf(s.parentNode)||Wf(s))&&(s=Wf(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,3===s.nodeType&&(u=t.collapsed?0:s.length)),t.collapsed&&(o=tm(c,e.getBody(),a,i,!0,r),o&&(a=o.container,i=o.offset),o=tm(c,e.getBody(),s,u,!1,r),o&&(s=o.container,u=o.offset)),n[0].inline&&(s=r?s:Jf(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===a.nodeType&&0!==i||(a=om(c,n,a,i,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=om(c,n,a,i,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(a=nm(c,n,t,a,"previousSibling"),s=nm(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(a=rm(e,n,a,"previousSibling"),s=rm(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(a)||(a=om(c,n,a,i,s,u,!0)),c.isBlock(s)||(s=om(c,n,a,i,s,u,!1)))),1===a.nodeType&&(i=c.nodeIndex(a),a=a.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:a,startOffset:i,endContainer:s,endOffset:u}},im={expandRng:am},sm=zn.each,um=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},cm=function(e,t,n){var r,o,a,i,s,u,c,l=t.startContainer,d=t.startOffset,f=t.endContainer,m=t.endOffset;if(c=e.select("td[data-mce-selected],th[data-mce-selected]"),c.length>0)sm(c,function(e){n([e])});else{var p=function(e){var t;return t=e[0],3===t.nodeType&&t===l&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===f&&3===t.nodeType&&e.splice(e.length-1,1),e},h=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},g=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(i=e,s=i.parentNode;i&&i!==t;i=s)s=i.parentNode,u=h(i===e?i:i[o],o),u.length&&(r||u.reverse(),n(p(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(f=um(f,m)),l===f)return n(p([l]));for(r=e.findCommonAncestor(l,f),i=l;i;i=i.parentNode){if(i===f)return v(l,r,!0);if(i===r)break}for(i=f;i;i=i.parentNode){if(i===l)return v(f,r);if(i===r)break}o=g(l,r)||l,a=g(f,r)||f,v(l,o,!0),u=h(o===l?o:o.nextSibling,"nextSibling",a===f?a.nextSibling:a),u.length&&n(p(u)),v(f,a)}},lm={walk:cm},dm=function(){return"\ufeff"};function fm(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return i(n).getOr("")},r=function(e){try{return o(e)}catch(pL){return R.none()}},o=function(t){return e(t)?R.from(t.dom().nodeValue):R.none()},a=io.detect().browser,i=a.isIE()&&10===a.version.major?r:o,s=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:i,set:s}}var mm=fm(xo,"text"),pm=function(e){return mm.get(e)},hm=function(e){return xo(e)&&pm(e)===dm()},gm=function(e,t,n,r){return ca(t).fold(function(){return"skipping"},function(o){return"br"===r||hm(t)?"valid":wu(t)?"existing":jl(t)?"caret":qf.isValid(e,n,r)&&qf.isValid(e,vo(o),n)?"valid":"invalid-child"})},vm=function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&" "===e.startContainer.nodeValue[e.startOffset]},bm=function(e,t){var n=im.expandRng(e,t,[{inline:!0}],vm(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},ym=function(e,t,n,r){var o=t.uid,a=void 0===o?Ou("mce-annotation"):o,i=Ss(t,["uid"]),s=mo.fromTag("span",e);ou(s,gu()),Ao(s,""+bu(),a),Ao(s,""+vu(),n);var u=r(a,i),c=u.attributes,l=void 0===c?{}:c,d=u.classes,f=void 0===d?[]:d;return Mo(s,l),Eu(s,f),s},wm=function(e,t,n,r,o){var a=[],i=ym(e.getDoc(),o,n,r),s=ks(R.none()),u=function(){s.set(R.none())},c=function(){return s.get().getOrThunk(function(){var e=Ru(i);return a.push(e),s.set(R.some(e)),e})},l=function(e){q(e,d)},d=function(t){var n=gm(e,t,"span",vo(t));switch(n){case"invalid-child":u();var r=ha(t);l(r),u();break;case"valid":var o=c();$s(t,o);break;case"skipping":case"existing":case"caret":}},f=function(e){var t=U(e,mo.fromDom);l(t)};return lm.walk(e.dom,t,function(e){u(),f(e)}),a},xm=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection.getRng();if(o.collapsed&&bm(e,o),e.selection.getRng().collapsed){var a=ym(e.getDoc(),r,t,n.decorate);Mu(a," "),e.selection.getRng().insertNode(a.dom()),e.selection.select(a.dom())}else{var i=zl.getPersistentBookmark(e.selection,!1),s=e.selection.getRng();wm(e,s,t,n.decorate,r),e.selection.moveToBookmark(i)}})};function Cm(e){var t=_u();ku(e,t);var n=Su(e,t);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){xm(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){yu(e,R.some(t)).each(function(e){var t=e.elements;q(t,Ys)})},getAll:function(t){var n=Cu(e,t);return _o(n,function(e){return U(e,function(e){return e.dom()})})}}}var Sm=/^[ \t\r\n]*$/,km={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_m=function(e,t,n){var r,o,a=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[a])return e[a];if(e!==t){if(r=e[i],r)return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[i],r)return r}},Tm=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,o;if(r=new e(t,km[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r,o=this;if("string"!==typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e],r=n.length;while(r--)if(n[r].name===e)return n=n.splice(r,1),o}return o}if(e in n.map){r=n.length;while(r--)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},e.prototype.clone=function(){var t,n,r,o,a,i=this,s=new e(i.name,i.type);if(r=i.attributes){for(a=[],a.map={},t=0,n=r.length;t<n;t++)o=r[t],"id"!==o.name&&(a[a.length]={name:o.name,value:o.value},a.map[o.name]=o.value);s.attributes=a}return s.value=i.value,s.shortEnded=i.shortEnded,s},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=_m(t,n))t.name===e&&r.push(t);return r},e.prototype.empty=function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=_m(n,r))e.push(n);t=e.length;while(t--)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(e,t,n){var r,o,a=this,i=a.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;r=i.attributes.length;while(r--)if(o=i.attributes[r].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!Sm.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Sm.test(i.value))return!1;if(n&&n(i))return!1}while(i=_m(i,a));return!0},e.prototype.walk=function(e){return _m(this,null,e)},e}(),Om=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Em=function(e){return e.replace(/<!--|-->/g,"")},Dm=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Rm=function(e,t,n){var r,o,a,i,s=1;i=e.getShortEndedElements(),a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,a.lastIndex=r=n;while(o=a.exec(t)){if(r=a.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in i)continue;s++}if(0===s)break}return r},Nm=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function Im(e,t){void 0===t&&(t=os());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,a=e.text?e.text:n,i=e.start?e.start:n,s=e.end?e.end:n,u=e.pi?e.pi:n,c=e.doctype?e.doctype:n,l=function(n){var l,d,f,m,p,h,g,v,b,y,w,x,C,S,k,_,T,O,E,D,R,N,I,A,M,B,L,P,z,F,j=0,H=[],V=0,$=Ki.decode,U=zn.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,W=function(e){var t,n;t=H.length;while(t--)if(H[t].name===e)break;if(t>=0){for(n=H.length-1;n>=t;n--)e=H[n],e.valid&&s(e.name);H.length=t}},K=function(t,n,r,o,a){var i,s,u=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in w?n:$(r||o||a||""),C&&!v&&!1===Om(n)){if(i=O[n],!i&&E){s=E.length;while(s--)if(i=E[s],i.pattern.test(n))break;-1===s&&(i=null)}if(!i)return;if(i.validValues&&!(r in i.validValues))return}if(U[n]&&!e.allow_script_urls){var c=r.replace(u,"");try{c=decodeURIComponent(c)}catch(l){c=unescape(c)}if(q.test(c))return;if(Dm(e,c))return}v&&(n in U||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))};B=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=t.getShortEndedElements(),M=e.self_closing_elements||t.getSelfClosingElements(),w=t.getBoolAttrs(),C=e.validate,b=e.remove_internals,F=e.fix_self_closing,P=t.getSpecialElements(),I=n+">";while(l=B.exec(I)){if(j<l.index&&a($(n.substr(j,l.index-j))),d=l[6])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),W(d);else if(d=l[7]){if(l.index+l[0].length>n.length){a($(n.substr(l.index))),j=l.index+l[0].length;continue}d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),x=d in y,F&&M[d]&&H.length>0&&H[H.length-1].name===d&&W(d);var Y=Nm(L,l[8]);if(null!==Y){if("all"===Y){j=Rm(t,n,B.lastIndex),B.lastIndex=j;continue}k=!1}if(!C||(S=t.getElementRule(d))){if(k=!0,C&&(O=S.attributes,E=S.attributePatterns),(T=l[8])?(v=-1!==T.indexOf("data-mce-type"),v&&b&&(k=!1),m=[],m.map={},T.replace(L,K)):(m=[],m.map={}),C&&!v){if(D=S.attributesRequired,R=S.attributesDefault,N=S.attributesForced,A=S.removeEmptyAttrs,A&&!m.length&&(k=!1),N){p=N.length;while(p--)_=N[p],g=_.name,z=_.value,"{$uid}"===z&&(z="mce_"+V++),m.map[g]=z,m.push({name:g,value:z})}if(R){p=R.length;while(p--)_=R[p],g=_.name,g in m.map||(z=_.value,"{$uid}"===z&&(z="mce_"+V++),m.map[g]=z,m.push({name:g,value:z}))}if(D){p=D.length;while(p--)if(D[p]in m.map)break;-1===p&&(k=!1)}if(_=m.map["data-mce-bogus"]){if("all"===_){j=Rm(t,n,B.lastIndex),B.lastIndex=j;continue}k=!1}}k&&i(d,m,x)}else k=!1;if(f=P[d]){f.lastIndex=j=l.index+l[0].length,(l=f.exec(n))?(k&&(h=n.substr(j,l.index-j)),j=l.index+l[0].length):(h=n.substr(j),j=n.length),k&&(h.length>0&&a(h,!0),s(d)),B.lastIndex=j;continue}x||(T&&T.indexOf("/")===T.length-1?k&&s(d):H.push({name:d,valid:k}))}else(d=l[1])?(">"===d.charAt(0)&&(d=" "+d),e.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),r(d)):(d=l[2])?o(Em(d)):(d=l[3])?c(d):(d=l[4])&&u(d,l[5]);j=l.index+l[0].length}for(j<n.length&&a($(n.substr(j))),p=H.length-1;p>=0;p--)d=H[p],d.valid&&s(d.name)};return{parse:l}}(function(e){e.findEndTag=Rm})(Im||(Im={}));var Am=Im,Mm=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Bm=function(e,t){var n,r,o,a,i,s=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=e.schema;s=Mm(e.getTempAttrs(),s),i=c.getShortEndedElements();while(a=u.exec(s))r=u.lastIndex,o=a[0].length,n=i[a[1]]?r:Am.findEndTag(c,s,r),s=s.substring(0,r-o)+s.substring(n),u.lastIndex=r-o;return zu.trim(s)},Lm=Bm,Pm={trimExternal:Lm,trimInternal:Bm},zm=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Fm=function(e){return e.getParam("iframe_attrs",{})},jm=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Hm=function(e){return e.getParam("document_base_url","")},Vm=function(e){return zm(e,"body_id","tinymce")},$m=function(e){return zm(e,"body_class","")},Um=function(e){return e.getParam("content_security_policy","")},qm=function(e){return e.getParam("br_in_pre",!0)},Wm=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Km=function(e){return e.getParam("forced_root_block_attrs",{})},Ym=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Xm=function(e){return e.getParam("no_newline_selector","")},Gm=function(e){return e.getParam("keep_styles",!0)},Jm=function(e){return e.getParam("end_container_on_empty_block",!1)},Qm=function(e){return zn.explode(e.getParam("font_size_style_values",""))},Zm=function(e){return zn.explode(e.getParam("font_size_classes",""))},ep=function(e){return e.getParam("images_dataimg_filter",o(!0),"function")},tp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},np=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},rp=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},op=function(e){return e.getParam("images_upload_url","","string")},ap=function(e){return e.getParam("images_upload_base_path","","string")},ip=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},sp=function(e){return e.getParam("images_upload_handler",null,"function")},up=function(e){return e.getParam("content_css_cors",!1,"boolean")},cp=function(e){return e.getParam("language","en","string")},lp=function(e){return e.getParam("language_url","","string")},dp=function(e){return e.getParam("indent_use_margin",!1)},fp=function(e){return e.getParam("indentation","40px","string")},mp=function(e){var t=e.settings.content_css;return A(t)?U(t.split(","),Xr):B(t)?t:!1===t||e.inline?[]:["default"]},pp={getIframeAttrs:Fm,getDocType:jm,getDocumentBaseUrl:Hm,getBodyId:Vm,getBodyClass:$m,getContentSecurityPolicy:Um,shouldPutBrInPre:qm,getForcedRootBlock:Wm,getForcedRootBlockAttrs:Km,getBrNewLineSelector:Ym,getNoNewLineSelector:Xm,shouldKeepStyles:Gm,shouldEndContainerOnEmptyBlock:Jm,getFontStyleValues:Qm,getFontSizeClasses:Zm,getImagesDataImgFilter:ep,isAutomaticUploadsEnabled:tp,shouldReuseFileName:np,shouldReplaceBlobUris:rp,getImageUploadUrl:op,getImageUploadBasePath:ap,getImagesUploadCredentials:ip,getImagesUploadHandler:sp,shouldUseContentCssCors:up,getLanguageCode:cp,getLanguageUrl:lp,shouldIndentUseMargin:dp,getIndentation:fp,getContentCss:mp},hp="html",gp=function(e,t){var n=pp.getForcedRootBlock(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},vp=function(e,t,n){var r;if(t.format=t.format?t.format:hp,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=zn.trim(Pm.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=zu.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=gp(e,e.serializer.serialize(n,t))}return"text"===t.format||ci(mo.fromDom(n))?t.content=r:t.content=zn.trim(r),t.no_events||e.fire("GetContent",t),t.content},bp=function(e,t){return void 0===t&&(t={}),R.from(e.getBody()).fold(o("tree"===t.format?new Tm("body",11):""),function(n){return vp(e,t,n)})},yp=zn.makeMap;function wp(e){var t,n,r,o,a,i=[];return e=e||{},t=e.indent,n=yp(e.indent_before||""),r=yp(e.indent_after||""),o=Ki.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format,{start:function(e,s,u){var c,l,d,f;if(t&&n[e]&&i.length>0&&(f=i[i.length-1],f.length>0&&"\n"!==f&&i.push("\n")),i.push("<",e),s)for(c=0,l=s.length;c<l;c++)d=s[c],i.push(" ",d.name,'="',o(d.value,!0),'"');i[i.length]=!u||a?">":" />",u&&t&&r[e]&&i.length>0&&(f=i[i.length-1],f.length>0&&"\n"!==f&&i.push("\n"))},end:function(e){var n;i.push("</",e,">"),t&&r[e]&&i.length>0&&(n=i[i.length-1],n.length>0&&"\n"!==n&&i.push("\n"))},text:function(e,t){e.length>0&&(i[i.length]=t?e:o(e))},cdata:function(e){i.push("<![CDATA[",e,"]]>")},comment:function(e){i.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?i.push("<?",e," ",o(n),"?>"):i.push("<?",e,"?>"),t&&i.push("\n")},doctype:function(e){i.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){i.length=0},getContent:function(){return i.join("").replace(/\n$/,"")}}}function xp(e,t){void 0===t&&(t=os());var n=wp(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var o,a;a=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{i(e)}while(e=e.next)}},n.reset();var i=function(e){var r,s,u,c,l,d,f,m,p,h=o[e.type];if(h)h(e);else{if(r=e.name,s=e.shortEnded,u=e.attributes,a&&u&&u.length>1&&(d=[],d.map={},p=t.getElementRule(e.name),p)){for(f=0,m=p.attributesOrder.length;f<m;f++)c=p.attributesOrder[f],c in u.map&&(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));for(f=0,m=u.length;f<m;f++)c=u[f].name,c in d.map||(l=u.map[c],d.map[c]=l,d.push({name:c,value:l}));u=d}if(n.start(e.name,u,s),!s){if(e=e.firstChild)do{i(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):i(r),n.getContent()};return{serialize:r}}var Cp=function(e,t){t(e),e.firstChild&&Cp(e.firstChild,t),e.next&&Cp(e.next,t)},Sp=function(e,t,n){var r={},o={},a=[];for(var i in n.firstChild&&Cp(n.firstChild,function(n){q(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),q(t,function(e){"string"===typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})}),r)r.hasOwnProperty(i)&&a.push(r[i]);for(var i in o)o.hasOwnProperty(i)&&a.push(o[i]);return a},kp=function(e,t,n){var r=Sp(e,t,n);q(r,function(e){q(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},_p=function(e){var t=ia(e).dom();return e.dom()===t.activeElement},Tp=function(e){var n=void 0!==e?e.dom():t.document;return R.from(n.activeElement).map(mo.fromDom)},Op=function(e){return Tp(ia(e)).filter(function(t){return e.dom().contains(t.dom())})},Ep=function(e){if(!B(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return q(e,function(o,a){var i=Co(o);if(1!==i.length)throw new Error("one and only one name per case");var s=i[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!B(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),i=0;i<o.length;i++)o[i]=arguments[i];var c=function(e){var t=Co(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=re(n,function(e){return V(t,e)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[a];return t.apply(null,o)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:s,params:o})}}}}),r},Dp={generate:Ep},Rp=(Dp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),Np=Ho("start","soffset","finish","foffset"),Ip=(Rp.domRange,Rp.relative,Rp.exact,io.detect().browser),Ap=function(e,t){var n=xo(t)?pm(t).length:ha(t).length+1;return e>n?n:e<0?0:e},Mp=function(e){return Np(e.start(),Ap(e.soffset(),e.start()),e.finish(),Ap(e.foffset(),e.finish()))},Bp=function(e,t){return aa(e,t)||ta(e,t)},Lp=function(e){return function(t){return Bp(e,t.start())&&Bp(e,t.finish())}},Pp=function(e){return!0===e.inline||Ip.isIE()},zp=function(e){return Np(mo.fromDom(e.startContainer),e.startOffset,mo.fromDom(e.endContainer),e.endOffset)},Fp=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?R.from(t.getRangeAt(0)):R.none();return n.map(zp)},jp=function(e){var t=ua(e);return Fp(t.dom()).filter(Lp(e))},Hp=function(e,t){return R.from(t).filter(Lp(e)).map(Mp)},Vp=function(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),R.some(n)}catch(r){return R.none()}},$p=function(e){var t=Pp(e)?jp(mo.fromDom(e.getBody())):R.none();e.bookmark=t.isSome()?t:e.bookmark},Up=function(e,t){var n=mo.fromDom(e.getBody()),r=Pp(e)?R.from(t):R.none(),o=r.map(zp).filter(Lp(n));e.bookmark=o.isSome()?o:e.bookmark},qp=function(e){var t=e.bookmark?e.bookmark:R.none();return t.bind(i(Hp,mo.fromDom(e.getBody()))).bind(Vp)},Wp=function(e){qp(e).each(function(t){e.selection.setRng(t)})},Kp={store:$p,storeNative:Up,readRange:Fp,restore:Wp,getRng:qp,getBookmark:jp,validate:Hp},Yp=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},Xp=function(e){return e.collapsed?R.from(Ec(e.startContainer,e.startOffset)).map(mo.fromDom):R.none()},Gp=function(e,t){return Xp(t).bind(function(t){return si(t)?R.some(t):!1===aa(e,t)?R.some(e):R.none()})},Jp=function(e,t){Gp(mo.fromDom(e.getBody()),t).bind(function(e){return uf.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},Qp=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Zp=function(e){return _p(e)||Op(e).isSome()},eh=function(e){return e.iframeElement&&_p(mo.fromDom(e.iframeElement))},th=function(e){var t=e.getBody();return t&&Zp(mo.fromDom(t))},nh=function(e){return e.inline?th(e):eh(e)},rh=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o=Yp(e,t.getNode());if(e.$.contains(n,o))return Qp(o),Jp(e,r),void oh(e);void 0!==e.bookmark&&!1===nh(e)&&Kp.getRng(e).each(function(t){e.selection.setRng(t),r=t}),e.inline||(Oe.opera||Qp(n),e.getWin().focus()),(Oe.gecko||e.inline)&&(Qp(n),Jp(e,r)),oh(e)},oh=function(e){return e.editorManager.setActive(e)},ah=function(e,t){e.removed||(t?oh(e):rh(e))},ih={focus:ah,hasFocus:nh},sh="html",uh=function(e){return e instanceof Tm},ch=function(e){ih.hasFocus(e)&&uf.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),r=Ei.isTable(n)?uf.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())})},lh=function(e,t){e.dom.setHTML(e.getBody(),t),ch(e)},dh=function(e,t,n,r){var o,a;return 0===n.length||/^\s+$/.test(n)?(a='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>"),o=pp.getForcedRootBlock(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=a,n=e.dom.createHTML(o,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),lh(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=xp({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ci(mo.fromDom(t))?n:zn.trim(n),lh(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},fh=function(e,t,n,r){kp(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=xp({validate:e.validate},e.schema).serialize(n);return r.content=ci(mo.fromDom(t))?o:zn.trim(o),lh(e,r.content),r.no_events||e.fire("SetContent",r),n},mh=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:sh,n.set=!0,n.content=uh(t)?"":t,uh(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),R.from(e.getBody()).fold(o(t),function(r){return uh(t)?fh(e,r,t,n):dh(e,r,t,n)})},ph=function(e,t){return e.fire("PreProcess",t)},hh=function(e,t){return e.fire("PostProcess",t)},gh=function(e){return e.fire("remove")},vh=function(e){return e.fire("detach")},bh=function(e,t){return e.fire("SwitchMode",{mode:t})},yh=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},wh=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},xh={firePreProcess:ph,firePostProcess:hh,fireRemove:gh,fireDetach:vh,fireSwitchMode:bh,fireObjectResizeStart:yh,fireObjectResized:wh},Ch=gs.DOM,Sh=function(e){Ch.setStyle(e.id,"display",e.orgDisplay)},kh=function(e){return R.from(e).each(function(e){return e.destroy()})},_h=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},Th=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Ch.unbind(t,"submit reset",e.formEventDelegate))},Oh=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&Ch.remove(o.nextSibling),xh.fireRemove(e),e.editorManager.remove(e),!e.inline&&r&&Sh(e),xh.fireDetach(e),Ch.remove(e.getContainer()),kh(t),kh(n),e.destroy()}},Eh=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),kh(n),kh(r)),Th(e),_h(e),e.destroyed=!0):e.remove())},Dh=Ho("sections","settings"),Rh=io.detect(),Nh=Rh.deviceType.isTouch(),Ih=Rh.deviceType.isPhone(),Ah=["lists","autolink","autosave"],Mh=Ih?{theme:"mobile"}:{},Bh=function(e){var t=B(e)?e.join(" "):e,n=U(A(t)?t.split(" "):[],Xr);return Y(n,function(e){return e.length>0})},Lh=function(e){return Y(e,i(V,Ah))},Ph=function(e,t){var n=Oo(t,function(t,n){return V(e,n)});return Dh(n.t,n.f)},zh=function(e,t,n){var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return zn.extend({},n,o)},Fh=function(e,t){return e.sections().hasOwnProperty(t)},jh=function(e,t,n){return{id:e,theme:"silver",popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},Hh=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?zn.extend({},e.external_plugins,n):n},Vh=function(e,t){return[].concat(Bh(e)).concat(Bh(t))},$h=function(e,t,n,r){var o=Bh(n.forced_plugins),a=Bh(r.plugins),i=e&&Fh(t,"mobile")?Lh(a):a,s=Vh(o,i);return zn.extend(r,{plugins:s.join(" ")})},Uh=function(e,t){var n=t.settings().inline;return e&&!n},qh=function(e,t,n,r){var o=Ph(["mobile"],r),a=zn.extend(t,n,o.settings(),Uh(e,o)?zh(o,"mobile",Mh):{},{validate:!0,external_plugins:Hh(n,o.settings())});return $h(e,o,n,a)},Wh=function(e,t,n,r,o){var a=jh(t,n,e);return qh(Nh,a,r,o)},Kh=function(e,t,n){return R.from(t.settings[n]).filter(e)},Yh=i(Kh,A),Xh=function(e){var t={};return"string"===typeof e?q(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[zn.trim(n[0])]=zn.trim(n[1]):t[zn.trim(n[0])]=zn.trim(n)}):t=e,t},Gh=function(e){return function(t){return B(t)&&re(t,e)}},Jh=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?Xh(o):"string"===r?Kh(A,e,t).getOr(n):"number"===r?Kh(F,e,t).getOr(n):"boolean"===r?Kh(P,e,t).getOr(n):"object"===r?Kh(M,e,t).getOr(n):"array"===r?Kh(B,e,t).getOr(n):"string[]"===r?Kh(Gh(A),e,t).getOr(n):"function"===r?Kh(z,e,t).getOr(n):o},Qh=function(e,t){var n=t.dom();return n[e]},Zh=function(e,t){return parseInt(zo(t,e),10)},eg=i(Qh,"clientWidth"),tg=i(Qh,"clientHeight"),ng=i(Zh,"margin-top"),rg=i(Zh,"margin-left"),og=function(e){return e.dom().getBoundingClientRect()},ag=function(e,t,n){var r=eg(e),o=tg(e);return t>=0&&n>=0&&t<=r&&n<=o},ig=function(e,t,n,r){var o=og(t),a=e?o.left+t.dom().clientLeft+rg(t):0,i=e?o.top+t.dom().clientTop+ng(t):0,s=n-a,u=r-i;return{x:s,y:u}},sg=function(e,t,n){var r=mo.fromDom(e.getBody()),o=e.inline?r:sa(r),a=ig(e.inline,o,t,n);return ag(o,a.x,a.y)},ug=function(e){return R.from(e).map(mo.fromDom)},cg=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return ug(t).map(function(e){return aa(ia(e),e)}).getOr(!1)},lg={isXYInContentArea:sg,isEditorAttachedToDom:cg};function dg(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function fg(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():dg()},r=function(){return R.from(t[0])},o=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout},a=function(){t.length>0&&n().reposition(t)},i=function(e){t.push(e)},s=function(e){Q(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},u=function(r){if(!e.removed&&lg.isEditorAttachedToDom(e))return J(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){s(t),a()});return i(t),a(),t})},c=function(){r().each(function(e){n().close(e),s(e),a()})},l=function(){return t},d=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&u({text:t,type:"warning",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){Le.requestAnimationFrame(a)}),e.on("remove",function(){q(t.slice(),function(e){n().close(e)})})};return d(e),{open:u,close:c,getNotifications:l}}function mg(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function pg(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():mg()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},a=function(t){e.fire("CloseWindow",{dialog:t})},i=function(e){t.push(e),o(e)},s=function(n){a(n),t=Y(t,function(e){return e!==n}),0===t.length&&e.focus()},u=function(){return R.from(t[t.length-1])},c=function(t,r){e.editorManager.setActive(e),Kp.store(e);var o=n().open(t,r,s);return i(o),o},l=function(e,t,o){n().alert(e,r(o||this,t))},d=function(e,t,o){n().confirm(e,r(o||this,t))},f=function(){u().each(function(e){n().close(e),s(e)})};return e.on("remove",function(){q(t,function(e){n().close(e)})}),{open:c,alert:l,confirm:d,close:f}}var hg=zs.PluginManager,gg=function(e,t){for(var n in hg.urls){var r=hg.urls[n]+"/plugin"+t+".js";if(r===e)return n}return null},vg=function(e,t){var n=gg(t,e.suffix);return n?Ls.translate(["Failed to load plugin: {0} from url {1}",n,t]):Ls.translate(["Failed to load plugin url: {0}",t])},bg=function(e,t){e.notificationManager.open({type:"error",text:t})},yg=function(e,t){e._skinLoaded?bg(e,t):e.on("SkinLoaded",function(){bg(e,t)})},wg=function(e,t){yg(e,Ls.translate(["Failed to upload image: {0}",t]))},xg=function(e,t){yg(e,vg(e,t))},Cg=function(e,t,n){var r=Ls.translate(["Failed to initialize plugin: {0}",t]);Sg(r,n),yg(e,r)},Sg=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=t.window.console;o&&(o.error?o.error.apply(o,arguments):o.log.apply(o,arguments))},kg={pluginLoadError:xg,pluginInitError:Cg,uploadError:wg,displayError:yg,initError:Sg},_g=function(){var e={},t=function(t,n){e[t]=n},n=function(t){return e[t]?e[t]:{icons:{}}},r=function(t){return Do(e,t)};return{add:t,get:n,has:r}},Tg=_g(),Og=zs.PluginManager,Eg=zs.ThemeManager;function Dg(){var e=ve.getOrDie("XMLHttpRequest");return new e}function Rg(e,n){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},a=function(e,r,a,i){var s,u;s=Dg(),s.open("POST",n.url),s.withCredentials=n.credentials,s.upload.onprogress=function(e){i(e.loaded/e.total*100)},s.onerror=function(){a("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e;s.status<200||s.status>=300?a("HTTP Error: "+s.status):(e=JSON.parse(s.responseText),e&&"string"===typeof e.location?r(o(n.basePath,e.location)):a("Invalid JSON: "+s.responseText))},u=new t.FormData,u.append("file",e.blob(),e.filename()),s.send(u)},i=function(){return new De(function(e){e([])})},s=function(e,t){return{url:t,blobInfo:e,status:!0}},u=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){zn.each(r[e],function(e){e(t)}),delete r[e]},l=function(t,n,r){return e.markPending(t.blobUri()),new De(function(o){var a,i,l=function(){};try{var d=function(){a&&(a.close(),i=l)},f=function(n){d(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),s(t,n)),o(s(t,n))},m=function(n){d(),e.removeFailed(t.blobUri()),c(t.blobUri(),u(t,n)),o(u(t,n))};i=function(e){e<0||e>100||(a||(a=r()),a.progressBar.value(e))},n(t,f,m,i)}catch(p){o(u(t,p.message))}})},d=function(e){return e===a},f=function(e){var t=e.blobUri();return new De(function(e){r[t]=r[t]||[],r[t].push(e)})},m=function(t,r){return t=zn.grep(t,function(t){return!e.isUploaded(t.blobUri())}),De.all(zn.map(t,function(t){return e.isPending(t.blobUri())?f(t):l(t,n.handler,r)}))},p=function(e,t){return!n.url&&d(n.handler)?i():m(e,t)};return!1===z(n.handler)&&(n.handler=a),{upload:p}}function Ng(){var e=ve.getOrDie("FileReader");return new e}function Ig(e){var t=ve.getOrDie("Uint8Array");return new t(e)}var Ag=function(e){var t=ve.getOrDie("requestAnimationFrame");t(e)},Mg=function(e){var t=ve.getOrDie("atob");return t(e)},Bg={atob:Mg,requestAnimationFrame:Ag},Lg=function(e){return new De(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=Dg();o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(a){r()}})},Pg=function(e){var t,n,r=decodeURIComponent(e).split(",");return n=/data:([^;]+)/.exec(r[0]),n&&(t=n[1]),{type:t,data:r[1]}},zg=function(e){return new De(function(n){var r,o,a,i=Pg(e);try{r=Bg.atob(i.data)}catch(pL){return void n(new t.Blob([]))}for(o=Ig(r.length),a=0;a<o.length;a++)o[a]=r.charCodeAt(a);n(new t.Blob([o],{type:i.type}))})},Fg=function(e){return 0===e.indexOf("blob:")?Lg(e):0===e.indexOf("data:")?zg(e):null},jg=function(e){return new De(function(t){var n=Ng();n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},Hg={uriToBlob:Fg,blobToDataUri:jg,parseDataUri:Pg},Vg=0,$g=function(e){return(e||"blobid")+Vg++},Ug=function(e,t,n,r){var o,a;if(0===t.src.indexOf("blob:"))return a=e.getByUri(t.src),void(a?n({image:t,blobInfo:a}):Hg.uriToBlob(t.src).then(function(r){Hg.blobToDataUri(r).then(function(i){o=Hg.parseDataUri(i).data,a=e.create($g(),r,o),e.add(a),n({image:t,blobInfo:a})})},function(e){r(e)}));o=Hg.parseDataUri(t.src).data,a=e.findFirst(function(e){return e.base64()===o}),a?n({image:t,blobInfo:a}):Hg.uriToBlob(t.src).then(function(r){a=e.create($g(),r,o),e.add(a),n({image:t,blobInfo:a})},function(e){r(e)})},qg=function(e){return e?de(e.getElementsByTagName("img")):[]};function Wg(e,t){var n={},r=function(r,a){var i;a||(a=o(!0)),i=Y(qg(r),function(t){var n=t.src;return!!Oe.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Oe.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&a(t):0===n.indexOf("data:")&&a(t)))))});var s=U(i,function(e){if(n[e.src])return new De(function(t){n[e.src].then(function(n){if("string"===typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new De(function(n,r){Ug(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return De.all(s)};return{findAll:r}}var Kg=0,Yg=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},Xg=function(e){return e+Kg+++Yg()},Gg={uuid:Xg};function Jg(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},n=function(e,t,n,o){if(A(e)){var a=e;return r({id:a,name:o,blob:t,base64:n})}if(M(e))return r(e);throw new Error("Unknown input type")},r=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||Gg.uuid("blobid"),r=e.name||n,{id:o(n),name:o(r),filename:o(r+"."+t(e.blob.type)),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||xe.createObjectURL(e.blob)),uri:o(e.uri)}},a=function(t){i(t.id())||e.push(t)},i=function(e){return s(function(t){return t.id()===e})},s=function(t){return Y(e,t)[0]},u=function(e){return s(function(t){return t.blobUri()===e})},c=function(t){e=Y(e,function(e){return e.blobUri()!==t||(xe.revokeObjectURL(e.blobUri()),!1)})},l=function(){q(e,function(e){xe.revokeObjectURL(e.blobUri())}),e=[]};return{create:n,add:a,get:i,getByUri:u,findFirst:s,removeByUri:c,destroy:l}}function Qg(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n},a=function(e){var t=n[e];return t?t.resultUri:null},i=function(t){return!!o(t)&&n[t].status===e},s=function(e){return!!o(e)&&n[e].status===t},u=function(t){n[t]=r(e,null)},c=function(e,o){n[e]=r(t,o)},l=function(e){delete n[e]},d=function(){n={}};return{hasBlobUri:o,getResultUri:a,isPending:i,isUploaded:s,markPending:u,markUploaded:c,removeFailed:l,destroy:d}}function Zg(e){var t,n,r=Jg(),o=Qg(),a=[],i=function(t){return function(n){return e.selection?t(n):[]}},s=function(){return"?"+(new Date).getTime()},u=function(e,t,n){var r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){return e=u(e,'src="'+t+'"','src="'+n+'"'),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},l=function(t,n){q(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=U(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},d=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(t,n){r.removeByUri(t.src),l(t.src,n),e.$(t).attr({src:pp.shouldReuseFileName(e)?n+s():n,"data-mce-src":e.convertURL(n,"src")})},m=function(n){return t||(t=Rg(o,{url:pp.getImageUploadUrl(e),basePath:pp.getImageUploadBasePath(e),credentials:pp.getImagesUploadCredentials(e),handler:pp.getImagesUploadHandler(e)})),v().then(i(function(r){var o;return o=U(r,function(e){return e.blobInfo}),t.upload(o,d).then(i(function(t){var o=U(t,function(t,n){var o=r[n].image;return t.status&&pp.shouldReplaceBlobUris(e)?f(o,t.url):t.error&&kg.uploadError(e,t.error),{element:o,status:t.status}});return n&&n(o),o}))}))},p=function(t){if(pp.isAutomaticUploadsEnabled(e))return m(t)},h=function(t){if(!1===re(a,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=pp.getImagesDataImgFilter(e);return n(t)}return!0},g=function(e){a.push(e)},v=function(){return n||(n=Wg(o,r)),n.findAll(e.getBody(),h).then(i(function(t){return t=Y(t,function(t){return"string"!==typeof t||(kg.displayError(e,t),!1)}),q(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var a=o.getResultUri(n);if(a)return'src="'+a+'"';var i=r.getByUri(n);if(i||(i=G(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),i){var s=i.blob();return'src="data:'+s.type+";base64,"+i.base64()+'"'}return t})};return e.on("setContent",function(){pp.isAutomaticUploadsEnabled(e)?p():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){q(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:m,uploadImagesAuto:p,scanForImages:v,destroy:b}}var ev=function(e){return e.slice(0,-1)},tv=function(e,t,n){return aa(t,e)?ev(la(e,function(e){return n(e)||ta(e,t)})):[]},nv=function(e,t){return tv(e,t,o(!1))},rv=function(e,t){return[e].concat(nv(e,t))},ov={parentsUntil:tv,parents:nv,parentsAndSelf:rv},av=function(e,t){return e.hasOwnProperty(t.nodeName)},iv=function(e,t){return!!Ei.isText(t)||!!Ei.isElement(t)&&(!av(e,t)&&!If.isBookmarkNode(t))},sv=function(e,t,n){return $(ov.parents(mo.fromDom(n),mo.fromDom(t)),function(t){return av(e,t.dom())})},uv=function(e,t){if(Ei.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||av(e,t.nextSibling)))return!0}return!1},cv=function(e){var t,n,r,o,a,i,s,u,c,l,d=e.dom,f=e.selection,m=e.schema,p=m.getBlockElements(),h=f.getStart(),g=e.getBody(),v=pp.getForcedRootBlock(e);if(h&&Ei.isElement(h)&&v&&(l=g.nodeName.toLowerCase(),m.isValidChild(l,v.toLowerCase())&&!sv(p,g,h))){t=f.getRng(),n=t.startContainer,r=t.startOffset,o=t.endContainer,a=t.endOffset,c=ih.hasFocus(e),h=g.firstChild;while(h)if(iv(p,h)){if(uv(p,h)){s=h,h=h.nextSibling,d.remove(s);continue}i||(i=d.create(v,e.settings.forced_root_block_attrs),h.parentNode.insertBefore(i,h),u=!0),s=h,h=h.nextSibling,i.appendChild(s)}else i=null,h=h.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(o,a),f.setRng(t),e.nodeChanged())}},lv=function(e){pp.getForcedRootBlock(e)&&e.on("NodeChange",i(cv,e))},dv={setup:lv},fv=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},mv={isEq:fv},pv=function(e){var t=e.startContainer,n=e.startOffset;return Ei.isText(t)?0===n?R.some(mo.fromDom(t)):R.none():R.from(t.childNodes[n]).map(mo.fromDom)},hv=function(e){var t=e.endContainer,n=e.endOffset;return Ei.isText(t)?n===t.data.length?R.some(mo.fromDom(t)):R.none():R.from(t.childNodes[n-1]).map(mo.fromDom)},gv=function(e){return va(e).fold(o([e]),function(t){return[e].concat(gv(t))})},vv=function(e){return ba(e).fold(o([e]),function(t){return"br"===vo(t)?da(t).map(function(t){return[e].concat(vv(t))}).getOr([]):[e].concat(vv(t))})},bv=function(e,t){return Nc([pv(t),hv(t)],function(t,n){var r=J(gv(e),i(ta,t)),o=J(vv(e),i(ta,n));return r.isSome()&&o.isSome()}).getOr(!1)},yv=function(e,t,n,r){var o=n,a=new za(n,o),i=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==zn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(i[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(Oe.ie&&Oe.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?a.next():a.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},wv=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0};function xv(e){var t,n=[],r=function(t){var r,o;if(o=e.$(t).parentsUntil(e.getBody()).add(t),o.length===n.length){for(r=o.length;r>=0;r--)if(o[r]!==n[r])break;if(-1===r)return n=o,!0}return n=o,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,o;r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&mv.isEq(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!Oe.range&&e.selection.isCollapsed()||wv(e)&&!r(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&wv(e)&&("IMG"===e.selection.getNode().nodeName?Le.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,o,a=e.selection;e.initialized&&a&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),n=a.getStart(!0)||o,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,function(e){if(e===o)return!0;r.push(e)}),t=t||{},t.element=n,t.parents=r,e.fire("NodeChange",t))}}var Cv,Sv=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},kv=function(e){return e.inline?Sv(e.getBody()):{left:0,top:0}},_v=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},Tv=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},Ov=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Sv(e.getContentAreaContainer()),r=Tv(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},Ev=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},Dv=function(e,t){return Ev(kv(e),_v(e),Ov(e,t))},Rv={calc:Dv},Nv=Ei.isContentEditableFalse,Iv=Ei.isContentEditableTrue,Av=function(e,t){return Nv(t)&&t!==e},Mv=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!Nv(t)},Bv=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},Lv=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var a=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),a.appendChild(o),a},Pv=function(e,t){e.parentNode!==t&&t.appendChild(e)},zv=function(e,t,n,r,o,a){var i=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(i=t.pageX+n-o),t.pageY+r>a&&(s=t.pageY+r-a),e.style.width=n-i+"px",e.style.height=r-s+"px"},Fv=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},jv=function(e){return 0===e.button},Hv=function(e){return e.element},Vv=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},$v=function(e,t){return function(n){if(jv(n)){var r=J(t.dom.getParents(n.target),Bc.or(Nv,Iv)).getOr(null);if(Av(t.getBody(),r)){var o=t.dom.getPos(r),a=t.getBody(),i=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?a.scrollWidth:i.offsetWidth)-2,e.maxY=(t.inline?a.scrollHeight:i.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=Lv(t,r,e.width,e.height)}}}},Uv=function(e,t){var n=Le.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(Hv(e)&&!e.dragging&&o>10){var a=t.fire("dragstart",{target:e.element});if(a.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=Vv(e,Rv.calc(t,r));Pv(e.ghost,t.getBody()),zv(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},qv=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},Wv=function(e,t){return function(n){if(e.dragging&&Mv(t,qv(t.selection),e.element)){var r=Bv(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){Fv(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}Yv(e)}},Kv=function(e,t){return function(){e.dragging&&t.fire("dragend"),Yv(e)}},Yv=function(e){e.dragging=!1,e.element=null,Fv(e.ghost)},Xv=function(e){var n,r,o,a,i,s,u={};n=gs.DOM,s=t.document,r=$v(u,e),o=Uv(u,e),a=Wv(u,e),i=Kv(u,e),e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a),n.bind(s,"mousemove",o),n.bind(s,"mouseup",i),e.on("remove",function(){n.unbind(s,"mousemove",o),n.unbind(s,"mouseup",i)})},Gv=function(e){e.on("drop",function(t){var n="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(Nv(n)||Nv(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},Jv=function(e){Xv(e),Gv(e)},Qv={init:Jv},Zv=function(e){var t=function(t){return U(t,function(t){return t=vc(t),t.node=e,t})};if(Ei.isElement(e))return t(e.getClientRects());if(Ei.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},eb=function(e){return G(e,function(e,t){return e.concat(Zv(t))},[])};(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(Cv||(Cv={}));var tb=function(e,t,n,r){while(r=yd(r,e,hc,t))if(n(r))return},nb=function(e,t,n,r,o,a){var i,s,u=0,c=[],l=function(r){var a,i,l;for(l=eb([r]),-1===e&&(l=l.reverse()),a=0;a<l.length;a++)if(i=l[a],!n(i,s)){if(c.length>0&&t(i,_n.last(c))&&u++,i.line=u,o(i))return!0;c.push(i)}};return s=_n.last(a.getClientRects()),s?(i=a.getNode(),l(i),tb(e,r,l,i),c):c},rb=function(e,t){return t.line>e},ob=function(e,t){return t.line===e},ab=i(nb,Cv.Up,xc,Cc),ib=i(nb,Cv.Down,Cc,xc),sb=function(e,t,n,r){var o,a,i,s,u,c,l=Kd(t),d=[],f=0,m=function(e){return _n.last(e.getClientRects())};1===e?(o=l.next,a=Cc,i=xc,s=ol.after(r)):(o=l.prev,a=xc,i=Cc,s=ol.before(r)),c=m(s);do{if(s.isVisible()&&(u=m(s),!i(u,c))){if(d.length>0&&a(u,_n.last(d))&&f++,u=vc(u),u.position=s,u.line=f,n(u))return d;d.push(u)}}while(s=o(s));return d},ub=function(e){return function(t){return rb(e,t)}},cb=function(e){return function(t){return ob(e,t)}},lb=Ei.isContentEditableFalse,db=yd,fb=function(e,t){return Math.abs(e.left-t)},mb=function(e,t){return Math.abs(e.right-t)},pb=function(e,t){return e>=t.left&&e<=t.right},hb=function(e,t){return _n.reduce(e,function(e,n){var r,o;return r=Math.min(fb(e,t),mb(e,t)),o=Math.min(fb(n,t),mb(n,t)),pb(t,n)?n:pb(t,e)?e:o===r&&lb(n.node)?n:o<r?n:e})},gb=function(e,t,n,r){while(r=db(r,e,hc,t))if(n(r))return},vb=function(e,t){var n=[],r=function(e,r){var o;return o=Y(eb([r]),function(n){return!e(n,t)}),n=n.concat(o),0===o.length};return n.push(t),gb(Cv.Up,e,i(r,xc),t.node),gb(Cv.Down,e,i(r,Cc),t.node),n},bb=function(e){return Y(de(e.getElementsByTagName("*")),cd)},yb=function(e,t){return{node:e.node,before:fb(e,t)<mb(e,t)}},wb=function(e,t,n){var r,o=eb(bb(e)),a=Y(o,function(e){return n>=e.top&&n<=e.bottom});return r=hb(a,t),r&&(r=hb(vb(e,r),t),r&&cd(r.node))?yb(r,t):null},xb=function(e,t,n){return!n.collapsed&&G(n.getClientRects(),function(n,r){return n||Sc(r,e,t)},!1)},Cb={isXYWithinRange:xb},Sb=Ei.isContentEditableTrue,kb=Ei.isContentEditableFalse,_b=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},Tb=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Ob=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?null:Tb(t)},Eb=function(e,t,n){var r=Ed(1,e.getBody(),t),o=ol.fromRangeStart(r),a=o.getNode();if(kb(a))return _b(1,e,a,!o.isAtEnd(),!1);var i=o.getNode(!0);if(kb(i))return _b(1,e,i,!1,!1);var s=e.dom.getParent(o.getNode(),function(e){return kb(e)||Sb(e)});return kb(s)?_b(1,e,s,!1,n):null},Db=function(e,t,n){if(!t||!t.collapsed)return t;var r=Eb(e,t,n);return r||t},Rb=function(e){var n=Xs(function(){if(!e.removed&&e.getBody().contains(t.document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=Db(e,e.selection.getRng(),!1);e.selection.setRng(r)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},Nb={setup:Rb},Ib={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Oe.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Ab=function(e){return function(t){return e===t}},Mb=Ab(" "),Bb=function(e){return/^[\r\n\t ]$/.test(e)},Lb=function(e){return!Bb(e)&&!Mb(e)},Pb=function(e,t,n){return R.from(n.container()).filter(Ei.isText).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},zb=i(Pb,!0,Bb),Fb=i(Pb,!1,Bb),jb=function(e){var t=e.container();return Ei.isText(t)&&0===t.data.length},Hb=function(e,t){return function(n){return R.from(Cd(e?0:-1,n)).filter(t).isSome()}},Vb=function(e){return"IMG"===e.nodeName&&"block"===zo(mo.fromDom(e),"display")},$b=function(e){return Ei.isContentEditableFalse(e)&&!Ei.isBogusAll(e)},Ub=Hb(!0,Vb),qb=Hb(!1,Vb),Wb=Hb(!0,Ei.isTable),Kb=Hb(!1,Ei.isTable),Yb=Hb(!0,$b),Xb=Hb(!1,$b),Gb=Ei.isContentEditableTrue,Jb=Ei.isContentEditableFalse,Qb=function(e,t){var n=e.getBody();while(t&&t!==n){if(Gb(t)||Jb(t))return t;t=t.parentNode}return null},Zb=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=sd(e.getBody(),n,function(){return ih.hasFocus(e)}),a="sel-"+e.dom.uniqueId(),i=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},s=function(){var t=e.dom.get(a);return t?t.getElementsByTagName("*")[0]:t},u=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},l=function(t,n,r,a){var i;return void 0===a&&(a=!0),i=e.fire("ShowCaret",{target:n,direction:t,before:r}),i.isDefaultPrevented()?null:(a&&e.selection.scrollIntoView(n,-1===t),o.show(r,n))},d=function(e,t){return t=Ed(e,r,t),-1===e?ol.fromRangeStart(t):ol.fromRangeEnd(t)},f=function(t){t.hasAttribute("data-mce-caret")&&(Zu(t),u(c()),e.selection.scrollIntoView(t[0]))},m=function(){e.on("mouseup",function(t){var n=c();n.collapsed&&lg.isXYInContentArea(e,t.clientX,t.clientY)&&u(Eb(e,n,!1))}),e.on("click",function(t){var n;n=Qb(e,t.target),n&&(Jb(n)&&(t.preventDefault(),e.focus()),Gb(n)&&e.dom.isChildOf(n,e.selection.getNode())&&v())}),e.on("blur NewBlock",function(){v()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var r=Qb(e,n.target);Jb(r)&&(t||(n.preventDefault(),g(Ob(e,r))))})},a=function(e){var t=Kd(e);if(!e.firstChild)return!1;var n=ol.before(e.firstChild),r=t.next(n);return r&&!Yb(r)&&!Xb(r)},d=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return r===o},f=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return!(!r||!e.dom.isChildOf(r,o)||!1!==Jb(Qb(e,r)))||r&&!d(r,o)&&a(r)};n(e),e.on("mousedown",function(t){var n,o=t.target;if((o===r||"HTML"===o.nodeName||e.dom.isChildOf(o,r))&&!1!==lg.isXYInContentArea(e,t.clientX,t.clientY))if(n=Qb(e,o),n)Jb(n)?(t.preventDefault(),g(Ob(e,n))):(v(),Gb(n)&&t.shiftKey||Cb.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(y(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===cd(o)){v(),y();var a=wb(r,t.clientX,t.clientY);if(a&&!f(t.target,a.node)){t.preventDefault();var i=l(1,a.node,a.before,!1);e.getBody().focus(),u(i)}}}),e.on("keypress",function(t){if(!Ib.modifierPressed(t))switch(t.keyCode){default:Jb(e.selection.getNode())&&t.preventDefault();break}}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;t=g(e.range,e.forward),t&&(e.range=t)});var m=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;h(t)||m(t.startContainer.parentNode)||y(),i(t.startContainer.parentNode)||v()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Oe.ie){var n=s();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),Qv.init(e),Nb.setup(e)},p=function(e){return $u(e)||Gu(e)||Ju(e)},h=function(e){return p(e.startContainer)||p(e.endContainer)},g=function(n,r){var o,i,s,u,c,f,m,p,g,v,b=e.$,w=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(!1===r){if(p=d(-1,n),cd(p.getNode(!0)))return l(-1,p.getNode(!0),!1,!1);if(cd(p.getNode()))return l(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(p=d(1,n),cd(p.getNode()))return l(1,p.getNode(),!p.isAtEnd(),!1);if(cd(p.getNode(!0)))return l(1,p.getNode(!0),!1,!1)}return null}return u=n.startContainer,c=n.startOffset,f=n.endOffset,3===u.nodeType&&0===c&&Jb(u.parentNode)&&(u=u.parentNode,c=w.nodeIndex(u),u=u.parentNode),1!==u.nodeType?null:(f===c+1&&(o=u.childNodes[c]),Jb(o)?(g=v=o.cloneNode(!0),m=e.fire("ObjectSelected",{target:o,targetClone:g}),m.isDefaultPrevented()?null:(i=pu(mo.fromDom(e.getBody()),"#"+a).fold(function(){return b([])},function(e){return b([e.dom()])}),g=m.targetClone,0===i.length&&(i=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",a),i.appendTo(e.getBody())),n=e.dom.createRng(),g===v&&Oe.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(g),n.setStartAfter(i[0].firstChild.firstChild),n.setEndAfter(g)):(i.empty().append(" ").append(g).append(" "),n.setStart(i[0].firstChild,1),n.setEnd(i[0].lastChild,0)),i.css({top:w.getPos(o,e.getBody()).y}),i[0].focus(),s=e.selection.getSel(),s.removeAllRanges(),s.addRange(n),q(cu(mo.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Po(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,y(),n)):null)},v=function(){t&&(t.removeAttribute("data-mce-selected"),pu(mo.fromDom(e.getBody()),"#"+a).each(Ks),t=null),pu(mo.fromDom(e.getBody()),"#"+a).each(Ks),t=null},b=function(){o.destroy(),t=null},y=function(){o.hide()};return Oe.ceFalse&&m(),{showCaret:l,showBlockCaretContainer:f,hideFakeCaret:y,destroy:b}},ey=0,ty=1,ny=2,ry=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),a=function(e,t,n){return{start:e,end:t,diag:n}},i=function(n,r,o,a,s){var c=u(n,r,o,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-o){var l=n,d=o;while(l<r||d<a)l<r&&d<a&&e[l]===t[d]?(s.push([ey,e[l]]),++l,++d):r-n>a-o?(s.push([ny,e[l]]),++l):(s.push([ty,t[d]]),++d)}else{i(n,c.start,o,c.start-c.diag,s);for(var f=c.start;f<c.end;++f)s.push([ey,e[f]]);i(c.end,r,c.end-c.diag,a,s)}},s=function(n,r,o,i){var s=n;while(s-r<i&&s<o&&e[s]===t[s-r])++s;return a(n,s,r)},u=function(n,a,i,u){var c=a-n,l=u-i;if(0===c||0===l)return null;var d,f,m,p,h,g=c-l,v=l+c,b=(v%2===0?v:v+1)/2;for(r[1+b]=n,o[1+b]=a+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){m=f+b,f===-d||f!==d&&r[m-1]<r[m+1]?r[m]=r[m+1]:r[m]=r[m-1]+1,p=r[m],h=p-n+i-f;while(p<a&&h<u&&e[p]===t[h])r[m]=++p,++h;if(g%2!==0&&g-d<=f&&f<=g+d&&o[m-g]<=r[m])return s(o[m-g],f+n-i,a,u)}for(f=g-d;f<=g+d;f+=2){m=f+b-g,f===g-d||f!==g+d&&o[m+1]<=o[m-1]?o[m]=o[m+1]-1:o[m]=o[m-1],p=o[m]-1,h=p-n+i-f;while(p>=n&&h>=i&&e[p]===t[h])o[m]=p--,h--;if(g%2===0&&-d<=f&&f<=d&&o[m]<=r[m+g])return s(o[m],f+n-i,a,u)}}},c=[];return i(0,e.length,0,t.length,c),c},oy={KEEP:ey,DELETE:ny,INSERT:ty,diff:ry},ay=function(e){return Ei.isElement(e)?e.outerHTML:Ei.isText(e)?Ki.encodeRaw(e.data,!1):Ei.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},iy=function(e){var n,r,o;o=t.document.createElement("div"),n=t.document.createDocumentFragment(),e&&(o.innerHTML=e);while(r=o.firstChild)n.appendChild(r);return n},sy=function(e,t,n){var r=iy(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},uy=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},cy=function(e,t){var n=0;q(e,function(e){e[0]===oy.KEEP?n++:e[0]===oy.INSERT?(sy(t,e[1],n),n++):e[0]===oy.DELETE&&uy(t,n)})},ly=function(e){return Y(U(de(e.childNodes),ay),function(e){return e.length>0})},dy=function(e,t){var n=U(de(t.childNodes),ay);return cy(oy.diff(n,e),t),t},fy={read:ly,write:dy},my=ks(R.none()),py=function(){return my.get().getOrThunk(function(){var e=t.document.implementation.createHTMLDocument("undo");return my.set(R.some(e)),e})},hy=function(e){return-1!==e.indexOf("</iframe>")},gy=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},vy=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},by=function(e){var t,n,r;return t=fy.read(e.getBody()),r=ne(t,function(t){var n=Pm.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),hy(n)?gy(r):vy(n)},yy=function(e,t,n){"fragmented"===t.type?fy.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},wy=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},xy=function(e){var t=mo.fromTag("body",py());return Mu(t,wy(e)),q(cu(t,"*[data-mce-bogus]"),Ys),Au(t)},Cy=function(e,t){return wy(e)===wy(t)},Sy=function(e,t){return xy(e)===xy(t)},ky=function(e,t){return!(!e||!t)&&(!!Cy(e,t)||Sy(e,t))},_y={createFragmentedLevel:gy,createCompleteLevel:vy,createFromEditor:by,applyToEditor:yy,isEq:ky};function Ty(e){var t,n,r=this,o=0,a=[],i=0,s=function(){return 0===i},u=function(e){s()&&(r.typing=e)},c=function(t){e.setDirty(t)},l=function(e){u(!1),r.add({},e)},d=function(){r.typing&&(u(!1),r.add())};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(d(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&!1===_y.isEq(_y.createFromEditor(e),a[0])&&(!1===e.isDirty()&&(c(!0),e.fire("change",{level:a[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(t>=33&&t<=36||t>=37&&t<=40||45===t)r.typing&&l(e);else{var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),u(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)});var f=function(e){return"insertReplacementText"===e.inputType},m=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(f(e)||m(e))&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:a,typing:!1,beforeChange:function(){s()&&(t=zl.getUndoBookmark(e.selection))},add:function(n,r){var i,u,l,d=e.settings;if(l=_y.createFromEditor(e),n=n||{},n=zn.extend(n,l),!1===s()||e.removed)return null;if(u=a[o],e.fire("BeforeAddUndo",{level:n,lastLevel:u,originalEvent:r}).isDefaultPrevented())return null;if(u&&_y.isEq(u,n))return null;if(a[o]&&(a[o].beforeBookmark=t),d.custom_undo_redo_levels&&a.length>d.custom_undo_redo_levels){for(i=0;i<a.length-1;i++)a[i]=a[i+1];a.length--,o=a.length}n.bookmark=zl.getUndoBookmark(e.selection),o<a.length-1&&(a.length=o+1),a.push(n),o=a.length-1;var f={level:n,lastLevel:u,originalEvent:r};return e.fire("AddUndo",f),o>0&&(c(!0),e.fire("change",f)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,u(!1)),o>0&&(t=a[--o],_y.applyToEditor(e,t,!0),c(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<a.length-1&&(t=a[++o],_y.applyToEditor(e,t,!1),c(!0),e.fire("redo",{level:t})),t},clear:function(){a=[],o=0,r.typing=!1,r.data=a,e.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&a[0]&&!_y.isEq(_y.createFromEditor(e),a[0])},hasRedo:function(){return o<a.length-1&&!r.typing},transact:function(e){return d(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{i++,e()}finally{i--}},extra:function(t,n){var i,s;r.transact(t)&&(s=a[o].bookmark,i=a[o-1],_y.applyToEditor(e,i,!0),r.transact(n)&&(a[o-1].beforeBookmark=s))}},r}var Oy=function(e){var t=[],n=e.dom();while(n)t.push(mo.fromDom(n)),n=n.lastChild;return t},Ey=function(e){var t=cu(e,"br"),n=Y(Oy(e).slice(-1),ni);t.length===n.length&&q(n,Ks)},Dy=function(e){Ws(e),Vs(e,mo.fromHtml('<br data-mce-bogus="1">'))},Ry=function(e){return xo(e)?" "===pm(e):ni(e)},Ny=function(e){return 1===Y(ha(e),Ry).length},Iy=function(e){ba(e).each(function(t){da(t).each(function(n){Za(e)&&ni(t)&&Za(n)&&Ks(t)})})},Ay={removeTrailingBr:Ey,fillWithPaddingBr:Dy,isPaddedElement:Ny,trimBlockTrailingBr:Iy},My=qf.isEq,By=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Ly=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!By(e,t,n)||(t.parentNode===o||!!Fy(e,t,n,r,!0))}),Fy(e,t,n,r))},Py=function(e,t,n){return!!My(t,n.inline)||(!!My(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},zy=function(e,t,n,r,o,a){var i,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if("undefined"===typeof c.length){for(i in c)if(c.hasOwnProperty(i)){if(s="attributes"===r?e.getAttrib(t,i):qf.getStyle(e,t,i),o&&!s&&!n.exact)return;if((!o||n.exact)&&!My(s,qf.normalizeStyleValue(e,qf.replaceVars(c[i],a),i)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):qf.getStyle(e,t,c[u]))return n;return n},Fy=function(e,t,n,r,o){var a,i,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(i=0;i<c.length;i++)if(a=c[i],Py(e.dom,t,a)&&zy(l,t,a,"attributes",o,r)&&zy(l,t,a,"styles",o,r)){if(u=a.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return a}},jy=function(e,t,n,r){var o;return r?Ly(e,r,t,n):(r=e.selection.getNode(),!!Ly(e,r,t,n)||(o=e.selection.getStart(),!(o===r||!Ly(e,o,t,n))))},Hy=function(e,t,n){var r,o=[],a={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var i,s;for(i=0;i<t.length;i++)s=t[i],!a[s]&&Fy(e,r,s,n)&&(a[s]=!0,o.push(s))},e.dom.getRoot()),o},Vy=function(e,t){var n,r,o,a,i,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=qf.getParents(u,n),a=s.length-1;a>=0;a--){if(i=s[a].selector,!i||s[a].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(u.is(r[o],i))return!0}return!1},$y={matchNode:Fy,matchName:Py,match:jy,matchAll:Hy,canApply:Vy,matchesUnInheritedFormatSelector:By},Uy=function(e,t){return e.splitText(t)},qy=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Ei.isText(t)?n>0&&n<t.nodeValue.length&&(r=Uy(t,n),t=r.previousSibling,o>n?(o-=n,t=r=Uy(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(Ei.isText(t)&&n>0&&n<t.nodeValue.length&&(t=Uy(t,n),n=0),Ei.isText(r)&&o>0&&o<r.nodeValue.length&&(r=Uy(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Wy={split:qy},Ky=function(e){return-1!==" \f\n\r\t\v".indexOf(e)},Yy=function(e,t,n){var r=G(e.split(""),function(r,o){return Ky(o)||" "===o?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""});return r.str},Xy=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,a=0===t;e.replaceData(t,n,Yy(r,a,o))}},Gy=function(e,t){var n=e.data.slice(t),r=n.length-Gr(n).length;return Xy(e,t,r)},Jy=function(e,t){var n=e.data.slice(0,t),r=n.length-Jr(n).length;return Xy(e,t-r,r)},Qy=function(e,t,n){var r=Jr(e.data).length;return e.appendData(t.data),Ks(mo.fromDom(t)),n&&Gy(e,r),e},Zy=function(e,t,n){return mu(e,t,n).isSome()},ew=function(e,t){var n=mo.fromDom(e),r=mo.fromDom(t);return Zy(r,"pre,code",i(ta,n))},tw=function(e,t){return Ei.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===ew(e,t)},nw=function(e){return Ei.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},rw=function(e,t){return cc(t)&&!1===tw(e,t)||nw(t)||ow(t)},ow=Ei.hasAttribute("data-mce-bookmark"),aw=Ei.hasAttribute("data-mce-bogus"),iw=Ei.hasAttributeValue("data-mce-bogus","all"),sw=function(e){var t,n,r=0;if(rw(e,e))return!1;if(n=e.firstChild,!n)return!0;t=new za(n,e);do{if(iw(n))n=t.next(!0);else if(aw(n))n=t.next();else if(Ei.isBr(n))r++,n=t.next();else{if(rw(e,n))return!1;n=t.next()}}while(n);return r<=1},uw=function(e){return sw(e.dom())},cw={isEmpty:uw},lw=function(e,t){var n=e.container(),r=e.offset();return!1===ol.isTextPosition(e)&&n===t.parentNode&&r>ol.before(t).offset()},dw=function(e,t){return lw(t,e)?ol(t.container(),t.offset()-1):t},fw=function(e){return Ei.isText(e)?ol(e,0):ol.before(e)},mw=function(e){return Ei.isText(e)?ol(e,e.data.length):ol.after(e)},pw=function(e){return cc(e.previousSibling)?R.some(mw(e.previousSibling)):e.previousSibling?uf.lastPositionIn(e.previousSibling):R.none()},hw=function(e){return cc(e.nextSibling)?R.some(fw(e.nextSibling)):e.nextSibling?uf.firstPositionIn(e.nextSibling):R.none()},gw=function(e,t){var n=ol.before(t.previousSibling?t.previousSibling:t.parentNode);return uf.prevPosition(e,n).fold(function(){return uf.nextPosition(e,ol.after(t))},R.some)},vw=function(e,t){return uf.nextPosition(e,ol.after(t)).fold(function(){return uf.prevPosition(e,ol.before(t))},R.some)},bw=function(e,t){return pw(t).orThunk(function(){return hw(t)}).orThunk(function(){return gw(e,t)})},yw=function(e,t){return hw(t).orThunk(function(){return pw(t)}).orThunk(function(){return vw(e,t)})},ww=function(e,t,n){return e?yw(t,n):bw(t,n)},xw=function(e,t,n){return ww(e,t,n).map(i(dw,n))},Cw=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Sw=function(e){return function(t){return t.dom()===e}},kw=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(vo(t))},_w=function(e){if(cw.isEmpty(e)){var t=mo.fromHtml('<br data-mce-bogus="1">');return Ws(e),Vs(e,t),R.some(ol.before(t.dom()))}return R.none()},Tw=function(e,t,n){var r=da(e).filter(function(e){return Ei.isText(e.dom())}),o=fa(e).filter(function(e){return Ei.isText(e.dom())});return Ks(e),Nc([r,o,t],function(e,t,r){var o=e.dom(),a=t.dom(),i=o.data.length;return Qy(o,a,n),r.container()===a?ol(o,i):r}).orThunk(function(){return n&&(r.each(function(e){return Jy(e.dom(),e.dom().length)}),o.each(function(e){return Gy(e.dom(),0)})),t})},Ow=function(e,t){return Do(e.schema.getTextInlineElements(),vo(t))},Ew=function(e,t,n,r){void 0===r&&(r=!0);var o=xw(t,e.getBody(),n.dom()),a=du(n,i(kw,e),Sw(e.getBody())),s=Tw(n,o,Ow(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(_w).fold(function(){r&&Cw(e,t,s)},function(n){r&&Cw(e,t,R.some(n))})},Dw={deleteElement:Ew},Rw=zu.ZWSP,Nw="_mce_caret",Iw=function(e,t){return e.importNode(t,!0)},Aw=function(e){var t=[];while(e){if(3===e.nodeType&&e.nodeValue!==Rw||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},Mw=function(e){return Aw(e).length>0},Bw=function(e){var t;if(e)for(t=new za(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},Lw=function(e){var t=mo.fromTag("span");return Mo(t,{id:Nw,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Vs(t,mo.fromText(Rw)),t},Pw=function(e){var t=Bw(e);return t&&t.nodeValue.charAt(0)===Rw&&t.deleteData(0,1),t},zw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(Mw(t))Dw.deleteElement(e,!1,mo.fromDom(t),n);else{var a=o.getRng(),i=r.getParent(t,r.isBlock),s=Pw(t);a.startContainer===s&&a.startOffset>0&&a.setStart(s,a.startOffset-1),a.endContainer===s&&a.endOffset>0&&a.setEnd(s,a.endOffset-1),r.remove(t,!0),i&&r.isEmpty(i)&&Ay.fillWithPaddingBr(mo.fromDom(i)),o.setRng(a)}},Fw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)zw(e,t,n);else if(t=Hl(e.getBody(),o.getStart()),!t)while(t=r.get(Nw))zw(e,t,!1)},jw=function(e,t,n){var r=e.dom,o=r.getParent(n,i(qf.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(Ay.removeTrailingBr(mo.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},Hw=function(e,t){return e.appendChild(t),t},Vw=function(e,t){var n=X(e,function(e,t){return Hw(e,t.cloneNode(!1))},t);return Hw(n,n.ownerDocument.createTextNode(Rw))},$w=function(e,t,n){var r,o,a,i,s,u,c,l=e.selection;r=l.getRng(!0),i=r.startOffset,u=r.startContainer,c=u.nodeValue,o=Hl(e.getBody(),l.getStart()),o&&(a=Bw(o));var d=/[^\s\u00a0\u00ad\u200b\ufeff]/;c&&i>0&&i<c.length&&d.test(c.charAt(i))&&d.test(c.charAt(i-1))?(s=l.getBookmark(),r.collapse(!0),r=im.expandRng(e,r,e.formatter.get(t)),r=Wy.split(r),e.formatter.apply(t,n,r),l.moveToBookmark(s)):(o&&a.nodeValue===Rw?e.formatter.apply(t,n,o):(o=Iw(e.getDoc(),Lw(!0).dom()),a=o.firstChild,r.insertNode(o),i=1,e.formatter.apply(t,n,o)),l.setCursorLocation(a,i))},Uw=function(e,t,n,r){var o,a,i,s,u,c,l,d=e.dom,f=e.selection,m=[],p=f.getRng();o=p.startContainer,a=p.startOffset,u=o,3===o.nodeType&&(a!==o.nodeValue.length&&(s=!0),u=u.parentNode);while(u){if($y.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),m.push(u),u=u.parentNode}if(c)if(s){i=f.getBookmark(),p.collapse(!0);var h=im.expandRng(e,p,e.formatter.get(t),!0);h=Wy.split(h),e.formatter.remove(t,n,h),f.moveToBookmark(i)}else{l=Hl(e.getBody(),c);var g=Lw(!1).dom(),v=Vw(m,g);jw(e,g,l||c),zw(e,l,!1),f.setCursorLocation(v,1),d.isEmpty(c)&&d.remove(c)}},qw=function(e,t){var n=e.selection,r=e.getBody();Fw(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Rw||Fw(e,Hl(r,n.getStart())),37!==t&&39!==t||Fw(e,Hl(r,n.getStart()))},Ww=function(e){e.on("mouseup keydown",function(t){qw(e,t.keyCode)})},Kw=function(e,t){var n=Lw(!1),r=Vw(t,n.dom());return Fs(mo.fromDom(e),n),Ks(mo.fromDom(e)),ol(r,0)},Yw=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(vo(t))&&!jl(t.dom())&&!Ei.isBogus(t.dom())},Xw=function(e){return jl(e.dom())&&Mw(e.dom())},Gw={},Jw=_n.filter,Qw=_n.each,Zw=function(e,t){var n=Gw[e];n||(Gw[e]=n=[]),Gw[e].push(t)},ex=function(e,t){Qw(Gw[e],function(e){e(t)})};Zw("pre",function(e){var t,n,r=e.selection.getRng(),o=function(e){return t(e.previousSibling)&&-1!==_n.indexOf(n,e.previousSibling)},a=function(e,t){or(t).remove(),or(e).append("<br><br>").append(t.childNodes)};t=Ei.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),Qw(Jw(Jw(n,t),o),function(e){a(e.previousSibling,e)}))});var tx={postProcess:ex},nx=zn.each,rx=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return nx(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"===typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!If.isBookmarkNode(t)&&!If.isBookmarkNode(n)))}},ox=/^(src|href|style)$/,ax=zn.each,ix=qf.isEq,sx=function(e){return/^(TH|TD)$/.test(e.nodeName)},ux=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},cx=function(e,t,n){var r,o,a;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Ei.isElement(r)&&(a=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>a?a:o]),Ei.isText(r)&&n&&o>=r.nodeValue.length&&(r=new za(r,e.getBody()).next()||r),Ei.isText(r)&&!n&&0===o&&(r=new za(r,e.getBody()).prev()||r),r},lx=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},dx=function(e,t,n,r,o){var a=mo.fromDom(t),i=mo.fromDom(e.create(r,o)),s=n?pa(a):ma(a);return qs(i,s),n?(Fs(a,i),Hs(i,a)):(js(a,i),Vs(i,a)),i.dom()},fx=function(e,t,n){return!!ix(t,n.inline)||(!!ix(t,n.block)||(n.selector?Ei.isElement(t)&&e.is(t,n.selector):void 0))},mx=function(e,t){return t.links&&"A"===e.tagName},px=function(e,t,n,r){return t=qf.getNonWhiteSpaceSibling(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},hx=function(e,t,n){var r,o=t.parentNode,a=e.dom,i=pp.getForcedRootBlock(e);n.block&&(i?o===a.getRoot()&&(n.list_block&&ix(t,n.list_block)||ax(zn.grep(t.childNodes),function(t){qf.isValid(e,i,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=lx(a,t,i),a.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):a.isBlock(t)&&!a.isBlock(o)&&(px(a,t,!1)||px(a,t.firstChild,!0,1)||t.insertBefore(a.create("br"),t.firstChild),px(a,t,!0)||px(a,t.lastChild,!1,1)||t.appendChild(a.create("br")))),n.selector&&n.inline&&!ix(n.inline,t)||a.remove(t,1)},gx=function(e,t,n,r,o){var a,i,s,u=e.dom;if(!fx(u,r,t)&&!mx(r,t))return!1;if("all"!==t.remove)for(ax(t.styles,function(e,a){e=qf.normalizeStyleValue(u,qf.replaceVars(e,n),a),"number"===typeof a&&(a=e,o=0),(t.remove_similar||!o||ix(qf.getStyle(u,o,a),e))&&u.setStyle(r,a,""),s=1}),s&&""===u.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),ax(t.attributes,function(e,t){var a;if(e=qf.replaceVars(e,n),"number"===typeof t&&(t=e,o=0),!o||ix(u.getAttrib(o,t),e)){if("class"===t&&(e=u.getAttrib(r,t),e&&(a="",ax(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(a+=(a?" ":"")+e)}),a)))return void u.setAttrib(r,t,a);"class"===t&&r.removeAttribute("className"),ox.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),ax(t.classes,function(e){e=qf.replaceVars(e,n),o&&!u.hasClass(o,e)||u.removeClass(r,e)}),i=u.getAttribs(r),a=0;a<i.length;a++){var c=i[a].nodeName;if(0!==c.indexOf("_")&&0!==c.indexOf("data-"))return!1}return"none"!==t.remove?(hx(e,r,t),!0):void 0},vx=function(e,t,n,r,o){var a;return ax(qf.getParents(e.dom,t.parentNode).reverse(),function(t){var i;a||"_start"===t.id||"_end"===t.id||(i=$y.matchNode(e,t,n,r,o),i&&!1!==i.split&&(a=t))}),a},bx=function(e,t,n,r,o,a,i,s){var u,c,l,d,f,m,p=e.dom;if(n){for(m=n.parentNode,u=r.parentNode;u&&u!==m;u=u.parentNode){for(c=p.clone(u,!1),f=0;f<t.length;f++)if(gx(e,t[f],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),d||(d=c),l=c)}!a||i.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),d.appendChild(o))}return r},yx=function(e,t,n,r,o){var a,i,s=e.formatter.get(t),u=s[0],c=!0,l=e.dom,d=e.selection,f=function(r){var a=vx(e,r,t,n,o);return bx(e,s,a,r,r,!0,u,n)},m=function(e){return If.isBookmarkNode(e)&&Ei.isElement(e)&&("_start"===e.id||"_end"===e.id)},p=function(t){var r,o,a,i,d;if(Ei.isElement(t)&&l.getContentEditable(t)&&(i=c,c="true"===l.getContentEditable(t),d=!0),r=zn.grep(t.childNodes),c&&!d)for(o=0,a=s.length;o<a;o++)if(gx(e,s[o],n,t,t))break;if(u.deep&&r.length){for(o=0,a=r.length;o<a;o++)p(r[o]);d&&(c=i)}},h=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return m(n)&&(n=n[e?"firstChild":"lastChild"]),Ei.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},g=function(t){var n,r,o=t.commonAncestorContainer;if(t=im.expandRng(e,t,s,!0),u.split){if(t=Wy.split(t),n=cx(e,t,!0),r=cx(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&sx(r)&&r.firstChild&&(r=r.firstChild||r),ux(l,n,r)){var a=R.from(n.firstChild).getOr(n);return f(dx(l,a,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(ux(l,r,n)){a=R.from(r.lastChild).getOr(r);return f(dx(l,a,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=lx(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=lx(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(r),n=h(!0),r=h()}else n=r=f(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}lm.walk(l,t,function(t){ax(t,function(t){p(t),Ei.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===qf.getTextDecoration(l,t.parentNode)&&gx(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)r.nodeType?(i=l.createRng(),i.setStartBefore(r),i.setEndAfter(r),g(i)):g(r);else if("false"!==l.getContentEditable(d.getNode()))d.isCollapsed()&&u.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?Uw(e,t,n,o):(a=zl.getPersistentBookmark(e.selection,!0),g(d.getRng()),d.moveToBookmark(a),u.inline&&$y.match(e,t,n,d.getStart())&&qf.moveStart(l,d,d.getRng()),e.nodeChanged());else{r=d.getNode();for(var v=0,b=s.length;v<b;v++)if(s[v].ceFalseOverride&&gx(e,s[v],n,r,r))break}},wx={removeFormat:gx,remove:yx},xx=zn.each,Cx=function(e){return e&&1===e.nodeType&&!If.isBookmarkNode(e)&&!jl(e)&&!Ei.isBogus(e)},Sx=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!If.isBookmarkNode(n))return n}return e},kx=function(e,t,n){var r,o,a=new rx(e);if(t&&n&&(t=Sx(t,"previousSibling"),n=Sx(n,"nextSibling"),a.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),zn.each(zn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},_x=function(e,t,n){xx(e.childNodes,function(e){Cx(e)&&(t(e)&&n(e),e.hasChildNodes()&&_x(e,t,n))})},Tx=function(e,t){return i(function(t,n){return!(!n||!qf.getStyle(e,n,t))},t)},Ox=function(e,t,n){return i(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Ex(e,r)},t,n)},Ex=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Dx=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=qf.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Rx=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(zn.walk(r,i(Dx,e),"childNodes"),Dx(e,r))},Nx=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&_x(r,Tx(e,"fontSize"),Ox(e,"backgroundColor",qf.replaceVars(t.styles.backgroundColor,n)))},Ix=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(_x(r,Tx(e,"fontSize"),Ox(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Ax=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=kx(e,qf.getNonWhiteSpaceSibling(r),r),r=kx(e,r,qf.getNonWhiteSpaceSibling(r,!0)))},Mx=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";xx(e.select(r,n),function(n){Cx(n)&&xx(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Bx=function(e,t,n,r){xx(t,function(t){xx(e.dom.select(t.inline,r),function(r){Cx(r)&&wx.removeFormat(e,t,n,r,t.exact?r:null)}),Mx(e.dom,t,r)})},Lx=function(e,t,n,r,o){$y.matchNode(e,o.parentNode,n,r)&&wx.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(a){if($y.matchNode(e,a,n,r))return wx.removeFormat(e,t,r,o),!0})},Px={mergeWithChildren:Bx,mergeUnderlineAndColor:Rx,mergeBackgroundColorAndFontSize:Nx,mergeSubSup:Ix,mergeSiblings:Ax,mergeWithParents:Lx},zx=function(e,n,r,o){var a=t.document.createRange();return a.setStart(e,n),a.setEnd(r,o),a},Fx=function(e){var t=ol.fromRangeStart(e),n=ol.fromRangeEnd(e),r=e.commonAncestorContainer;return uf.fromPosition(!1,r,n).map(function(o){return!xd(t,n,r)&&xd(t,o,r)?zx(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},jx=function(e){return e.collapsed?e:Fx(e)},Hx={normalize:jx},Vx=zn.each,$x=function(e){return e&&1===e.nodeType&&!If.isBookmarkNode(e)&&!jl(e)&&!Ei.isBogus(e)},Ux=function(e,t,n,r){var o,a,i=e.formatter.get(t),s=i[0],u=!r&&e.selection.isCollapsed(),c=e.dom,l=e.selection,d=function(e,t){if(t=t||s,e){if(t.onformat&&t.onformat(e,t,n,r),Vx(t.styles,function(t,r){c.setStyle(e,r,qf.replaceVars(t,n))}),t.styles){var o=c.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}Vx(t.attributes,function(t,r){c.setAttrib(e,r,qf.replaceVars(t,n))}),Vx(t.classes,function(t){t=qf.replaceVars(t,n),c.hasClass(e,t)||c.addClass(e,t)})}},f=function(e,t){var n=!1;return!!s.selector&&(Vx(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return c.is(t,e.selector)&&!jl(t)?(d(t,e),n=!0,!1):void 0}),n)},m=function(r,o,a,u){var c,l,m=[],p=!0;c=s.inline||s.block,l=r.create(c),d(l),lm.walk(r,o,function(o){var a,h=function(o){var g,v,b,y;if(y=p,g=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(y=p,p="true"===r.getContentEditable(o),b=!0),qf.isEq(g,"br"))return a=0,void(s.block&&r.remove(o));if(s.wrapper&&$y.matchNode(e,o,t,n))a=0;else{if(p&&!b&&s.block&&!s.wrapper&&qf.isTextBlock(e,g)&&qf.isValid(e,v,c))return o=r.rename(o,c),d(o),m.push(o),void(a=0);if(s.selector){var w=f(i,o);if(!s.inline||w)return void(a=0)}!p||b||!qf.isValid(e,c,g)||!qf.isValid(e,v,c)||!u&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||jl(o)||s.inline&&r.isBlock(o)?(a=0,Vx(zn.grep(o.childNodes),h),b&&(p=y),a=0):(a||(a=r.clone(l,!1),o.parentNode.insertBefore(a,o),m.push(a)),a.appendChild(o))}};Vx(o,h)}),!0===s.links&&Vx(m,function(e){var t=function(e){"A"===e.nodeName&&d(e,s),Vx(zn.grep(e.childNodes),t)};t(e)}),Vx(m,function(o){var a,u=function(e){var t=0;return Vx(e.childNodes,function(e){qf.isWhiteSpaceNode(e)||If.isBookmarkNode(e)||t++}),t},c=function(e){var t=!1;return Vx(e.childNodes,function(e){if($x(e))return t=e,!1}),t},l=function(e){var t,n;return t=c(e),t&&!If.isBookmarkNode(t)&&$y.matchName(r,t,s)&&(n=r.clone(t,!1),d(n),r.replace(n,e,!0),r.remove(t,1)),n||e};a=u(o),!(m.length>1)&&r.isBlock(o)||0!==a?(s.inline||s.wrapper)&&(s.exact||1!==a||(o=l(o)),Px.mergeWithChildren(e,i,n,o),Px.mergeWithParents(e,s,t,n,o),Px.mergeBackgroundColorAndFontSize(r,s,n,o),Px.mergeSubSup(r,s,n,o),Px.mergeSiblings(r,s,n,o)):r.remove(o,1)})};if("false"!==c.getContentEditable(l.getNode())){if(s){if(r)r.nodeType?f(i,r)||(a=c.createRng(),a.setStartBefore(r),a.setEndAfter(r),m(c,im.expandRng(e,a,i),null,!0)):m(c,r,null,!0);else if(u&&s.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)$w(e,t,n);else{var p=e.selection.getNode();e.settings.forced_root_block||!i[0].defaultBlock||c.getParent(p,c.isBlock)||Ux(e,i[0].defaultBlock),e.selection.setRng(Hx.normalize(e.selection.getRng())),o=zl.getPersistentBookmark(e.selection,!0),m(c,im.expandRng(e,l.getRng(),i),o),s.styles&&Px.mergeUnderlineAndColor(c,s,n,p),l.moveToBookmark(o),qf.moveStart(c,l,l.getRng()),e.nodeChanged()}tx.postProcess(t,e)}}else{r=l.getNode();for(var h=0,g=i.length;h<g;h++)if(i[h].ceFalseOverride&&c.is(r,i[h].selector))return void d(r,i[h])}},qx={applyFormat:Ux},Wx=function(e,t){var n=ks({});e.set({}),t.on("NodeChange",function(r){Kx(t,r.element,n,e.get())})},Kx=function(e,t,n,r){var o=Co(n.get()),a={},i={},s=Y(qf.getParents(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});ko(r,function(t,n){zn.each(s,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(q(t.callbacks,function(e){e(!0,{node:r,format:n,parents:s})}),a[n]=t.callbacks),i[n]=t.callbacks,!1):!$y.matchesUnInheritedFormatSelector(e,r,n)&&void 0})});var u=Yx(n.get(),i,t,s);n.set(Cs({},a,u))},Yx=function(e,t,n,r){return Oo(e,function(e,o){return!!Do(t,o)||(q(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t},Xx=function(e,t,n,r){var o=e.get();q(t.split(","),function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)}),e.set(o)},Gx=function(e,t,n){var r=e.get();q(t.split(","),function(e){r[e].callbacks=Y(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),e.set(r)},Jx=function(e,t,n,r,o){return null===t.get()&&Wx(t,e),Xx(t,n,r,o),{unbind:function(){return Gx(t,n,r)}}},Qx=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){zn.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return zn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},Zx={get:Qx};function eC(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Do(t,e)},o=function(e,n){e&&("string"!==typeof e?zn.each(e,function(e,t){o(t,e)}):(B(n)||(n=[n]),zn.each(n,function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector),"undefined"===typeof e.split&&(e.split=!e.selector||e.inline),"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},a=function(e){return e&&t[e]&&delete t[e],t};return o(Zx.get(e.dom)),o(e.settings.formats),{get:n,has:r,register:o,unregister:a}}var tC=zn.each,nC=gs.DOM,rC=function(e,t){var n,r,o,a=t&&t.schema||os({}),i=function(e,t){t.classes.length&&nC.addClass(e,t.classes.join(" ")),nC.setAttribs(e,t.attrs)},s=function(e){var t;return r="string"===typeof e?{name:e,classes:[],attrs:{}}:e,t=nC.create(r.name),i(t,r),t},u=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e,r=a.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==zn.inArray(o,t)?t:o[0])},c=function(e,t,n){var r,o,a,i=t.length>0&&t[0],l=i&&i.name;if(a=u(e,l),a)l===a?(o=t[0],t=t.slice(1)):o=a;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o),r.appendChild(e)),n&&(r||(r=nC.create("div"),r.appendChild(e)),zn.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),c(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),o=nC.create("div"),o.appendChild(c(n,e.slice(1),r.siblings)),o):""},oC=function(e,t){return rC(iC(e),t)},aC=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=zn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,a){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==zn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===o){var i=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(n.attrs[i[1]]=i[2])}return""})),n.name=t||"div",n},iC=function(e){return e&&"string"===typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),zn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=zn.map(e.split(/(?:~\+|~|\+)/),aC),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},sC=function(e,t){var n,r,o,a,i,s,u="";if(s=e.settings.preview_styles,!1===s)return"";"string"!==typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(s=t.preview,!1===s)?"":(n=t.block||t.inline||"span",a=iC(t.selector),a.length?(a[0].name||(a[0].name=n),n=t.selector,r=rC(a,e)):r=rC([n],e),o=nC.select(n,r)[0]||r.firstChild,tC(t.styles,function(e,t){e=c(e),e&&nC.setStyle(o,t,e)}),tC(t.attributes,function(e,t){e=c(e),e&&nC.setAttrib(o,t,e)}),tC(t.classes,function(e){e=c(e),nC.hasClass(o,e)||nC.addClass(o,e)}),e.fire("PreviewFormats"),nC.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=nC.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,tC(s.split(" "),function(t){var n=nC.getStyle(o,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=nC.getStyle(e.getBody(),t,!0),"#ffffff"!==nC.toHex(n).toLowerCase()))&&("color"!==t||"#000000"!==nC.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===i)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*i+"px"}"border"===t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),nC.remove(r),u)},uC={getCssText:sC,parseSelector:iC,selectorToHtml:oC},cC=function(e,t,n,r,o){var a=t.get(n);!$y.match(e,n,r,o)||"toggle"in a[0]&&!a[0].toggle?qx.applyFormat(e,n,r,o):wx.remove(e,n,r,o)},lC={toggle:cC},dC=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},fC={setup:dC};function mC(e){var t=eC(e),n=ks(null);return fC.setup(e),Ww(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:i(qx.applyFormat,e),remove:i(wx.remove,e),toggle:i(lC.toggle,e,t),match:i($y.match,e),matchAll:i($y.matchAll,e),matchNode:i($y.matchNode,e),canApply:i($y.canApply,e),formatChanged:i(Jx,e,n),getCssText:i(uC.getCssText,e)}}var pC=Object.prototype.hasOwnProperty,hC=function(e,t){return t},gC=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var a=t[o];for(var i in a)pC.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}},vC=gC(hC),bC=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){var n,r=e.length;while(r--)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){var o,a,i=e.length,s="data-mce-"+r,u=t.url_converter,c=t.url_converter_scope;while(i--)o=e[i],a=o.attributes.map[s],void 0!==a?(o.attr(r,a.length>0?a:null),o.attr(s,null)):(a=o.attributes.map[r],"style"===r?a=n.serializeStyle(n.parseStyle(a),o.name):u&&(a=u.call(c,a,r,o.name)),o.attr(r,a.length>0?a:null))}),e.addAttributeFilter("class",function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){var r,o=e.length;while(o--)if(r=e[o],"bookmark"===r.attributes.map["data-mce-type"]&&!n.cleanup){var a=R.from(r.firstChild).exists(function(e){return!zu.isZwsp(e.value)});a?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){var t,n=e.length;while(n--)t=e[n].firstChild,t&&(t.value=Ki.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){var r,o,a,i=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};while(i--)r=e[i],o=r.firstChild?r.firstChild.value:"","script"===n?(a=r.attr("type"),a&&r.attr("type","mce-no/type"===a?null:a.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){var t,n=e.length;while(n--)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){var n,r=e.length;while(r--)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){q(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){var n=e.length;while(n--)e[n].attr(t,null)})},yC=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},wC={register:bC,trimTrailingBr:yC},xC=function(e,n,r){var o,a,i,s=e.dom;return n=n.cloneNode(!0),o=t.document.implementation,o.createHTMLDocument&&(a=o.createHTMLDocument(""),zn.each("BODY"===n.nodeName?n.childNodes:[n],function(e){a.body.appendChild(a.importNode(e,!0))}),n="BODY"!==n.nodeName?a.body.firstChild:a.body,i=s.doc,s.doc=a),xh.firePreProcess(e,vC(r,{node:n})),i&&(s.doc=i),n},CC=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},SC=function(e,t,n){return CC(e,n)?xC(e,t,n):t},kC={process:SC},_C=function(e,t){q(t,function(t){e.attr(t,null)})},TC=function(e,t,n){e.addNodeFilter("font",function(e){q(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),a=e.attr("face"),i=e.attr("size");o&&(r.color=o),a&&(r["font-family"]=a),i&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),_C(e,["color","face","size"])})})},OC=function(e,t){e.addNodeFilter("strike",function(e){q(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},EC=function(e,t){var n=is();t.convert_fonts_to_spans&&TC(e,n,zn.explode(t.font_size_legacy_values)),OC(e,n)},DC=function(e,t){t.inline_styles&&EC(e,t)},RC={register:DC},NC=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;o&&n[r.name]?r.empty().append(new Tm("br",1)).shortEnded=!0:r.empty().append(new Tm("#text",3)).value=" "},IC=function(e){return AC(e,"#text")&&" "===e.firstChild.value},AC=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},MC=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},BC=function(e,t,n,r){return r.isEmpty(t,n,function(t){return MC(e,t)})},LC=function(e,t){return e&&(t[e.name]||"br"===e.name)},PC=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var a,i,s,u,c,l,d,f,m=e.length,p=zn.extend({},n.getBlockElements()),h=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,a=0;a<m;a++)if(i=e[a],s=i.parent,p[i.parent.name]&&i===s.lastChild){c=i.prev;while(c){if(l=c.name,"span"!==l||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){i=null;break}}c=c.prev}i&&(i.remove(),BC(n,h,g,s)&&(d=n.getElementRule(s.name),d&&(d.removeEmpty?s.remove():d.paddEmpty&&NC(t,o,p,s))))}else{u=i;while(s&&s.firstChild===u&&s.lastChild===u){if(u=s,p[s.name])break;s=s.parent}u===s&&!0!==t.padd_empty_with_br&&(f=new Tm("#text",3),f.value=" ",i.replace(f))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,o=function(e){var t=e.split(" ").filter(function(e){return e.length>0});return t.concat(["noopener"]).sort().join(" ")},a=function(e){var t=e?zn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)while(r--)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",a(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){var t,n,r,o,a=e.length;while(a--)if(o=e[a],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){var t,n,r=e.length;while(r--)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Tm("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){var t,r,o,a,i,s,u,c=e.length,l=n.getValidClasses();while(c--){for(t=e[c],r=t.attr("class").split(" "),i="",o=0;o<r.length;o++)a=r[o],u=!1,s=l["*"],s&&s[a]&&(u=!0),s=l[t.name],!u&&s&&s[a]&&(u=!0),u&&(i&&(i+=" "),i+=a);i.length||(i=null),t.attr("class",i)}})},zC=zn.makeMap,FC=zn.each,jC=zn.explode,HC=zn.extend;function VC(e,t){void 0===t&&(t=os());var n={},r=[],o={},a={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var i=function(e){var n,r,o,a,i,u,c,l,d,f,m,p,h,g,v,b;for(p=zC("tr,td,th,tbody,thead,tfoot,table"),f=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),h=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(h[r.name]&&"li"===r.parent.name){v=r.next;while(v){if(!h[v.name])break;v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next}r.unwrap(r)}else{for(a=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),i=u=s(a[0].clone()),d=0;d<a.length-1;d++){for(t.isValidChild(u.name,a[d].name)?(c=s(a[d].clone()),u.append(c)):c=u,l=a[d].firstChild;l&&l!==a[d+1];)b=l.next,c.append(l),l=b;u=c}BC(t,f,m,i)?o.insert(r,a[0],!0):(o.insert(i,a[0],!0),o.insert(r,i)),o=a[0],(BC(t,f,m,o)||AC(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(s(new Tm("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new Tm("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,i,s;i=e.name,i in n&&(s=o[i],s?s.push(e):o[i]=[e]),t=r.length;while(t--)i=r[t].name,i in e.attributes.map&&(s=a[i],s?s.push(e):a[i]=[e]);return e},u=function(e,t){FC(jC(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},c=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){FC(jC(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},d=function(){return[].concat(r)},f=function(s,u){var c,l,d,f,m,p,h,g,v,b,y,w=[],x=function(e){return!1===e?"":!0===e?"p":e};u=u||{},o={},a={},v=HC(zC("script,style,head,html,body,title,meta,param"),t.getBlockElements());var C=t.getNonEmptyElements(),S=t.children,k=e.validate,_="forced_root_block"in u?u.forced_root_block:e.forced_root_block,T=x(_),O=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,R=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/;b=O.hasOwnProperty(u.context)||O.hasOwnProperty(e.root_name);var I=function(){var n,r,o=L.firstChild,a=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(E,"")),o=e.lastChild,o&&3===o.type&&(o.value=o.value.replace(D,"")))};if(t.isValidChild(L.name,T.toLowerCase())){while(o)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=A(T,1),r.attr(e.forced_root_block_attrs),L.insert(r,o),r.append(o)):(a(r),r=null),o=n;a(r)}},A=function(e,t){var r,a=new Tm(e,t);return e in n&&(r=o[e],r?r.push(a):o[e]=[a]),a},M=function(e){var n,r,o,a,i=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(D,""),o.length>0)return void(n.value=o);if(r=n.next,r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!i[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}a=n.prev,n.remove(),n=a}},B=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n};c=Am({validate:k,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:B(t.getSelfClosingElements()),cdata:function(e){y.append(A("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(R," "),LC(y.lastChild,v)&&(e=e.replace(E,""))),0!==e.length&&(n=A("#text",3),n.raw=!!t,y.append(n).value=e)},comment:function(e){y.append(A("#comment",8)).value=e},pi:function(e,t){y.append(A(e,7)).value=t,M(y)},doctype:function(e){var t;t=y.append(A("#doctype",10)),t.value=e,M(y)},start:function(e,n,o){var i,s,u,c,l;if(u=k?t.getElementRule(e):{},u){i=A(u.outputName||e,1),i.attributes=n,i.shortEnded=o,y.append(i),l=S[y.name],l&&S[i.name]&&!l[i.name]&&w.push(i),s=r.length;while(s--)c=r[s].name,c in n.map&&(h=a[c],h?h.push(i):a[c]=[i]);v[e]&&M(i),o||(y=i),!b&&O[e]&&(b=!0)}},end:function(n){var r,o,a,i,s;if(o=k?t.getElementRule(n):{},o){if(v[n]&&!b){if(r=y.firstChild,r&&3===r.type)if(a=r.value.replace(E,""),a.length>0)r.value=a,r=r.next;else{i=r.next,r.remove(),r=i;while(r&&3===r.type)a=r.value,i=r.next,(0===a.length||N.test(a))&&(r.remove(),r=i),r=i}if(r=y.lastChild,r&&3===r.type)if(a=r.value.replace(D,""),a.length>0)r.value=a,r=r.prev;else{i=r.prev,r.remove(),r=i;while(r&&3===r.type)a=r.value,i=r.prev,(0===a.length||N.test(a))&&(r.remove(),r=i),r=i}}if(b&&O[n]&&(b=!1),o.removeEmpty&&BC(t,C,O,y)&&!y.attributes.map.name&&!y.attr("id"))return s=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=s);o.paddEmpty&&(IC(y)||BC(t,C,O,y))&&NC(e,u,v,y),y=y.parent}}},t);var L=y=new Tm(u.context||e.root_name,11);if(c.parse(s),k&&w.length&&(u.context?u.invalid=!0:i(w)),T&&("body"===L.name||u.isRootContent)&&I(),!u.invalid){for(g in o){h=n[g],l=o[g],m=l.length;while(m--)l[m].parent||l.splice(m,1);for(d=0,f=h.length;d<f;d++)h[d](l,g,u)}for(d=0,f=r.length;d<f;d++)if(h=r[d],h.name in a){l=a[h.name],m=l.length;while(m--)l[m].parent||l.splice(m,1);for(m=0,p=h.callbacks.length;m<p;m++)h.callbacks[m](l,h.name,u)}}return L},m={schema:t,addAttributeFilter:l,getAttributeFilters:d,addNodeFilter:u,getNodeFilters:c,filterNode:s,parse:f};return PC(m,e),RC.register(m,e),m}var $C=function(e,t,n){-1===zn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}),t.push(n))},UC=function(e,t,n){if(!t.no_events&&e){var r=xh.firePostProcess(e,vC(t,{content:n}));return r.content}return n},qC=function(e,t,n){var r=zu.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ci(mo.fromDom(t))?r:zn.trim(r)},WC=function(e,t,n){var r=n.selection?vC({forced_root_block:!1},n):n,o=e.parse(t,r);return wC.trimTrailingBr(o),o},KC=function(e,t,n){var r=xp(e,t);return r.serialize(n)},YC=function(e,t,n,r,o){var a=KC(t,n,r);return UC(e,o,a)};function XC(e,t){var n,r,o,a=["data-mce-selected"];n=t&&t.dom?t.dom:gs.DOM,r=t&&t.schema?t.schema:os(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,o=VC(e,r),wC.register(o,e,n);var s=function(a,i){var s=vC({format:"html"},i||{}),u=kC.process(t,a,s),c=qC(n,u,s),l=WC(o,c,s);return"tree"===s.format?l:YC(t,e,r,l,s)};return{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:s,addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)},addTempAttr:i($C,o,a),getTempAttrs:function(){return a}}}function GC(e,t){var n=XC(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function JC(e){return{getBookmark:i(If.getBookmark,e),moveToBookmark:i(If.moveToBookmark,e)}}(function(e){e.isBookmarkNode=If.isBookmarkNode})(JC||(JC={}));var QC=JC,ZC=Ei.isContentEditableFalse,eS=Ei.isContentEditableTrue,tS=function(e,t){while(t&&t!==e){if(eS(t)||ZC(t))return t;t=t.parentNode}return null},nS=function(e,n){var r,o,a,i,s,u,c,l,d,f,m,p,h,g,v,b,y,w=n.dom,x=zn.each,C=n.getDoc(),S=t.document,k=Math.abs,_=Math.round,T=n.getBody();i={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},E=function(e,t){return O(e.target)&&!Cb.isXYWithinRange(e.clientX,e.clientY,t)},D=function(e){var t=e.target;E(e,n.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),n.selection.select(t))},R=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},N=function(e){var t=n.settings.object_resizing;return!1!==t&&!Oe.iOS&&("string"!==typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==n.getBody()&&Jo(mo.fromDom(e),t)))},I=function(e){var t,i,x,C,S;t=e.screenX-u,i=e.screenY-c,g=t*s[2]+f,v=i*s[3]+m,g=g<5?5:g,v=v<5?5:v,x=O(r)&&!1!==n.settings.resize_img_proportional?!Ib.modifierPressed(e):Ib.modifierPressed(e)||O(r)&&s[2]*s[3]!==0,x&&(k(t)>k(i)?(v=_(g*p),g=_(v/p)):(g=_(v/p),v=_(g*p))),w.setStyles(R(o),{width:g,height:v}),C=s.startPos.x+t,S=s.startPos.y+i,C=C>0?C:0,S=S>0?S:0,w.setStyles(a,{left:C,top:S,display:"block"}),a.innerHTML=g+" &times; "+v,s[2]<0&&o.clientWidth<=g&&w.setStyle(o,"left",l+(f-g)),s[3]<0&&o.clientHeight<=v&&w.setStyle(o,"top",d+(m-v)),t=T.scrollWidth-b,i=T.scrollHeight-y,t+i!==0&&w.setStyles(a,{left:C-t,top:S-i}),h||(xh.fireObjectResizeStart(n,r,f,m),h=!0)},A=function(){h=!1;var e=function(e,t){t&&(r.style[e]||!n.schema.isValid(r.nodeName.toLowerCase(),e)?w.setStyle(R(r),e,t):w.setAttrib(R(r),e,t))};e("width",g),e("height",v),w.unbind(C,"mousemove",I),w.unbind(C,"mouseup",A),S!==C&&(w.unbind(S,"mousemove",I),w.unbind(S,"mouseup",A)),w.remove(o),w.remove(a),M(r),xh.fireObjectResized(n,r,g,v),w.setAttrib(r,"style",w.getAttrib(r,"style")),n.nodeChanged()},M=function(e){var t,h,k,_,O;B(),z(),t=w.getPos(e,T),l=t.x,d=t.y,O=e.getBoundingClientRect(),h=O.width||O.right-O.left,k=O.height||O.bottom-O.top,r!==e&&(r=e,g=v=0),_=n.fire("ObjectSelected",{target:e}),N(e)&&!_.isDefaultPrevented()?x(i,function(e,t){var n,i=function(t){u=t.screenX,c=t.screenY,f=R(r).clientWidth,m=R(r).clientHeight,p=m/f,s=e,e.startPos={x:h*e[0]+l,y:k*e[1]+d},b=T.scrollWidth,y=T.scrollHeight,o=r.cloneNode(!0),w.addClass(o,"mce-clonedresizable"),w.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,w.setStyles(o,{left:l,top:d,margin:0}),o.removeAttribute("data-mce-selected"),T.appendChild(o),w.bind(C,"mousemove",I),w.bind(C,"mouseup",A),S!==C&&(w.bind(S,"mousemove",I),w.bind(S,"mouseup",A)),a=w.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+m)};n=w.get("mceResizeHandle"+t),n&&w.remove(n),n=w.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Oe.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),i(e)}),e.elm=n,w.setStyles(n,{left:h*e[0]+l-n.offsetWidth/2,top:k*e[1]+d-n.offsetHeight/2})}):B(),r.setAttribute("data-mce-selected","1")},B=function(){var e,t;for(e in z(),r&&r.removeAttribute("data-mce-selected"),i)t=w.get("mceResizeHandle"+e),t&&(w.unbind(t),w.remove(t))},L=function(t){var r,o,a=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};h||n.removed||(x(w.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===t.type?t.target:e.getNode(),o=w.$(o).closest("table,img,figure.image,hr")[0],a(o,T)&&(F(),r=e.getStart(!0),a(r,o)&&a(e.getEnd(!0),o))?M(o):B())},P=function(e){return ZC(tS(n.getBody(),e))},z=function(){for(var e in i){var t=i[e];t.elm&&(w.unbind(t.elm),delete t.elm)}},F=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};n.on("init",function(){F(),Oe.ie&&Oe.ie>=11&&(n.on("mousedown click",function(e){var t=e.target,r=t.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||P(t)||(2!==e.button&&n.selection.select(t,"TABLE"===r),"mousedown"===e.type&&n.nodeChanged())}),n.dom.bind(T,"mscontrolselect",function(e){var t=function(e){Le.setEditorTimeout(n,function(){n.selection.select(e)})};if(P(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var e=Le.throttle(function(e){n.composing||L(e)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",function(t){r&&"TABLE"===r.nodeName&&e(t)}),n.on("hide blur",B),n.on("contextmenu",D)}),n.on("remove",z);var j=function(){r=o=null};return{isResizable:N,showResizeRect:M,hideResizeRect:B,updateResizeRect:L,destroy:j}},rS=function(e){var t=0,n=0,r=e;while(r&&r.nodeType)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},oS=function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()},aS=function(e,t,n){var r,o,a,i,s=e.dom,u=s.getRoot(),c=0;if(!oS(e,t,n)&&Ei.isElement(t)){if(!1===n&&(c=t.offsetHeight),"BODY"!==u.nodeName){var l=e.selection.getScrollContainer();if(l)return r=rS(t).y-rS(l).y+c,i=l.clientHeight,a=l.scrollTop,void((r<a||r+25>a+i)&&(l.scrollTop=r<a?r:r-i+25))}o=s.getViewPort(e.getWin()),r=s.getPos(t).y+c,a=o.y,i=o.h,(r<o.y||r+25>a+i)&&e.getWin().scrollTo(0,r<a?r:r-i+25)}},iS=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}},sS=function(e,t,n){e.inline?(e.getBody().scrollLeft+=t,e.getBody().scrollTop+=n):e.getWin().scrollBy(t,n)},uS=function(e,t){ce(nl.fromRangeStart(t).getClientRects()).each(function(t){var n=iS(e),r=Tc(n,t),o=4,a=r.x>0?r.x+o:r.x-o,i=r.y>0?r.y+o:r.y-o;sS(e,0!==r.x?a:0,0!==r.y?i:0)})},cS={scrollElementIntoView:aS,scrollRangeIntoView:uS},lS=function(e){return Ei.isContentEditableTrue(e)||Ei.isContentEditableFalse(e)},dS=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},fS=function(e,t,n){var r,o,a;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),a=zn.toArray(o.getClientRects()),a=a.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),a.length>0){t=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(i){}}return null},mS=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Ei.isContentEditableFalse(dS(n,t,lS))?null:e},pS=function(e,t,n){var r,o,a=n;if(a.caretPositionFromPoint)o=a.caretPositionFromPoint(e,t),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(a.body.createTextRange){r=a.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(i){r=fS(e,t,n)}return mS(r,n.body)}return r},hS={fromPoint:pS},gS=function(e,t){return U(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},vS={processRanges:gS},bS=function(e,n){var r=n||t.document,o=r.createDocumentFragment();return q(e,function(e){o.appendChild(e.dom())}),mo.fromDom(o)},yS=Ho("element","width","rows"),wS=Ho("element","cells"),xS=Ho("x","y"),CS=function(e,t){var n=parseInt(Bo(e,t),10);return isNaN(n)?1:n},SS=function(e,t,n,r,o){for(var a=CS(o,"rowspan"),i=CS(o,"colspan"),s=e.rows(),u=n;u<n+a;u++){s[u]||(s[u]=wS(Nu(r),[]));for(var c=t;c<t+i;c++){var l=s[u].cells();l[c]=u===n&&c===t?o:Ru(o)}}},kS=function(e,t,n){var r=e.rows(),o=r[n]?r[n].cells():[];return!!o[t]},_S=function(e,t,n){while(kS(e,t,n))t++;return t},TS=function(e){return G(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},OS=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),a=0;a<o.length;a++)if(ta(o[a],t))return R.some(xS(a,r));return R.none()},ES=function(e,t,n,r,o){for(var a=[],i=e.rows(),s=n;s<=o;s++){var u=i[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);a.push(wS(i[s].element(),c))}return a},DS=function(e,t,n){var r=t.x(),o=t.y(),a=n.x(),i=n.y(),s=o<i?ES(e,r,o,a,i):ES(e,r,i,a,o);return yS(e.element(),TS(s),s)},RS=function(e,t){var n=Ru(e.element()),r=mo.fromTag("tbody");return qs(r,t),Vs(n,r),n},NS=function(e){return U(e.rows(),function(e){var t=U(e.cells(),function(e){var t=Nu(e);return Po(t,"colspan"),Po(t,"rowspan"),t}),n=Ru(e.element());return qs(n,t),n})},IS=function(e){var t=yS(Ru(e),0,[]);return q(cu(e,"tr"),function(e,n){q(cu(e,"td,th"),function(r,o){SS(t,_S(t,o,n),n,e,r)})}),yS(t.element(),TS(t.rows()),t.rows())},AS=function(e){return RS(e,NS(e))},MS=function(e,t,n){return OS(e,t).bind(function(t){return OS(e,n).map(function(n){return DS(e,t,n)})})},BS={fromDom:IS,toDom:AS,subsection:MS},LS=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},PS=function(e){return ne(e,function(e){var t=Oc(e);return t?[mo.fromDom(t)]:[]})},zS=function(e){return LS(e).length>1},FS={getRanges:LS,getSelectedNodes:PS,hasMultipleRanges:zS},jS=function(e){return Y(FS.getSelectedNodes(e),ui)},HS=function(e){var t=cu(e,"td[data-mce-selected],th[data-mce-selected]");return t},VS=function(e,t){var n=HS(t),r=jS(e);return n.length>0?n:r},$S=function(e){return VS(FS.getRanges(e.selection.getSel()),mo.fromDom(e.getBody()))},US={getCellsFromRanges:jS,getCellsFromElement:HS,getCellsFromElementOrRanges:VS,getCellsFromEditor:$S},qS=function(e){return J(e,function(e){return"ul"===vo(e)||"ol"===vo(e)})},WS=function(e,t){return J(e,function(e){return"li"===vo(e)&&bv(e,t)}).fold(o([]),function(t){return qS(e).map(function(e){return[mo.fromTag("li"),mo.fromTag(vo(e))]}).getOr([])})},KS=function(e,t){var n=G(t,function(e,t){return Vs(t,e),t},e);return t.length>0?bS([n]):n},YS=function(e){return ai(e)?ca(e).filter(oi).fold(o([]),function(t){return[e,t]}):oi(e)?[e]:[]},XS=function(e,t){var n=mo.fromDom(t.commonAncestorContainer),r=ov.parentsAndSelf(n,e),o=Y(r,function(e){return ti(e)||Qa(e)}),a=WS(r,t),i=o.concat(a.length?a:YS(n));return U(i,Ru)},GS=function(){return bS([])},JS=function(e,t){return KS(mo.fromDom(t.cloneContents()),XS(e,t))},QS=function(e,t){return mu(t,"table",i(ta,e))},ZS=function(e,t){return QS(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=BS.fromDom(e);return BS.subsection(o,n,r).map(function(e){return bS([BS.toDom(e)])})}).getOrThunk(GS)},ek=function(e,t){return t.length>0&&t[0].collapsed?GS():JS(e,t[0])},tk=function(e,t){var n=US.getCellsFromElementOrRanges(t,e);return n.length>0?ZS(e,n):ek(e,t)},nk={read:tk},rk=function(e){return R.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=zu.trim(n.innerText);return e.dom.remove(n),r}).getOr("")},ok=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),a=e.selection.getSel(),i=vS.processRanges(e,FS.getRanges(a));return n=t.contextual?nk.read(mo.fromDom(e.getBody()),i).dom():r.cloneContents(),n&&o.appendChild(n),e.selection.serializer.serialize(o,t)},ak=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return rk(e);t.getInner=!0;var n=ok(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},ik={getContent:ak},sk=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},uk=function(e,t,n){return null!==sk(e,t,n)},ck=function(e,t,n){return uk(e,t,function(e){return e.nodeName===n})},lk=function(e){return e&&"TABLE"===e.nodeName},dk=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},fk=function(e,t){return $u(e)&&!1===uk(e,t,jl)},mk=function(e,t,n){var r=new za(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=r[n?"prev":"next"]())if(Ei.isBr(t))return!0},pk=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},hk=function(e,t){while(t&&t!==e){if(Ei.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},gk=function(e,t,n,r,o){var a,i,s,u,c=e.getRoot(),l=e.schema.getNonEmptyElements();if(s=e.getParent(o.parentNode,e.isBlock)||c,r&&Ei.isBr(o)&&t&&e.isEmpty(s))return R.some(nl(o.parentNode,e.nodeIndex(o)));a=new za(o,s);while(u=a[r?"prev":"next"]()){if("false"===e.getContentEditableParent(u)||fk(u,c))return R.none();if(Ei.isText(u)&&u.nodeValue.length>0)return!1===ck(u,c,"A")?R.some(nl(u,r?u.nodeValue.length:0)):R.none();if(e.isBlock(u)||l[u.nodeName.toLowerCase()])return R.none();i=u}return n&&i?R.some(nl(i,0)):R.none()},vk=function(e,t,n,r){var o,a,i,s,u,c,l,d=e.getRoot(),f=!1;if(o=r[(n?"start":"end")+"Container"],a=r[(n?"start":"end")+"Offset"],l=Ei.isElement(o)&&a===o.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,$u(o))return R.none();if(Ei.isElement(o)&&a>o.childNodes.length-1&&(c=!1),Ei.isDocument(o)&&(o=d,a=0),o===d){if(c&&(s=o.childNodes[a>0?a-1:0],s)){if($u(s))return R.none();if(u[s.nodeName]||lk(s))return R.none()}if(o.hasChildNodes()){if(a=Math.min(!c&&a>0?a-1:a,o.childNodes.length-1),o=o.childNodes[a],a=Ei.isText(o)&&l?o.data.length:0,!t&&o===d.lastChild&&lk(o))return R.none();if(hk(d,o)||$u(o))return R.none();if(o.hasChildNodes()&&!1===lk(o)){s=o,i=new za(o,d);do{if(Ei.isContentEditableFalse(s)||$u(s)){f=!1;break}if(Ei.isText(s)&&s.nodeValue.length>0){a=c?0:s.nodeValue.length,o=s,f=!0;break}if(u[s.nodeName.toLowerCase()]&&!dk(s)){a=e.nodeIndex(s),o=s.parentNode,c||a++,f=!0;break}}while(s=c?i.next():i.prev())}}}return t&&(Ei.isText(o)&&0===a&&gk(e,l,t,!0,o).each(function(e){o=e.container(),a=e.offset(),f=!0}),Ei.isElement(o)&&(s=o.childNodes[a],s||(s=o.childNodes[a-1]),!s||!Ei.isBr(s)||pk(s,"A")||mk(e,s,!1)||mk(e,s,!0)||gk(e,l,t,!0,s).each(function(e){o=e.container(),a=e.offset(),f=!0}))),c&&!t&&Ei.isText(o)&&a===o.nodeValue.length&&gk(e,l,t,!1,o).each(function(e){o=e.container(),a=e.offset(),f=!0}),f?R.some(nl(o,a)):R.none()},bk=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=nl.fromRangeStart(t);return vk(e,n,!0,r).each(function(e){n&&nl.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||vk(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),mv.isEq(t,r)?R.none():R.some(r)},yk={normalize:bk},wk=function(e,t){e.insertData(0,t)},xk=function(e){return 0===e.dom().length?(Ks(e),R.none()):R.some(e)},Ck=function(e,t){var n=R.from(t.firstChild).map(mo.fromDom),r=R.from(t.lastChild).map(mo.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(da).filter(xo).bind(xk),a=r.bind(fa).filter(xo).bind(xk);Nc([o,n.filter(xo)],function(e,t){wk(t.dom(),e.dom().data),Ks(e)}),Nc([a,r.filter(xo)],function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),Ks(t)}),e.collapse(!1)},Sk=function(e,t){return e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e},kk=function(e,t,n){if(n=Sk(n,t),n.no_events||(n=e.fire("BeforeSetContent",n),!n.isDefaultPrevented())){var r=e.selection.getRng();Ck(r,r.createContextualFragment(n.content)),e.selection.setRng(r),cS.scrollRangeIntoView(e,r),n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)},_k={setContent:kk},Tk=function(e,t,n,r,o){var a=n?t.startContainer:t.endContainer,i=n?t.startOffset:t.endOffset;return R.from(a).map(mo.fromDom).map(function(e){return r&&t.collapsed?e:ga(e,o(e,i)).getOr(e)}).bind(function(e){return wo(e)?R.some(e):ca(e)}).map(function(e){return e.dom()}).getOr(e)},Ok=function(e,t,n){return Tk(e,t,!0,n,function(e,t){return Math.min(ya(e),t)})},Ek=function(e,t,n){return Tk(e,t,!1,n,function(e,t){return t>0?t-1:t})},Dk=function(e,t){var n=e;while(e&&Ei.isText(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},Rk=function(e,t){var n,r,o,a,i;return t?(r=t.startContainer,o=t.endContainer,a=t.startOffset,i=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&i-a<2&&r.hasChildNodes()&&(n=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?Dk(r.nextSibling,!0):r.parentNode,o=0===i?Dk(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e},Nk=function(e,t,n,r){var o,a,i=[];if(a=e.getRoot(),n=e.getParent(n||Ok(a,t,t.collapsed),e.isBlock),r=e.getParent(r||Ek(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;var s=new za(n,a);while((o=s.next())&&o!==r)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},Ik=function(e,t,n){return R.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(yv(e,o,t,!0),yv(e,o,t,!1)),o})},Ak=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=Y(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}};function Mk(e,t){var n,r;return{selectorChangedWithUnbind:function(o,a){return n||(n={},r={},t.on("NodeChange",function(t){var o=t.element,a=e.getParents(o,null,e.getRoot()),i={};zn.each(n,function(t,n){zn.each(a,function(o){if(e.is(o,n))return r[n]||(zn.each(t,function(e){e(!0,{node:o,selector:n,parents:a})}),r[n]=t),i[n]=t,!1})}),zn.each(r,function(e,t){i[t]||(delete r[t],zn.each(e,function(e){e(!1,{node:o,selector:t,parents:a})}))})})),n[o]||(n[o]=[]),n[o].push(a),{unbind:function(){Ak(n,o,a),Ak(r,o,a)}}}}}var Bk,Lk=function(e){return!!e.select},Pk=function(e){return!(!e||!e.ownerDocument)&&aa(mo.fromDom(e.ownerDocument),mo.fromDom(e))},zk=function(e){return!!e&&(!!Lk(e)||Pk(e.startContainer)&&Pk(e.endContainer))},Fk=function(e,t,n,r){var o,a,i,s,u=Mk(e,r).selectorChangedWithUnbind,c=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),x(o),b(!1)):(yv(e,o,r.getBody(),!0),x(o))},l=function(e){return ik.getContent(r,e)},d=function(e,t){return _k.setContent(r,e,t)},f=function(e){return Ok(r.getBody(),w(),e)},m=function(e){return Ek(r.getBody(),w(),e)},p=function(e,t){return o.getBookmark(e,t)},h=function(e){return o.moveToBookmark(e)},g=function(t,n){return Ik(e,t,n).each(x),t},v=function(){var e=w(),t=y();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},b=function(e){var t=w();t.collapse(!!e),x(t)},y=function(){return t.getSelection?t.getSelection():t.document.selection},w=function(){var n,o,a,u,c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;if(u=t.document,"undefined"===typeof u||null===u)return null;if(void 0!==r.bookmark&&!1===ih.hasFocus(r)){var l=Kp.getRng(r);if(l.isSome())return l.map(function(e){return vS.processRanges(r,[e])[0]}).getOr(u.createRange())}try{(n=y())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(d){}return o=vS.processRanges(r,[o])[0],o||(o=u.createRange?u.createRange():u.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(a=e.getRoot(),o.setStart(a,0),o.setEnd(a,0)),i&&s&&(0===c(o.START_TO_START,o,i)&&0===c(o.END_TO_END,o,i)?o=s:(i=null,s=null)),o},x=function(e,t){var n,o,a;if(zk(e)){var u=Lk(e)?e:null;if(u){s=null;try{u.select()}catch(c){}}else{if(n=y(),a=r.fire("SetSelectionRange",{range:e,forward:t}),e=a.range,n){s=e;try{n.removeAllRanges(),n.addRange(e)}catch(c){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||Oe.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset],o&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},C=function(t){return d(e.getOuterHTML(t)),t},S=function(){return Rk(r.getBody(),w())},k=function(t,n){return Nk(e,w(),t,n)},_=function(){var t,n,r=y();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},T=function(){var t=w(),n=y();if(!FS.hasMultipleRanges(n)&&wv(r)){var o=yk.normalize(e,t);return o.each(function(e){x(e,_())}),o.getOr(t)}return t},O=function(e,t){return u(e,t),A},E=function(){var t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},D=function(e,t){return cS.scrollElementIntoView(r,e,t)},R=function(e,t){return x(hS.fromPoint(e,t,r.getDoc()))},N=function(){var e=w();return e.collapsed?ol.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},I=function(){t=i=s=null,a.destroy()},A={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:b,setCursorLocation:c,getContent:l,setContent:d,getBookmark:p,moveToBookmark:h,select:g,isCollapsed:v,isForward:_,setNode:C,getNode:S,getSel:y,setRng:x,getRng:w,getStart:f,getEnd:m,getSelectedBlocks:k,normalize:T,selectorChanged:O,selectorChangedWithUnbind:u,getScrollContainer:E,scrollIntoView:D,placeCaretAt:R,getBoundingClientRect:N,destroy:I};return o=QC(A),a=nS(A,r),A.bookmarkManager=o,A.controlSelection=a,A},jk=Ei.isText,Hk=function(e){return jk(e)&&e.data[0]===zu.ZWSP},Vk=function(e){return jk(e)&&e.data[e.data.length-1]===zu.ZWSP},$k=function(e){return e.ownerDocument.createTextNode(zu.ZWSP)},Uk=function(e){if(jk(e.previousSibling))return Vk(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(zu.ZWSP),e.previousSibling);if(jk(e))return Hk(e)?e:(e.insertData(0,zu.ZWSP),e);var t=$k(e);return e.parentNode.insertBefore(t,e),t},qk=function(e){if(jk(e.nextSibling))return Hk(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,zu.ZWSP),e.nextSibling);if(jk(e))return Vk(e)?e:(e.appendData(zu.ZWSP),e);var t=$k(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Wk=function(e,t){return e?Uk(t):qk(t)},Kk=i(Wk,!0),Yk=i(Wk,!1),Xk=function(e,t){return Ei.isText(e.container())?Wk(t,e.container()):Wk(t,e.getNode())},Gk=function(e,t){var n=t.get();return n&&e.container()===n&&Vu(n)},Jk=function(e,t){return t.fold(function(t){td.remove(e.get());var n=Kk(t);return e.set(n),R.some(ol(n,n.length-1))},function(t){return uf.firstPositionIn(t).map(function(t){if(Gk(t,e))return ol(e.get(),1);td.remove(e.get());var n=Xk(t,!0);return e.set(n),ol(n,1)})},function(t){return uf.lastPositionIn(t).map(function(t){if(Gk(t,e))return ol(e.get(),e.get().length-1);td.remove(e.get());var n=Xk(t,!1);return e.set(n),ol(n,n.length-1)})},function(t){td.remove(e.get());var n=Yk(t);return e.set(n),R.some(ol(n,1))})},Qk={renderCaret:Jk},Zk=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,e_=function(e){return Zk.test(e)},t_=function(e,t){var n=Yh(e,"inline_boundaries_selector").getOr("a[href],code");return Jo(mo.fromDom(t),n)},n_=function(e){return"rtl"===gs.DOM.getStyle(e,"direction",!0)||e_(e.textContent)},r_=function(e,t,n){return Y(gs.DOM.getParents(n.container(),"*",t),e)},o_=function(e,t,n){var r=r_(e,t,n);return R.from(r[r.length-1])},a_=function(e,t,n){var r=wd(t,e),o=wd(n,e);return r&&r===o},i_=function(e){return Wu(e)||Ku(e)},s_=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Vu(n)?Ei.isText(n.nextSibling)?ol(n.nextSibling,0):ol.after(n):Wu(t)?ol(n,r+1):t:Vu(n)?Ei.isText(n.previousSibling)?ol(n.previousSibling,n.previousSibling.data.length):ol.before(n):Ku(t)?ol(n,r-1):t},u_=i(s_,!0),c_=i(s_,!1),l_={isInlineTarget:t_,findRootInline:o_,isRtl:n_,isAtZwsp:i_,normalizePosition:s_,normalizeForwards:u_,normalizeBackwards:c_,hasSameParentBlock:a_},d_=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return R.none()},f_={evaluateUntil:d_},m_=Dp.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),p_=function(e,t){var n=wd(t,e);return n||e},h_=function(e,t,n){var r=l_.normalizeForwards(n),o=p_(t,r.container());return l_.findRootInline(e,o,r).fold(function(){return uf.nextPosition(o,r).bind(i(l_.findRootInline,e,o)).map(function(e){return m_.before(e)})},R.none)},g_=function(e,t){return null===Hl(e,t)},v_=function(e,t,n){return l_.findRootInline(e,t,n).filter(i(g_,t))},b_=function(e,t,n){var r=l_.normalizeBackwards(n);return v_(e,t,r).bind(function(e){var t=uf.prevPosition(e,r);return t.isNone()?R.some(m_.start(e)):R.none()})},y_=function(e,t,n){var r=l_.normalizeForwards(n);return v_(e,t,r).bind(function(e){var t=uf.nextPosition(e,r);return t.isNone()?R.some(m_.end(e)):R.none()})},w_=function(e,t,n){var r=l_.normalizeBackwards(n),o=p_(t,r.container());return l_.findRootInline(e,o,r).fold(function(){return uf.prevPosition(o,r).bind(i(l_.findRootInline,e,o)).map(function(e){return m_.after(e)})},R.none)},x_=function(e){return!1===l_.isRtl(S_(e))},C_=function(e,t,n){var r=f_.evaluateUntil([h_,b_,y_,w_],[e,t,n]);return r.filter(x_)},S_=function(e){return e.fold(a,a,a,a)},k_=function(e){return e.fold(o("before"),o("start"),o("end"),o("after"))},__=function(e){return e.fold(m_.before,m_.before,m_.after,m_.after)},T_=function(e){return e.fold(m_.start,m_.start,m_.end,m_.end)},O_=function(e,t){return k_(e)===k_(t)&&S_(e)===S_(t)},E_=function(e,t,n,r,o,a){return Nc([l_.findRootInline(t,n,r),l_.findRootInline(t,n,o)],function(t,r){return t!==r&&l_.hasSameParentBlock(n,t,r)?m_.after(e?t:r):a}).getOr(a)},D_=function(e,t){return e.fold(o(!0),function(e){return!O_(e,t)})},R_=function(e,t,n,r,o){var a=l_.normalizePosition(e,o),s=uf.fromPosition(e,n,a).map(i(l_.normalizePosition,e)),u=s.fold(function(){return r.map(__)},function(o){return C_(t,n,o).map(i(E_,e,t,n,a,o)).filter(i(D_,r))});return u.filter(x_)},N_=function(e,t){return e?t.fold(r(R.some,m_.start),R.none,r(R.some,m_.after),R.none):t.fold(R.none,r(R.some,m_.before),R.none,r(R.some,m_.end))},I_=function(e,t,n,r){var o=l_.normalizePosition(e,r),a=C_(t,n,o);return C_(t,n,o).bind(i(N_,e)).orThunk(function(){return R_(e,t,n,a,r)})},A_={readLocation:C_,findLocation:I_,prevLocation:i(I_,!1),nextLocation:i(I_,!0),getElement:S_,outside:__,inside:T_},M_=function(e){return z(e.selection.getSel().modify)},B_=function(e,t,n){var r=e?1:-1;return t.setRng(ol(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},L_=function(e,t){var n=t.selection.getRng(),r=e?ol.fromRangeEnd(n):ol.fromRangeStart(n);return!!M_(t)&&(e&&Wu(r)?B_(!0,t.selection,r):!(e||!Ku(r))&&B_(!1,t.selection,r))},P_={hasSelectionModifyApi:M_,moveByWord:L_},z_=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},F_=function(e){return!1!==e.settings.inline_boundaries},j_=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},H_=function(e,t,n){return Qk.renderCaret(t,n).map(function(t){return z_(e,t),n})},V_=function(e,t,n){var r=e.getBody(),o=ol.fromRangeStart(e.selection.getRng()),a=i(l_.isInlineTarget,e),s=A_.findLocation(n,a,r,o);return s.bind(function(n){return H_(e,t,n)})},$_=function(e,t,n){var r=Y(t.select('*[data-mce-selected="inline-boundary"]'),e),o=Y(n,e);q(ie(r,o),i(j_,!1)),q(ie(o,r),i(j_,!0))},U_=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=ol.fromRangeStart(e.selection.getRng());ol.isTextPosition(n)&&!1===l_.isAtZwsp(n)&&(z_(e,td.removeAndReposition(t.get(),n)),t.set(null))}},q_=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Y(r,e);q(o,function(r){var o=ol.fromRangeStart(t.selection.getRng());A_.readLocation(e,t.getBody(),o).bind(function(e){return H_(t,n,e)})})}},W_=function(e,t,n){return function(){return!!F_(e)&&V_(e,t,n).isSome()}},K_=function(e,t,n){return function(){return!!F_(t)&&P_.moveByWord(e,t)}},Y_=function(e){var t=ks(null),n=i(l_.isInlineTarget,e);return e.on("NodeChange",function(r){F_(e)&&($_(n,e.dom,r.parents),U_(e,t),q_(n,e,t,r.parents))}),t},X_=i(K_,!0),G_=i(K_,!1),J_={move:W_,moveNextWord:X_,movePrevWord:G_,setupSelectedState:Y_,setCaretPosition:z_};(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(Bk||(Bk={}));var Q_=function(e,t){return e===rl.Backwards?t.reverse():t},Z_=function(e,t,n){return e===rl.Forwards?t.next(n):t.prev(n)},eT=function(e,t,n,r){return Ei.isBr(r.getNode(t===rl.Forwards))?Bk.Br:!1===xd(n,r)?Bk.Block:Bk.Wrap},tT=function(e,t,n,r){var o,a=Kd(n),i=r,s=[];while(i){if(o=Z_(t,a,i),!o)break;if(Ei.isBr(o.getNode(!1)))return t===rl.Forwards?{positions:Q_(t,s).concat([o]),breakType:Bk.Br,breakAt:R.some(o)}:{positions:Q_(t,s),breakType:Bk.Br,breakAt:R.some(o)};if(o.isVisible()){if(e(i,o)){var u=eT(n,t,i,o);return{positions:Q_(t,s),breakType:u,breakAt:R.some(o)}}s.push(o),i=o}else i=o}return{positions:Q_(t,s),breakType:Bk.Eol,breakAt:R.none()}},nT=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===rl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},rT=function(e,t){return G(e,function(e,n){return e.fold(function(){return R.some(n)},function(r){return Nc([ce(r.getClientRects()),ce(n.getClientRects())],function(e,o){var a=Math.abs(t-e.left),i=Math.abs(t-o.left);return i<=a?n:r}).or(e)})},R.none())},oT=function(e,t){return ce(t.getClientRects()).bind(function(t){return rT(e,t.left)})},aT=i(tT,nl.isAbove,-1),iT=i(tT,nl.isBelow,1),sT=function(e,t){return aT(e,t).breakAt.isNone()},uT=function(e,t){return iT(e,t).breakAt.isNone()},cT=i(nT,-1,aT),lT=i(nT,1,iT),dT=function(e){return uf.firstPositionIn(e).map(function(t){return[t].concat(iT(e,t).positions)}).getOr([])},fT=function(e){return uf.lastPositionIn(e).map(function(t){return aT(e,t).positions.concat(t)}).getOr([])},mT=Ei.isContentEditableFalse,pT=Oc,hT=function(e,t,n,r){var o=e===rl.Forwards,a=o?Yb:Xb;if(!r.collapsed){var i=pT(r);if(mT(i))return _b(e,t,i,e===rl.Backwards,!0)}var s=ec(r),u=Rd(e,t.getBody(),r);if(a(u))return Ob(t,u.getNode(!o));var c=l_.normalizePosition(o,n(u));if(!c)return s?r:null;if(a(c))return _b(e,t,c.getNode(!o),o,!0);var l=n(c);return l&&a(l)&&Md(c,l)?_b(e,t,l.getNode(!o),o,!0):s?Db(t,c.toRange(),!0):null},gT=function(e,t,n,r){var o,a,i,s,u,c,l,d,f;if(f=pT(r),o=Rd(e,t.getBody(),r),a=n(t.getBody(),ub(1),o),i=Y(a,cb(1)),u=_n.last(o.getClientRects()),(Yb(o)||Wb(o))&&(f=o.getNode()),(Xb(o)||Kb(o))&&(f=o.getNode(!0)),!u)return null;if(c=u.left,s=hb(i,c),s&&mT(s.node))return l=Math.abs(c-s.left),d=Math.abs(c-s.right),_b(e,t,s.node,l<d,!0);if(f){var m=sb(e,t.getBody(),ub(1),f);if(s=hb(Y(m,cb(1)),c),s)return Db(t,s.position.toRange(),!0);if(s=_n.last(Y(m,cb(0))),s)return Db(t,s.position.toRange(),!0)}},vT=function(e){var t=e.dom.create(pp.getForcedRootBlock(e));return(!Oe.ie||Oe.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},bT=function(e,t,n){var r,o,a,s=Kd(e.getBody()),u=i(Ad,s.next),c=i(Ad,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(r=e.dom.getParent(n.startContainer,"PRE"),!r)return;o=1===t?u(ol.fromRangeStart(n)):c(ol.fromRangeStart(n)),o||(a=vT(e),1===t?e.$(r).after(a):e.$(r).before(a),e.selection.select(a,!0),e.selection.collapse())}},yT=function(e,t){var n,r=Kd(e.getBody()),o=i(Ad,r.next),a=i(Ad,r.prev),s=t?rl.Forwards:rl.Backwards,u=t?o:a,c=e.selection.getRng();return n=hT(s,e,u,c),n||(n=bT(e,s,c),n||null)},wT=function(e,t){var n,r=t?1:-1,o=t?ib:ab,a=e.selection.getRng();return n=gT(r,e,o,a),n||(n=bT(e,r,a),n||null)},xT=function(e,t){return function(){var n=yT(e,t);return!!n&&(e.selection.setRng(n),!0)}},CT=function(e,t){return function(){var n=wT(e,t);return!!n&&(e.selection.setRng(n),!0)}},ST=function(e){return function(t){return e?Xb(t):Yb(t)}},kT=function(e,t){return function(){var n=t?ol.fromRangeEnd(e.selection.getRng()):ol.fromRangeStart(e.selection.getRng()),r=t?iT(e.getBody(),n):aT(e.getBody(),n),a=t?le(r.positions):ce(r.positions);return a.filter(ST(t)).fold(o(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},_T=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},TT=function(e,t){return ne(t,function(t){var n=_T(vc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},OT=function(e,t,n){return G(e,function(e,r){return e.fold(function(){return R.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return R.some(a<o?r:e)})},R.none())},ET=function(e,t,n,r,o){var a=cu(mo.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),i=Y(TT(e,a),function(e){return t(e,o)});return OT(i,r,o).map(function(e){return e.cell})},DT=function(e){return e.bottom},RT=function(e){return e.top},NT=function(e,t){return e.y<t},IT=function(e,t){return e.y>t},AT=i(ET,DT,NT),MT=i(ET,RT,IT),BT=function(e,t){return ce(t.getClientRects()).bind(function(t){return AT(e,t.left,t.top)}).bind(function(e){return oT(fT(e),t)})},LT=function(e,t){return le(t.getClientRects()).bind(function(t){return MT(e,t.left,t.top)}).bind(function(e){return oT(dT(e),t)})},PT=function(e,t){e.selection.setRng(t),cS.scrollRangeIntoView(e,t)},zT=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},FT=function(e){return e.breakType===Bk.Wrap&&0===e.positions.length},jT=function(e){return e.breakType===Bk.Br&&1===e.positions.length},HT=function(e,t,n){var r=e(t,n);return FT(r)||!Ei.isBr(n.getNode())&&jT(r)?!zT(e,t,r):r.breakAt.isNone()},VT=i(HT,aT),$T=i(HT,iT),UT=function(e,t,n){var r=ol.fromRangeStart(t);return uf.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},qT=function(e,t,n,r){var o=e.selection.getRng(),a=t?1:-1;if(ud()&&UT(t,o,n)){var i=_b(a,e,n,!t,!0);return PT(e,i),!0}return!1},WT=function(e,t,n){return BT(t,n).orThunk(function(){return ce(n.getClientRects()).bind(function(n){return rT(cT(e,ol.before(t)),n.left)})}).getOr(ol.before(t))},KT=function(e,t,n){return LT(t,n).orThunk(function(){return ce(n.getClientRects()).bind(function(n){return rT(lT(e,ol.after(t)),n.left)})}).getOr(ol.after(t))},YT=function(e,t){var n=t.getNode(e);return Ei.isElement(n)&&"TABLE"===n.nodeName?R.some(n):R.none()},XT=function(e,t,n,r){var o=pp.getForcedRootBlock(t);o?t.undoManager.transact(function(){var r=mo.fromTag(o);Mo(r,pp.getForcedRootBlockAttrs(t)),Vs(r,mo.fromTag("br")),e?js(mo.fromDom(n),r):Fs(mo.fromDom(n),r);var a=t.dom.createRng();a.setStart(r.dom(),0),a.setEnd(r.dom(),0),PT(t,a)}):PT(t,r.toRange())},GT=function(e,t,n){var r=YT(!!t,n),o=!1===t;r.fold(function(){return PT(e,n.toRange())},function(r){return uf.positionIn(o,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return PT(e,n.toRange())},function(o){return XT(t,e,r,n)})})},JT=function(e,t,n,r){var o=e.selection.getRng(),a=ol.fromRangeStart(o),i=e.getBody();if(!t&&VT(r,a)){var s=WT(i,n,a);return GT(e,t,s),!0}if(t&&$T(r,a)){s=KT(i,n,a);return GT(e,t,s),!0}return!1},QT=function(e,t){return function(){return R.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return R.from(e.dom.getParent(n,"table")).map(function(r){return qT(e,t,r,n)})}).getOr(!1)}},ZT=function(e,t){return function(){return R.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return R.from(e.dom.getParent(n,"table")).map(function(r){return JT(e,t,r,n)})}).getOr(!1)}},eO=function(e){return V(["figcaption"],vo(e))},tO=function(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n},nO=function(e,t,n){n?Vs(e,t):Hs(e,t)},rO=function(e,t){var n=mo.fromTag("br");return nO(e,n,t),tO(n)},oO=function(e,t,n,r){var o=mo.fromTag(n),a=mo.fromTag("br");return Mo(o,r),Vs(o,a),nO(e,o,t),tO(a)},aO=function(e,t,n,r){return""===t?rO(e,r):oO(e,r,t,n)},iO=function(e,t){var n=i(ta,t);return fu(mo.fromDom(e.container()),Za,n).filter(eO)},sO=function(e,t,n){return t?uT(e.dom(),n):sT(e.dom(),n)},uO=function(e,t){var n=mo.fromDom(e.getBody()),r=ol.fromRangeStart(e.selection.getRng()),o=pp.getForcedRootBlock(e),a=pp.getForcedRootBlockAttrs(e);return iO(r,n).exists(function(){if(sO(n,t,r)){var i=aO(n,o,a,t);return e.selection.setRng(i),!0}return!1})},cO=function(e,t){return function(){return!!e.selection.isCollapsed()&&uO(e,t)}},lO=function(e){return U(e,function(e){return vC({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:n},e)})},dO=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},fO=function(e,t){return ne(lO(e),function(e){return dO(e,t)?[e]:[]})},mO=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},pO=function(e,t){return J(fO(e,t),function(e){return e.action()})},hO={match:fO,action:mO,execute:pO},gO=function(e,t,n){var r=io.detect().os;hO.execute([{keyCode:Ib.RIGHT,action:xT(e,!0)},{keyCode:Ib.LEFT,action:xT(e,!1)},{keyCode:Ib.UP,action:CT(e,!1)},{keyCode:Ib.DOWN,action:CT(e,!0)},{keyCode:Ib.RIGHT,action:QT(e,!0)},{keyCode:Ib.LEFT,action:QT(e,!1)},{keyCode:Ib.UP,action:ZT(e,!1)},{keyCode:Ib.DOWN,action:ZT(e,!0)},{keyCode:Ib.RIGHT,action:J_.move(e,t,!0)},{keyCode:Ib.LEFT,action:J_.move(e,t,!1)},{keyCode:Ib.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:J_.moveNextWord(e,t)},{keyCode:Ib.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:J_.movePrevWord(e,t)},{keyCode:Ib.UP,action:cO(e,!1)},{keyCode:Ib.DOWN,action:cO(e,!0)}],n).each(function(e){n.preventDefault()})},vO=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&gO(e,t,n)})},bO={setup:vO},yO=function(e){return function(t){return ta(e,mo.fromDom(t.dom().parentNode))}},wO=function(e,t){return aa(e,t)?fu(t,function(e){return ri(e)||ai(e)},yO(e)):R.none()},xO=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},CO=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),xO(e))},SO=function(e,t,n){return Nc([uf.firstPositionIn(n),uf.lastPositionIn(n)],function(r,o){var a=l_.normalizePosition(!0,r),i=l_.normalizePosition(!1,o),s=l_.normalizePosition(!1,t);return e?uf.nextPosition(n,s).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1):uf.prevPosition(n,s).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1)}).getOr(!0)},kO={getParentBlock:wO,paddEmptyBody:CO,willDeleteLastPositionInElement:SO},_O=Ho("block","position"),TO=Ho("from","to"),OO=function(e,t){var n=mo.fromDom(e),r=mo.fromDom(t.container());return kO.getParentBlock(n,r).map(function(e){return _O(e,t)})},EO=function(e){return!1===ta(e.from().block(),e.to().block())},DO=function(e){return ca(e.from().block()).bind(function(t){return ca(e.to().block()).filter(function(e){return ta(t,e)})}).isSome()},RO=function(e){return!1===Ei.isContentEditableFalse(e.from().block())&&!1===Ei.isContentEditableFalse(e.to().block())},NO=function(e,t,n){return Ei.isBr(n.position().getNode())&&!1===cw.isEmpty(n.block())?uf.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?uf.fromPosition(t,e,r).bind(function(t){return OO(e,t)}):R.some(n)}).getOr(n):n},IO=function(e,t,n){var r=OO(e,ol.fromRangeStart(n)),o=r.bind(function(n){return uf.fromPosition(t,e,n.position()).bind(function(n){return OO(e,n).map(function(n){return NO(e,t,n)})})});return Nc([r,o],TO).filter(function(e){return EO(e)&&DO(e)&&RO(e)})},AO=function(e,t,n){return n.collapsed?IO(e,t,n):R.none()},MO={read:AO},BO=function(e){var t=ha(e);return Q(t,Za).fold(function(){return t},function(e){return t.slice(0,e)})},LO=function(e){var t=BO(e);return q(t,Ks),t},PO=function(e,t){var n=ov.parentsAndSelf(t,e);return J(n.reverse(),cw.isEmpty).each(Ks)},zO=function(e){return 0===Y(ma(e),function(e){return!cw.isEmpty(e)}).length},FO=function(e,t,n,r){if(cw.isEmpty(n))return Ay.fillWithPaddingBr(n),uf.firstPositionIn(n.dom());zO(r)&&cw.isEmpty(t)&&Fs(r,mo.fromTag("br"));var o=uf.prevPosition(n.dom(),ol.before(r.dom()));return q(LO(t),function(e){Fs(r,e)}),PO(e,t),o},jO=function(e,t,n){if(cw.isEmpty(n))return Ks(n),cw.isEmpty(t)&&Ay.fillWithPaddingBr(t),uf.firstPositionIn(t.dom());var r=uf.lastPositionIn(n.dom());return q(LO(t),function(e){Vs(n,e)}),PO(e,t),r},HO=function(e,t){var n=ov.parentsAndSelf(t,e);return R.from(n[n.length-1])},VO=function(e,t){return aa(t,e)?HO(t,e):R.none()},$O=function(e,t){uf.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(mo.fromDom).filter(ni).each(Ks)},UO=function(e,t,n){return $O(!0,t),$O(!1,n),VO(t,n).fold(i(jO,e,t,n),i(FO,e,t,n))},qO=function(e,t,n,r){return t?UO(e,r,n):UO(e,n,r)},WO={mergeBlocks:qO},KO=function(e,t){var n,r=mo.fromDom(e.getBody());return n=MO.read(r.dom(),t,e.selection.getRng()).bind(function(e){return WO.mergeBlocks(r,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},YO={backspaceDelete:KO},XO=function(e,t){var n=t.getRng();return Nc([kO.getParentBlock(e,mo.fromDom(n.startContainer)),kO.getParentBlock(e,mo.fromDom(n.endContainer))],function(r,o){return!1===ta(r,o)&&(n.deleteContents(),WO.mergeBlocks(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},GO=function(e,t){var n=mo.fromDom(t),r=i(ta,e);return du(n,ui,r).isSome()},JO=function(e,t){return GO(e,t.startContainer)||GO(e,t.endContainer)},QO=function(e,t){var n=uf.prevPosition(e.dom(),ol.fromRangeStart(t)).isNone(),r=uf.nextPosition(e.dom(),ol.fromRangeEnd(t)).isNone();return!JO(e,t)&&n&&r},ZO=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},eE=function(e){var t=mo.fromDom(e.getBody()),n=e.selection.getRng();return QO(t,n)?ZO(e):XO(t,e.selection)},tE=function(e,t){return!e.selection.isCollapsed()&&eE(e)},nE={backspaceDelete:tE},rE=function(e){return Nd(e).exists(ni)},oE=function(e,t,n){var r=Y(ov.parentsAndSelf(mo.fromDom(n.container()),t),Za),o=ce(r).getOr(t);return uf.fromPosition(e,o.dom(),n).filter(rE)},aE=function(e,t){return Nd(t).exists(ni)||oE(!0,e,t).isSome()},iE=function(e,t){return Id(t).exists(ni)||oE(!1,e,t).isSome()},sE=i(oE,!1),uE=i(oE,!0),cE=function(e){return ui(mo.fromDom(e))||ai(mo.fromDom(e))},lE=Dp.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dE=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Ei.isElement(n)&&n.getAttribute("data-mce-caret")===r},fE=function(e,t,n,r){var a=function(t){return ti(mo.fromDom(t))&&!xd(n,r,e)};return Dd(!t,n).fold(function(){return Dd(t,r).fold(o(!1),a)},a)},mE=function(e,t,n,r){var o=r.getNode(!1===t);return kO.getParentBlock(mo.fromDom(e),mo.fromDom(n.getNode())).map(function(e){return cw.isEmpty(e)?lE.remove(e.dom()):lE.moveToElement(o)}).orThunk(function(){return R.some(lE.moveToElement(o))})},pE=function(e,t,n){return uf.fromPosition(t,e,n).bind(function(r){return cE(r.getNode())?R.none():fE(e,t,n,r)?R.none():t&&Ei.isContentEditableFalse(r.getNode())?mE(e,t,n,r):!1===t&&Ei.isContentEditableFalse(r.getNode(!0))?mE(e,t,n,r):t&&Xb(n)?R.some(lE.moveToPosition(r)):!1===t&&Yb(n)?R.some(lE.moveToPosition(r)):R.none()})},hE=function(e,t){return e&&Ei.isContentEditableFalse(t.nextSibling)?R.some(lE.moveToElement(t.nextSibling)):!1===e&&Ei.isContentEditableFalse(t.previousSibling)?R.some(lE.moveToElement(t.previousSibling)):R.none()},gE=function(e,t,n){return n.fold(function(e){return R.some(lE.remove(e))},function(e){return R.some(lE.moveToElement(e))},function(n){return xd(t,n,e)?R.none():R.some(lE.moveToPosition(n))})},vE=function(e,t,n){return dE(t,n)?hE(t,n.getNode(!1===t)).fold(function(){return pE(e,t,n)},R.some):pE(e,t,n).bind(function(t){return gE(e,n,t)})},bE=function(e,t,n){var r=Ed(t?1:-1,e,n),o=ol.fromRangeStart(r),a=mo.fromDom(e);return!1===t&&Xb(o)?R.some(lE.remove(o.getNode(!0))):t&&Yb(o)?R.some(lE.remove(o.getNode())):!1===t&&Yb(o)&&iE(a,o)?sE(a,o).map(function(e){return lE.remove(e.getNode())}):t&&Xb(o)&&aE(a,o)?uE(a,o).map(function(e){return lE.remove(e.getNode())}):vE(e,t,o)},yE=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Dw.deleteElement(e,t,mo.fromDom(n)),!0}},wE=function(e,t){return function(n){var r=t?ol.before(n):ol.after(n);return e.selection.setRng(r.toRange()),!0}},xE=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},CE=function(e,t){var n=bE(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(yE(e,t),wE(e,t),xE(e))});return n.getOr(!1)},SE=function(e){q(cu(e,".mce-offscreen-selection"),Ks)},kE=function(e,t){var n=e.selection.getNode();return!!Ei.isContentEditableFalse(n)&&(SE(mo.fromDom(e.getBody())),Dw.deleteElement(e,t,mo.fromDom(e.selection.getNode())),kO.paddEmptyBody(e),!0)},_E=function(e,t){while(t&&t!==e){if(Ei.isContentEditableTrue(t)||Ei.isContentEditableFalse(t))return t;t=t.parentNode}return null},TE=function(e){var t,n=_E(e.getBody(),e.selection.getNode());return Ei.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(ol.before(t).toRange())),!0},OE=function(e,t){return e.selection.isCollapsed()?CE(e,t):kE(e,t)},EE={backspaceDelete:OE,paddEmptyElement:TE},DE=function(e,t){Ei.isText(t)&&0===t.data.length&&e.remove(t)},RE=function(e,t,n,r,o,a){var i=_b(r,e,a.getNode(!o),o,!0);if(t.collapsed){var s=t.cloneRange();o?s.setEnd(i.startContainer,i.startOffset):s.setStart(i.endContainer,i.endOffset),s.deleteContents()}else t.deleteContents();return e.selection.setRng(i),DE(e.dom,n),!0},NE=function(e,t){var n=e.selection.getRng();if(!Ei.isText(n.commonAncestorContainer))return!1;var r=t?rl.Forwards:rl.Backwards,o=Kd(e.getBody()),a=i(Ad,o.next),s=i(Ad,o.prev),u=t?a:s,c=t?Yb:Xb,l=Rd(r,e.getBody(),n),d=l_.normalizePosition(t,u(l));if(!d)return!1;if(c(d))return RE(e,n,l.getNode(),r,t,d);var f=u(d);return!!(f&&c(f)&&Md(d,f))&&RE(e,n,l.getNode(),r,t,f)},IE=function(e,t){return NE(e,t)},AE={backspaceDelete:IE},ME=function(e){return!1!==e.settings.inline_boundaries},BE=function(e,n){var r=t.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(n.container(),n.offset()),r},LE=function(e){return Nc([uf.firstPositionIn(e),uf.lastPositionIn(e)],function(t,n){var r=l_.normalizePosition(!0,t),o=l_.normalizePosition(!1,n);return uf.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},PE=function(e,t){return function(n){return Qk.renderCaret(t,n).map(function(t){return J_.setCaretPosition(e,t),!0}).getOr(!1)}},zE=function(e,t,n,r){var o=e.getBody(),a=i(l_.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(BE(n,r)),e.execCommand("Delete"),A_.readLocation(a,o,ol.fromRangeStart(e.selection.getRng())).map(A_.inside).map(PE(e,t))}),e.nodeChanged()},FE=function(e,t){var n=wd(t,e);return n||e},jE=function(e,t,n,r){var a=FE(e.getBody(),r.container()),s=i(l_.isInlineTarget,e),u=A_.readLocation(s,a,r);return u.bind(function(e){return n?e.fold(o(R.some(A_.inside(e))),R.none,o(R.some(A_.outside(e))),R.none):e.fold(R.none,o(R.some(A_.outside(e))),R.none,o(R.some(A_.inside(e))))}).map(PE(e,t)).getOrThunk(function(){var o=uf.navigate(n,a,r),i=o.bind(function(e){return A_.readLocation(s,a,e)});return u.isSome()&&i.isSome()?l_.findRootInline(s,a,r).map(function(t){return!!LE(t)&&(Dw.deleteElement(e,n,mo.fromDom(t)),!0)}).getOr(!1):i.bind(function(a){return o.map(function(o){return n?zE(e,t,r,o):zE(e,t,o,r),!0})}).getOr(!1)})},HE=function(e,t,n){if(e.selection.isCollapsed()&&ME(e)){var r=ol.fromRangeStart(e.selection.getRng());return jE(e,t,n,r)}return!1},VE={backspaceDelete:HE},$E=function(e,t){var n=ov.parentsAndSelf(t,e);return Q(n,Za).fold(o(n),function(e){return n.slice(0,e)})},UE=function(e){return 1===ha(e).length},qE=function(e,t,n,r){var o=i(Yw,t),a=U(Y(r,o),function(e){return e.dom()});if(0===a.length)Dw.deleteElement(t,e,n);else{var s=Kw(n.dom(),a);t.selection.setRng(s.toRange())}},WE=function(e,t){var n=mo.fromDom(e.getBody()),r=mo.fromDom(e.selection.getStart()),o=Y($E(n,r),UE);return le(o).map(function(n){var r=ol.fromRangeStart(e.selection.getRng());return!(!kO.willDeleteLastPositionInElement(t,r,n.dom())||Xw(n))&&(qE(t,e,n,o),!0)}).getOr(!1)},KE=function(e,t){return!!e.selection.isCollapsed()&&WE(e,t)},YE={backspaceDelete:KE},XE=Ho("start","end"),GE=Ho("rng","table","cells"),JE=Dp.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),QE=function(e){return i(ta,e)},ZE=function(e,t){return hu(mo.fromDom(e),"td,th",t)},eD=function(e,t){return mu(e,"table",t)},tD=function(e){return!1===ta(e.start(),e.end())},nD=function(e,t){return eD(e.start(),t).bind(function(n){return eD(e.end(),t).bind(function(e){return ta(n,e)?R.some(n):R.none()})})},rD=function(e){return cu(e,"td,th")},oD=function(e,t){return eD(e.start(),t).bind(function(t){return le(rD(t)).map(function(t){return XE(e.start(),t)})})},aD=function(e,t){var n=ZE(t.startContainer,e),r=ZE(t.endContainer,e);return t.collapsed?R.none():Nc([n,r],XE).fold(function(){return n.fold(function(){return r.bind(function(t){return eD(t,e).bind(function(e){return ce(rD(e)).map(function(e){return XE(e,t)})})})},function(t){return eD(t,e).bind(function(e){return le(rD(e)).map(function(e){return XE(t,e)})})})},function(t){return iD(e,t)?R.none():oD(t,e)})},iD=function(e,t){return nD(t,e).isSome()},sD=function(e,t){var n=ZE(e.startContainer,t),r=ZE(e.endContainer,t);return Nc([n,r],XE).filter(tD).filter(function(e){return iD(t,e)}).orThunk(function(){return aD(t,e)})},uD=function(e,t){return nD(e,t).map(function(t){return GE(e,t,rD(t))})},cD=function(e,t){var n=QE(e);return sD(t,n).bind(function(e){return uD(e,n)})},lD=function(e,t){return Q(e,function(e){return ta(e,t)})},dD=function(e){return Nc([lD(e.cells(),e.rng().start()),lD(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})},fD=function(e){return dD(e).map(function(t){var n=e.cells();return t.length===n.length?JE.removeTable(e.table()):JE.emptyCells(t)})},mD=function(e){return JE.emptyCells(e)},pD=function(e,t){return cD(e,t).bind(fD)},hD={getActionFromRange:pD,getActionFromCells:mD},gD=function(e,t){return q(t,Ay.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},vD=function(e,t){return Dw.deleteElement(e,!1,t),!0},bD=function(e,t,n){return hD.getActionFromRange(t,n).map(function(t){return t.fold(i(vD,e),i(gD,e))})},yD=function(e,t){return _D(e,t)},wD=function(e,t,n,r){return SD(t,r).fold(function(){return bD(e,t,n)},function(t){return yD(e,t)}).getOr(!1)},xD=function(e,t){var n=mo.fromDom(e.getBody()),r=e.selection.getRng(),o=US.getCellsFromEditor(e);return 0!==o.length?gD(e,o):wD(e,n,r,t)},CD=function(e,t){return J(ov.parentsAndSelf(t,e),ui)},SD=function(e,t){return J(ov.parentsAndSelf(t,e),function(e){return"caption"===vo(e)})},kD=function(e,t,n,r,o){return uf.navigate(n,e.getBody(),o).bind(function(e){return CD(t,mo.fromDom(e.getNode())).map(function(e){return!1===ta(e,r)})})},_D=function(e,t){return Ay.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),R.some(!0)},TD=function(e,t,n,r){return uf.firstPositionIn(e.dom()).bind(function(o){return uf.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},OD=function(e,t){return _D(e,t)},ED=function(e,t,n){return SD(e,mo.fromDom(n.getNode())).map(function(e){return!1===ta(e,t)})},DD=function(e,t,n,r,o){return uf.navigate(n,e.getBody(),o).bind(function(a){return TD(r,n,o,a)?OD(e,r):ED(t,r,a)}).or(R.some(!0))},RD=function(e,t,n,r){var o=ol.fromRangeStart(e.selection.getRng());return CD(n,r).bind(function(r){return cw.isEmpty(r)?_D(e,r):kD(e,n,t,r,o)}).getOr(!1)},ND=function(e,t,n,r){var o=ol.fromRangeStart(e.selection.getRng());return cw.isEmpty(r)?_D(e,r):DD(e,n,t,r,o)},ID=function(e,t){return e?Wb(t):Kb(t)},AD=function(e,t){var n=ol.fromRangeStart(e.selection.getRng());return ID(t,n)||uf.fromPosition(t,e.getBody(),n).map(function(e){return ID(t,e)}).getOr(!1)},MD=function(e,t,n){var r=mo.fromDom(e.getBody());return SD(r,n).fold(function(){return RD(e,t,r,n)||AD(e,t)},function(n){return ND(e,t,r,n).getOr(!1)})},BD=function(e,t){var n=mo.fromDom(e.selection.getStart(!0)),r=US.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===r.length?MD(e,t,n):xD(e,n)},LD={backspaceDelete:BD},PD=function(e,t){var n=ol.fromRangeStart(e.selection.getRng());return uf.fromPosition(t,e.getBody(),n).filter(function(e){return t?Ub(e):qb(e)}).bind(function(e){return R.from(Cd(t?0:-1,e))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},zD=function(e,t){return!!e.selection.isCollapsed()&&PD(e,t)},FD={backspaceDelete:zD},jD=function(e,t,n){hO.execute([{keyCode:Ib.BACKSPACE,action:hO.action(EE.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(EE.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(AE.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(AE.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(VE.backspaceDelete,e,t,!1)},{keyCode:Ib.DELETE,action:hO.action(VE.backspaceDelete,e,t,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(LD.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(LD.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(FD.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(FD.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(nE.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(nE.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(YO.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(YO.backspaceDelete,e,!0)},{keyCode:Ib.BACKSPACE,action:hO.action(YE.backspaceDelete,e,!1)},{keyCode:Ib.DELETE,action:hO.action(YE.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},HD=function(e,t){hO.execute([{keyCode:Ib.BACKSPACE,action:hO.action(EE.paddEmptyElement,e)},{keyCode:Ib.DELETE,action:hO.action(EE.paddEmptyElement,e)}],t)},VD=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&jD(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&HD(e,t)})},$D={setup:VD},UD=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},qD=function(e,t){var n,r,o,a,i=t,s=e.dom,u=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var c=UD(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(s.doc.createTextNode(" "),t.firstChild)}if(o=s.createRng(),t.normalize(),t.hasChildNodes()){n=new za(t,t);while(r=n.current()){if(Ei.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(u[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=n.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else Ei.isBr(t)?t.nextSibling&&s.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),s.remove(a),e.selection.scrollIntoView(t)}},WD=function(e,t){var n,r,o=e.getRoot();n=t;while(n!==o&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},KD=function(e){return R.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},YD=function(e){return KD(e).fold(o(""),function(e){return e.nodeName.toUpperCase()})},XD=function(e){return KD(e).filter(function(e){return ai(mo.fromDom(e))}).isSome()},GD={moveToCaretPosition:qD,getEditableRoot:WD,getParentBlock:KD,getParentBlockName:YD,isListItemParentBlock:XD},JD=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},QD=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},ZD=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},eR=function(e){return ZD(e)&&ZD(e.parentNode)},tR=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},nR=function(e,t,n){var r=e[n?"firstChild":"lastChild"];while(r){if(Ei.isElement(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===t},rR=function(e,t,n,r,o){var a=e.dom,i=e.selection.getRng();if(n!==e.getBody()){eR(n)&&(o="LI");var s=o?t(o):a.create("BR");if(nR(n,r,!0)&&nR(n,r,!1))QD(n,"LI")?a.insertAfter(s,tR(n)):a.replace(s,n);else if(nR(n,r,!0))QD(n,"LI")?(a.insertAfter(s,tR(n)),s.appendChild(a.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(nR(n,r,!1))a.insertAfter(s,tR(n));else{n=tR(n);var u=i.cloneRange();u.setStartAfter(r),u.setEndAfter(n);var c=u.extractContents();"LI"===o&&JD(c,"LI")?(s=c.firstChild,a.insertAfter(c,n)):(a.insertAfter(c,n),a.insertAfter(s,n))}a.remove(r),GD.moveToCaretPosition(e,s)}},oR={insert:rR},aR=function(e){q(uu(mo.fromDom(e),xo),function(e){var t=e.dom();t.nodeValue=zu.trim(t.nodeValue)})},iR=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},sR=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},uR=function(e){e.innerHTML='<br data-mce-bogus="1">'},cR=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},lR=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},dR=function(e,t,n){var r,o=n,a=[];if(o){while(o=o.firstChild){if(e.isBlock(o))return;Ei.isElement(o)&&!t[o.nodeName.toLowerCase()]&&a.push(o)}r=a.length;while(r--)o=a[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):iR(e,o)&&e.remove(o)}},fR=function(e,t,n){return!1===Ei.isText(t)?n:e?1===n&&t.data.charAt(n-1)===zu.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===zu.ZWSP?t.data.length:n},mR=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,fR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,fR(!1,e.endContainer,e.endOffset)),t},pR=function(e){do{Ei.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},hR=function(e,t){var n,r,o=e.getRoot();n=t;while(n!==o&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},gR=function(e,t){var n=pp.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,pp.getForcedRootBlockAttrs(e))},vR=function(e,t,n,r,o){var a,i,s,u,c,l,d=t||"P",f=e.dom,m=hR(f,r);if(i=f.getParent(r,f.isBlock),!i||!lR(f,i)){if(i=i||m,l=i===e.getBody()||sR(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return a=f.create(d),gR(e,a),i.appendChild(a),n.setStart(a,0),n.setEnd(a,0),a;u=r;while(u.parentNode!==i)u=u.parentNode;while(u&&!f.isBlock(u))s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,d.toLowerCase())){a=f.create(d),gR(e,a),s.parentNode.insertBefore(a,s),u=s;while(u&&!f.isBlock(u))c=u.nextSibling,a.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r},bR=function(e,t){var n;t.normalize(),n=t.lastChild,n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},yR=function(e,t){var n,r,o,a,i,s,u,c,l,d,f,m,p,h=e.dom,g=e.schema,v=g.getNonEmptyElements(),b=e.selection.getRng(),y=function(t){var n,a,s,u=o,c=g.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(n=h.create(t||m),gR(e,n)):n=i.cloneNode(!1),s=n,!1===pp.shouldKeepStyles(e))h.setAttrib(n,"style",null),h.setAttrib(n,"class",null);else do{if(c[u.nodeName]){if(jl(u)||If.isBookmarkNode(u))continue;a=u.cloneNode(!1),h.setAttrib(a,"id",""),n.hasChildNodes()?(a.appendChild(n.firstChild),n.appendChild(a)):(s=a,n.appendChild(a))}}while((u=u.parentNode)&&u!==r);return uR(s),n},w=function(e){var t,n,r,s;if(s=fR(e,o,a),Ei.isText(o)&&(e?s>0:s<o.nodeValue.length))return!1;if(o.parentNode===i&&p&&!e)return!0;if(e&&Ei.isElement(o)&&o===i.firstChild)return!0;if(cR(o,"TABLE")||cR(o,"HR"))return p&&!e||!p&&e;t=new za(o,i),Ei.isText(o)&&(e&&0===s?t.prev():e||s!==o.nodeValue.length||t.next());while(n=t.current()){if(Ei.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),v[r]&&"br"!==r))return!1}else if(Ei.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},x=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?y(m):y(),pp.shouldEndContainerOnEmptyBlock(e)&&lR(h,l)&&h.isEmpty(i)?u=h.split(l,i):h.insertAfter(u,i),GD.moveToCaretPosition(e,u)};yk.normalize(h,b).each(function(e){b.setStart(e.startContainer,e.startOffset),b.setEnd(e.endContainer,e.endOffset)}),o=b.startContainer,a=b.startOffset,m=pp.getForcedRootBlock(e),s=!(!t||!t.shiftKey);var C=!(!t||!t.ctrlKey);Ei.isElement(o)&&o.hasChildNodes()&&(p=a>o.childNodes.length-1,o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o,a=p&&Ei.isText(o)?o.nodeValue.length:0),r=hR(h,o),r&&((m&&!s||!m&&s)&&(o=vR(e,m,b,o,a)),i=h.getParent(o,h.isBlock),l=i?h.getParent(i.parentNode,h.isBlock):null,d=i?i.nodeName.toUpperCase():"",f=l?l.nodeName.toUpperCase():"","LI"!==f||C||(i=l,l=l.parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&h.isEmpty(i)?oR.insert(e,y,l,i,m):m&&i===e.getBody()||(m=m||"P",Hu(i)?(u=Zu(i),h.isEmpty(i)&&uR(i),GD.moveToCaretPosition(e,u)):w()?x():w(!0)?(u=i.parentNode.insertBefore(y(),i),GD.moveToCaretPosition(e,cR(i,"HR")?u:i)):(n=mR(b).cloneRange(),n.setEndAfter(i),c=n.extractContents(),aR(c),pR(c),u=c.firstChild,h.insertAfter(c,i),dR(h,v,u),bR(h,i),h.isEmpty(i)&&uR(i),u.normalize(),h.isEmpty(u)?(h.remove(u),x()):GD.moveToCaretPosition(e,u)),h.setAttrib(u,"id",""),e.fire("NewBlock",{newBlock:u})))},wR={insert:yR},xR=function(e,t,n){var r,o=new za(t,n),a=e.getNonEmptyElements();while(r=o.next())if(a[r.nodeName.toLowerCase()]||r.length>0)return!0},CR=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},SR=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},kR=function(e,t){var n,r,o=e.selection,a=e.dom,i=o.getRng();yk.normalize(a,i).each(function(e){i.setStart(e.startContainer,e.startOffset),i.setEnd(e.endContainer,e.endOffset)});var s=i.startOffset,u=i.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=a.getParent(u,a.isBlock),d=l?a.getParent(l.parentNode,a.isBlock):null,f=d?d.nodeName.toUpperCase():"",m=!(!t||!t.ctrlKey);"LI"!==f||m||(l=d),u&&3===u.nodeType&&s>=u.nodeValue.length&&(xR(e.schema,u,l)||(n=a.create("br"),i.insertNode(n),i.setStartAfter(n),i.setEndAfter(n),r=!0)),n=a.create("br"),Cl(a,i,n),CR(a,o,n),SR(a,o,n,r),e.undoManager.add()},_R=function(e,t){var n=mo.fromTag("br");Fs(mo.fromDom(t),n),e.undoManager.add()},TR=function(e,t){ER(e.getBody(),t)||js(mo.fromDom(t),mo.fromTag("br"));var n=mo.fromTag("br");js(mo.fromDom(t),n),CR(e.dom,e.selection,n.dom()),SR(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},OR=function(e){return Ei.isBr(e.getNode())},ER=function(e,t){return!!OR(ol.after(t))||uf.nextPosition(e,ol.after(t)).map(function(e){return Ei.isBr(e.getNode())}).getOr(!1)},DR=function(e){return e&&"A"===e.nodeName&&"href"in e},RR=function(e){return e.fold(o(!1),DR,DR,o(!1))},NR=function(e){var t=i(l_.isInlineTarget,e),n=ol.fromRangeStart(e.selection.getRng());return A_.readLocation(t,e.getBody(),n).filter(RR)},IR=function(e,t){t.fold(n,i(_R,e),i(TR,e),n)},AR=function(e,t){var n=NR(e);n.isSome()?n.each(i(IR,e)):kR(e,t)},MR={insert:AR},BR=function(e,t){return GD.getParentBlock(e).filter(function(e){return t.length>0&&Jo(mo.fromDom(e),t)}).isSome()},LR=function(e){return BR(e,pp.getBrNewLineSelector(e))},PR=function(e){return BR(e,pp.getNoNewLineSelector(e))},zR={shouldInsertBr:LR,shouldBlockNewLine:PR},FR=Dp.generate([{br:[]},{block:[]},{none:[]}]),jR=function(e,t){return zR.shouldBlockNewLine(e)},HR=function(e){return function(t,n){var r=""===pp.getForcedRootBlock(t);return r===e}},VR=function(e){return function(t,n){return GD.isListItemParentBlock(t)===e}},$R=function(e,t){return function(n,r){var o=GD.getParentBlockName(n)===e.toUpperCase();return o===t}},UR=function(e){return $R("pre",e)},qR=function(){return $R("summary",!0)},WR=function(e){return function(t,n){return pp.shouldPutBrInPre(t)===e}},KR=function(e,t){return zR.shouldInsertBr(e)},YR=function(e,t){return t},XR=function(e){var t=pp.getForcedRootBlock(e),n=GD.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},GR=function(e,t){return function(n,r){var o=G(e,function(e,t){return e&&t(n,r)},!0);return o?R.some(t):R.none()}},JR=function(e,t){return f_.evaluateUntil([GR([jR],FR.none()),GR([qR()],FR.br()),GR([UR(!0),WR(!1),YR],FR.br()),GR([UR(!0),WR(!1)],FR.block()),GR([UR(!0),WR(!0),YR],FR.block()),GR([UR(!0),WR(!0)],FR.br()),GR([VR(!0),YR],FR.br()),GR([VR(!0)],FR.block()),GR([HR(!0),YR,XR],FR.block()),GR([HR(!0)],FR.br()),GR([KR],FR.br()),GR([HR(!1),YR],FR.br()),GR([XR],FR.block())],[e,!(!t||!t.shiftKey)]).getOr(FR.none())},QR={getAction:JR},ZR=function(e,t){QR.getAction(e,t).fold(function(){MR.insert(e,t)},function(){wR.insert(e,t)},n)},eN={insert:ZR},tN=function(e){e.typing&&(e.typing=!1,e.add())},nN=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),tN(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),eN.insert(e,t)}))},rN=function(e){e.on("keydown",function(t){t.keyCode===Ib.ENTER&&nN(e,t)})},oN={setup:rN},aN=function(e,t){var n=t.container(),r=t.offset();return Ei.isText(n)?(n.insertData(r,e),R.some(nl(n,r+e.length))):Nd(t).map(function(n){var r=mo.fromText(e);return t.isAtEnd()?js(n,r):Fs(n,r),nl(r.dom(),e.length)})},iN=i(aN," "),sN=i(aN," "),uN=function(e,t,n){return uf.navigateIgnore(e,t,n,jb)},cN=function(e,t,n){var r=Y(ov.parentsAndSelf(mo.fromDom(n.container()),t),Za);return ce(r).fold(function(){return uN(e,t.dom(),n).forall(function(e){return!1===xd(e,n,t.dom())})},function(t){return uN(e,t.dom(),n).isNone()})},lN=i(cN,!1),dN=i(cN,!0),fN=" ",mN=function(e){return nl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},pN=function(e,t){var n=Y(ov.parentsAndSelf(mo.fromDom(t.container()),e),Za);return ce(n).getOr(e)},hN=function(e,t){return mN(t)?Fb(t):Fb(t)||uf.prevPosition(pN(e,t).dom(),t).exists(Fb)},gN=function(e,t){return mN(t)?zb(t):zb(t)||uf.nextPosition(pN(e,t).dom(),t).exists(zb)},vN=function(e){return V(["pre","pre-line","pre-wrap"],e)},bN=function(e){return Nd(e).bind(function(e){return fu(e,wo)}).exists(function(e){return vN(zo(e,"white-space"))})},yN=function(e,t){return uf.prevPosition(e.dom(),t).isNone()},wN=function(e,t){return uf.nextPosition(e.dom(),t).isNone()},xN=function(e,t){return yN(e,t)||wN(e,t)||lN(e,t)||dN(e,t)||iE(e,t)||aE(e,t)},CN=function(e,t){return!bN(t)&&(xN(e,t)||hN(e,t)||gN(e,t))},SN=function(e,t){return!bN(t)&&(lN(e,t)||iE(e,t)||hN(e,t))},kN=function(e){var t=e.container(),n=e.offset();return Ei.isText(t)&&n<t.data.length?nl(t,n+1):e},_N=function(e,t){var n=kN(t);return!bN(n)&&(dN(e,n)||aE(e,n)||gN(e,n))},TN=function(e,t){return SN(e,t)||_N(e,t)},ON=function(e,t){return Mb(e.charAt(t))},EN=function(e){var t=e.container();return Ei.isText(t)&&Yr(t.data,fN)},DN=function(e){return U(e.split(""),function(e,t,n){return Mb(e)&&t>0&&t<n.length-1&&Lb(n[t-1])&&Lb(n[t+1])?" ":e}).join("")},RN=function(e,t){var n=t.data,r=nl(t,0);return!(!ON(n,0)||TN(e,r))&&(t.data=" "+n.slice(1),!0)},NN=function(e){var t=e.data,n=DN(t);return n!==t&&(e.data=n,!0)},IN=function(e,t){var n=t.data,r=nl(t,n.length-1);return!(!ON(n,n.length-1)||TN(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},AN=function(e,t){return R.some(t).filter(EN).bind(function(t){var n=t.container(),r=RN(e,n)||NN(n)||IN(e,n);return r?R.some(t):R.none()})},MN=function(e){var t=mo.fromDom(e.getBody());e.selection.isCollapsed()&&AN(t,nl.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},BN=function(e){return function(t){return t.fold(function(t){return uf.prevPosition(e.dom(),ol.before(t))},function(e){return uf.firstPositionIn(e)},function(e){return uf.lastPositionIn(e)},function(t){return uf.nextPosition(e.dom(),ol.after(t))})}},LN=function(e,t){return function(n){return CN(e,n)?iN(t):sN(t)}},PN=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},zN=function(e){var t=ol.fromRangeStart(e.selection.getRng()),n=mo.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=i(l_.isInlineTarget,e),o=ol.fromRangeStart(e.selection.getRng());return A_.readLocation(r,e.getBody(),o).bind(BN(n)).bind(LN(n,t)).exists(PN(e))}return!1},FN=function(e,t){hO.execute([{keyCode:Ib.SPACEBAR,action:hO.action(zN,e)}],t).each(function(e){t.preventDefault()})},jN=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&FN(e,t)})},HN={setup:jN},VN=function(e){return pu(mo.fromDom(e.getBody()),"*[data-mce-caret]").fold(o(null),function(e){return e.dom()})},$N=function(e){e.selection.setRng(e.selection.getRng())},UN=function(e,t){t.hasAttribute("data-mce-caret")&&(Zu(t),$N(e),e.selection.scrollIntoView(t))},qN=function(e,t){var n=VN(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void UN(e,n)):void(Uu(n)&&(UN(e,n),e.undoManager.add()))},WN=function(e){e.on("keyup compositionstart",i(qN,e))},KN={setup:WN},YN=io.detect().browser,XN=function(e){var t=Xs(function(){e.composing||MN(e)},0);YN.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},GN=function(e){XN(e),e.on("input",function(t){!1===t.isComposing&&MN(e)})},JN=function(e,t){hO.execute([{keyCode:Ib.END,action:kT(e,!0)},{keyCode:Ib.HOME,action:kT(e,!1)}],t).each(function(e){t.preventDefault()})},QN=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&JN(e,t)})},ZN={setup:QN},eI=function(e){var t=J_.setupSelectedState(e);KN.setup(e),bO.setup(e,t),$D.setup(e,t),oN.setup(e),HN.setup(e),GN(e),ZN.setup(e)},tI={setup:eI};function nI(e){var n=zn.each,r=Ib.BACKSPACE,o=Ib.DELETE,a=e.dom,i=e.selection,s=e.settings,u=e.parser,c=Oe.gecko,l=Oe.ie,d=Oe.webkit,f="data:text/mce-internal,",m=l?"Text":"URL",p=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},h=function(e){return e.isDefaultPrevented()},g=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&i.select(t.target),n=e.selection.getContent(),n.length>0&&(r=f+escape(e.id)+","+escape(n),t.dataTransfer.setData(m,r)))},v=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(m),t&&t.indexOf(f)>=0)?(t=t.substr(f.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},b=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},y=function(){var t=function(e){var t=a.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),o=a.createRng();o.selectNode(e.getBody());var i=t(o);return r===i};e.on("keydown",function(t){var i,s,u=t.keyCode;if(!h(t)&&(u===o||u===r)){if(i=e.selection.isCollapsed(),s=e.getBody(),i&&!a.isEmpty(s))return;if(!i&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&a.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}})},w=function(){e.shortcuts.add("meta+a",null,"SelectAll")},x=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if($u(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)})},C=function(){e.on("keydown",function(t){if(!h(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var n=i.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(a.remove(o),t.preventDefault())}}})},S=function(){t.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!h(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Le.setEditorTimeout(e,function(){n.focus()})}})},k=function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),i.select(n))})},_=function(){var t=function(){var t=a.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==e.getBody()&&(a.setAttrib(r,"style",null),n(t,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(n){var o;if(!h(n)&&(8===n.keyCode||46===n.keyCode)&&r())return o=t(),e.getDoc().execCommand("delete",!1,null),o(),n.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(n){var o;!h(n)&&r()&&(o=t(),Le.setEditorTimeout(e,function(){o()}))})},T=function(){e.on("keydown",function(e){if(!h(e)&&e.keyCode===r&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},O=function(){e.on("keydown",function(t){var n,r,o,s,u;if(!h(t)&&t.keyCode===Ib.BACKSPACE&&(n=i.getRng(),r=n.startContainer,o=n.startOffset,s=a.getRoot(),u=r,n.collapsed&&0===o)){while(u&&u.parentNode&&u.parentNode.firstChild===u&&u.parentNode!==s)u=u.parentNode;"BLOCKQUOTE"===u.tagName&&(e.formatter.toggle("blockquote",null,u),n=a.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}})},E=function(){var t=function(){p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),s.object_resizing||p("enableObjectResizing",!1)};s.readonly||e.on("BeforeExecCommand MouseDown",t)},D=function(){var t=function(){n(a.select("a"),function(e){var t=e.parentNode,n=a.getRoot();if(t.lastChild===e){while(t&&!a.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||t()})},R=function(){s.forced_root_block&&e.on("init",function(){p("DefaultParagraphSeparator",pp.getForcedRootBlock(e))})},N=function(){e.on("keyup focusin mouseup",function(e){Ib.modifierPressed(e)||i.normalize()},!0)},I=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},A=function(){e.inline||e.on("keydown",function(){t.document.activeElement===t.document.body&&e.getWin().focus()})},M=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(Oe.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},B=function(){Oe.mac&&e.on("keydown",function(t){!Ib.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},L=function(){p("AutoUrlDetect",!1)},P=function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},z=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})},F=function(){u.addNodeFilter("br",function(e){var t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},j=function(){e.on("dragstart",function(e){g(e)}),e.on("drop",function(t){if(!h(t)){var n=v(t);if(n&&n.id!==e.id){t.preventDefault();var r=hS.fromPoint(t.x,t.y,e.getDoc());i.setRng(r),b(n.html,!0)}}})},H=function(){},V=function(){var t;return!c||e.removed?0:(t=e.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount)};return O(),y(),Oe.windowsPhone||N(),d&&(x(),k(),R(),z(),T(),F(),Oe.iOS?(A(),M(),P()):w()),Oe.ie>=11&&(M(),T()),Oe.ie&&(w(),L(),j()),c&&(C(),S(),_(),E(),D(),I(),B(),T()),{refreshContentEditable:H,isHidden:V}}var rI=function(e){return Ei.isElement(e)&&ri(mo.fromDom(e))},oI=function(e){var t=e.selection.getRng(),n=nl.fromRangeStart(t),r=nl.fromRangeEnd(t);if(nl.isElementPosition(n)){var o=n.container();rI(o)&&uf.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(nl.isElementPosition(r)){o=n.container();rI(o)&&uf.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Hx.normalize(t))},aI=function(e){e.on("click",function(t){t.detail>=3&&oI(e)})},iI=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},sI=function(e){e.parser.addNodeFilter("details",function(e){q(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){q(e,function(e){var t=e.attr("data-mce-open");e.attr("open",A(t)?t:null),e.attr("data-mce-open",null)})})},uI=function(e){iI(e),sI(e)},cI=gs.DOM,lI=function(e,t){var n=mo.fromDom(e.getDoc().head),r=mo.fromTag("style");Ao(r,"type","text/css"),Vs(r,mo.fromText(t)),Vs(n,r)},dI=function(e){var t=VC(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){var r,o,a,i=t.length,s=e.dom;while(i--)if(r=t[i],o=r.attr(n),a="data-mce-"+n,!r.attributes.map[a]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=s.serializeStyle(s.parseStyle(o),r.name),o.length||(o=null),r.attr(a,o),r.attr(n,o)):"tabindex"===n?(r.attr(a,o),r.attr(n,null)):r.attr(a,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){var t,n=e.length;while(n--)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){var n,r=t.length,o=e.schema.getNonEmptyElements();while(r--)n=t[r],n.isEmpty(o)&&0===n.getAll("br").length&&(n.append(new Tm("br",1)).shortEnded=!0)}),t},fI=function(e){e.settings.auto_focus&&Le.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},mI=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),fI(e)},pI=function(e){return e.inline?cI.styleSheetLoader:e.dom.styleSheetLoader},hI=function(e,n){var r,o,a=e.settings,i=e.getElement(),s=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),n||e.inline||(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(e.on("remove",function(){var e=this.getBody();cI.removeClass(e,"mce-content-body"),cI.removeClass(e,"mce-edit-focus"),cI.setAttrib(e,"contentEditable",null)}),cI.addClass(i,"mce-content-body"),e.contentDocument=s=a.content_document||t.document,e.contentWindow=a.content_window||t.window,e.bodyElement=i,e.contentAreaContainer=i,a.content_document=a.content_window=null,a.root_name=i.nodeName.toLowerCase()),r=e.getBody(),r.disabled=!0,e.readonly=a.readonly,e.readonly||(e.inline&&"static"===cI.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=Zg(e),e.schema=os(a),e.dom=gs(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,class_filter:a.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:pp.shouldUseContentCssCors(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=dI(e),e.serializer=GC(a,e),e.selection=Fk(e.dom,e.getWin(),e.serializer,e),e.annotator=Cm(e),e.formatter=mC(e),e.undoManager=Ty(e),e._nodeChangeDispatcher=new xv(e),e._selectionOverrides=Zb(e),uI(e),aI(e),tI.setup(e),dv.setup(e),e.fire("PreInit"),a.browser_spellcheck||a.gecko_spellcheck||(s.body.spellcheck=!1,cI.setAttrib(r,"spellcheck","false")),e.quirks=nI(e),e.fire("PostRender"),a.directionality&&(r.dir=a.directionality),a.protect&&e.on("BeforeSetContent",function(e){zn.each(a.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(o="",zn.each(e.contentStyles,function(e){o+=e+"\r\n"}),e.dom.addStyle(o)),pI(e).loadAll(e.contentCSS,function(t){mI(e)},function(t){mI(e)}),a.content_style&&lI(e,a.content_style)},gI={initContentBody:hI},vI=gs.DOM,bI=function(e,n){if(t.document.domain!==t.window.location.hostname&&Oe.ie&&Oe.ie<12){var r=Gg.uuid("mce");e[r]=function(){gI.initContentBody(e)};var o='javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return vI.setAttrib(n,"src",o),!0}return!1},yI=function(e,t,n,r){var o=mo.fromTag("iframe");return Mo(o,r),Mo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ou(o,"tox-edit-area__iframe"),o},wI=function(e){var t,n,r;return r=pp.getDocType(e)+"<html><head>",pp.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=pp.getBodyId(e),n=pp.getBodyClass(e),pp.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+pp.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>',r},xI=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=yI(e.id,n,t.height,pp.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=bI(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=wI(e),vI.add(t.iframeContainer,r),o},CI=function(e,t){var n=xI(e,t);t.editorContainer&&(vI.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=vI.isHidden(t.editorContainer)),e.getElement().style.display="none",vI.setAttrib(e.id,"aria-hidden","true"),n||gI.initContentBody(e)},SI={init:CI},kI=function(e){return/^[a-z0-9\-]+$/i.test(e)},_I=function(e){var t=pp.getContentCss(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",a=!0===e.inline;return U(t,function(t){return kI(t)&&!a?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},TI=function(e){e.contentCSS=e.contentCSS.concat(_I(e))},OI=function(){return{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',comment:'<svg width="24" height="24"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z" fill-rule="nonzero"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',indeterminate:'<svg width="24" height="24"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zM9 11a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H9z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm-2.4-6.1L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z" fill-rule="evenodd"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16z" fill-rule="evenodd"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}},EI=gs.DOM,DI=function(e,t,n){var r=Og.get(n),o=Og.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=zn.trim(n),r&&-1===zn.inArray(t,n)){if(zn.each(Og.dependencies(n),function(n){DI(e,t,n)}),e.plugins[n])return;try{var a=new r(e,o,e.$);e.plugins[n]=a,a.init&&(a.init(e,o),t.push(n))}catch(pL){kg.pluginInitError(e,n,pL)}}},RI=function(e){return e.replace(/^\-/,"")},NI=function(e){var t=[];zn.each(e.settings.plugins.split(/[ ,]/),function(n){DI(e,t,RI(n))})},II=function(e){var t=zn.trim(e.settings.icons),n=e.ui.registry.getAll().icons,r=OI(),o=Cs({},r,Tg.get(t).icons);ko(o,function(t,r){Do(n,r)||e.ui.registry.addIcon(r,t)})},AI=function(e){var t=e.settings.theme;if(A(t)){e.settings.theme=RI(t);var n=Eg.get(t);e.theme=new n(e,Eg.urls[t]),e.theme.init&&e.theme.init(e,Eg.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},MI=function(e){return e.theme.renderUI()},BI=function(e){var t=e.getElement(),n=e.settings.theme(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},LI=function(e){return{editorContainer:e,iframeContainer:e}},PI=function(e){var t=EI.create("div");return EI.insertAfter(t,e),LI(t)},zI=function(e){var t=e.getElement();return e.inline?LI(null):PI(t)},FI=function(e){var t=e.settings,n=e.getElement();return e.orgDisplay=n.style.display,A(t.theme)?MI(e):z(t.theme)?BI(e):zI(e)},jI=function(e){e.fire("ScriptsLoaded"),II(e),AI(e),NI(e);var t=FI(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,TI(e),e.inline?gI.initContentBody(e):SI.init(e,t)},HI={init:jI},VI=gs.DOM,$I=function(e){return"-"===e.charAt(0)},UI=function(e,t){var n=pp.getLanguageCode(t),r=pp.getLanguageUrl(t);!1===Ls.hasCode(n)&&"en"!==n&&(""!==r?e.add(r):e.add(t.editorManager.baseURL+"/langs/"+n+".js"))},qI=function(e,t,n,r){var o=t.settings,a=o.theme;if(A(a)){if(!$I(a)&&!Eg.urls.hasOwnProperty(a)){var i=o.theme_url;i?Eg.load(a,t.documentBaseURI.toAbsolute(i)):Eg.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){Eg.waitFor(a,r)})}else r()},WI=function(e){var t=zn.trim(e.getParam("icons","","string"));if(t.length>0&&!Tg.has(t)){var n=e.editorManager.baseURL+"/icons/"+t+"/icons.js";xs.ScriptLoader.add(n)}},KI=function(e,t){zn.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),zn.each(e.external_plugins,function(t,n){Og.load(n,t),e.plugins+=" "+n}),zn.each(e.plugins.split(/[ ,]/),function(e){if(e=zn.trim(e),e&&!Og.urls[e])if($I(e)){e=e.substr(1,e.length);var n=Og.dependencies(e);zn.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=Og.createUrl(n,e),Og.load(e.resource,e)})}else Og.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},YI=function(e,t){var n=xs.ScriptLoader;qI(n,e,t,function(){UI(n,e),WI(e),KI(e.settings,t),n.loadQueue(function(){e.removed||HI.init(e)},e,function(t){kg.pluginLoadError(e,t[0]),e.removed||HI.init(e)})})},XI=function(e){var n=e.settings,r=e.id;Ls.setCode(pp.getLanguageCode(e));var o=function(){VI.unbind(t.window,"ready",o),e.render()};if(Ye.Event.domLoaded){if(e.getElement()&&Oe.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||VI.getParent(r,"form");a&&(e.formElement=a,n.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(VI.insertAfter(VI.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},VI.bind(a,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!n.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=pg(e),e.notificationManager=fg(e),"xml"===n.encoding&&e.on("GetContent",function(e){e.save&&(e.content=VI.encode(e.content))}),n.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),YI(e,e.suffix)}}else VI.bind(t.window,"ready",o)},GI={render:XI},JI=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},QI=function(e,t,n){su(e,t)&&!1===n?iu(e,t):n&&ou(e,t)},ZI=function(e,t){QI(mo.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",JI(e,"StyleWithCSS",!1),JI(e,"enableInlineTableEditing",!1),JI(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},eA=function(e,t){t!==tA(e)&&(e.initialized?ZI(e,"readonly"===t):e.on("init",function(){ZI(e,"readonly"===t)}),xh.fireSwitchMode(e,t))},tA=function(e){return e.readonly?"readonly":"design"},nA=function(e){return!0===e.readonly},rA=function(e){return e.firstChild&&e.firstChild===e.lastChild},oA=function(e){return"br"===e.name||" "===e.value},aA=function(e,t){var n=e.getBlockElements();return n[t.name]&&rA(t)&&oA(t.firstChild)},iA=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||aA(e,t))},sA=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),iA(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},uA=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},cA=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return uA(o)},lA=function(e){return zn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},dA=function(e){return" "===e.data||Ei.isBr(e)},fA=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&dA(e.firstChild)},mA=function(e){return!e.firstChild||fA(e)},pA=function(e){return e.length>0&&mA(e[e.length-1])?e.slice(0,-1):e},hA=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},gA=function(e,t){return!!hA(e,t)},vA=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},bA=function(e,t){var n=ol.before(e),r=Kd(t),o=r.next(n);return o?o.toRange():null},yA=function(e,t){var n=ol.after(e),r=Kd(t),o=r.prev(n);return o?o.toRange():null},wA=function(e,t,n,r){var o=vA(e,r),a=e.parentNode;return a.insertBefore(o[0],e),zn.each(t,function(t){a.insertBefore(t,e)}),a.insertBefore(o[1],e),a.removeChild(e),yA(t[t.length-1],n)},xA=function(e,t,n){var r=e.parentNode;return zn.each(t,function(t){r.insertBefore(t,e)}),bA(e,n)},CA=function(e,t,n,r){return r.insertAfter(t.reverse(),e),yA(t[0],n)},SA=function(e,t,n,r){var o=cA(t,e,r),a=hA(t,n.startContainer),i=pA(lA(o.firstChild)),s=1,u=2,c=t.getRoot(),l=function(e){var r=ol.fromRangeStart(n),o=Kd(t.getRoot()),i=e===s?o.prev(r):o.next(r);return!i||hA(t,i.getNode())!==a};return l(s)?xA(a,i,c):l(u)?CA(a,i,c,t):wA(a,i,c,n)},kA={isListFragment:sA,insertAtCaret:SA,isParentBlockLi:gA,trimListItems:pA,listItems:lA},_A=function(e,t){return Ei.isText(e)&&" "===e.nodeValue[t-1]},TA=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},OA=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},EA=Ei.matchNodeNames("td th"),DA=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&_A(r,o)&&Ei.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},RA=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):DA(e,t)}},NA=function(e,t){R.from(e.getParent(t,"td,th")).map(mo.fromDom).each(Ay.trimBlockTrailingBr)},IA=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),a=new rx(r);zn.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&a.compare(t,e)&&r.remove(e,!0)})}},AA=function(e){var t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},MA=function(e){zn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},BA=function(e){return!!e.getAttribute("data-mce-fragment")},LA=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},PA=function(e,t){var n,r,o,a,i,s=e.dom,u=e.selection,c=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){if(e.selection.scrollIntoView(t),n=c(t),n)return s.remove(t),void u.select(n);var l=s.createRng();a=t.previousSibling,a&&3===a.nodeType?(l.setStart(a,a.nodeValue.length),Oe.ie||(i=t.nextSibling,i&&3===i.nodeType&&(a.appendData(i.data),i.parentNode.removeChild(i)))):(l.setStartBefore(t),l.setEndBefore(t));var d=function(t){var n=ol.fromRangeStart(t),r=Kd(e.getBody());if(n=r.next(n),n)return n.toRange()};r=s.getParent(t,s.isBlock),s.remove(t),r&&s.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),EA(r)||BA(r)||!(o=d(l))?s.add(r,s.create("br",{"data-mce-bogus":"1"})):(l=o,s.remove(r))),u.setRng(l)}},zA=function(e,t,n){var r,o,a,i,s,u,c,l,d,f,m,p=e.selection,h=e.dom;if(/^ | $/.test(t)&&(t=TA(p.getRng(),t)),r=e.parser,m=n.merge,o=xp({validate:e.settings.validate},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:t,format:"html",selection:!0,paste:n.paste},u=e.fire("BeforeSetContent",u),u.isDefaultPrevented())e.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});else{t=u.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,f),l=p.getRng();var g=l.startContainer||(l.parentElement?l.parentElement():null),v=e.getBody();g===v&&p.isCollapsed()&&h.isBlock(v.firstChild)&&LA(e,v.firstChild)&&h.isEmpty(v.firstChild)&&(l=h.createRng(),l.setStart(v.firstChild,0),l.setEnd(v.firstChild,0),p.setRng(l)),p.isCollapsed()||(e.selection.setRng(Hx.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=OA(e.selection.getRng(),t)),a=p.getNode();var b={context:a.nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(t,b),!0===n.paste&&kA.isListFragment(e.schema,s)&&kA.isParentBlockLi(h,a))return l=kA.insertAtCaret(o,h,e.selection.getRng(),s),e.selection.setRng(l),void e.fire("SetContent",u);if(AA(s),d=s.lastChild,"mce_marker"===d.attr("id"))for(c=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!h.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(c,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(a),b.invalid){DA(e,f),a=p.getNode(),i=e.getBody(),9===a.nodeType?a=d=i:d=a;while(d!==i)a=d,d=d.parentNode;t=a===i?i.innerHTML:h.getOuterHTML(a),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(s)}))),a===i?h.setHTML(i,t):h.setOuterHTML(a,t)}else t=o.serialize(s),RA(e,t,a);IA(e,m),PA(e,h.get("mce_marker")),MA(e.getBody()),NA(e.dom,e.selection.getStart()),e.fire("SetContent",u),e.addVisual()}},FA=function(e){var t;return"string"!==typeof e?(t=zn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},jA=function(e,t){var n=FA(t);zA(e,n.content,n.details)},HA={insertAtCaret:jA},VA=function(e,t){e.getDoc().execCommand(t,!1,null)},$A=function(e){EE.backspaceDelete(e,!1)||AE.backspaceDelete(e,!1)||VE.backspaceDelete(e,!1)||YO.backspaceDelete(e,!1)||LD.backspaceDelete(e)||nE.backspaceDelete(e,!1)||YE.backspaceDelete(e,!1)||(VA(e,"Delete"),kO.paddEmptyBody(e))},UA=function(e){EE.backspaceDelete(e,!0)||AE.backspaceDelete(e,!0)||VE.backspaceDelete(e,!0)||YO.backspaceDelete(e,!0)||LD.backspaceDelete(e)||nE.backspaceDelete(e,!0)||YE.backspaceDelete(e,!0)||VA(e,"ForwardDelete")},qA={deleteCommand:$A,forwardDeleteCommand:UA},WA=function(e,t,n){var r=function(t){return jo(t,e)},o=function(e){return ta(mo.fromDom(t),e)};return fu(mo.fromDom(n),function(e){return r(e).isSome()},o).bind(r)},KA=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},YA=function(e,t){return/[0-9.]+px$/.test(e)?KA(72*parseInt(e,10)/96,t||0)+"pt":e},XA=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},GA=function(e,t){return R.from(gs.DOM.getStyle(t,e,!0))},JA=function(e){return function(t,n){return R.from(n).map(mo.fromDom).filter(wo).bind(function(n){return WA(e,t,n.dom()).or(GA(e,n.dom()))}).getOr("")}},QA={getFontSize:JA("font-size"),getFontFamily:r(XA,JA("font-family")),toPt:YA},ZA=function(e){return uf.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return Ei.isText(t)?t.parentNode:t})},eM=function(e,t){return e.startContainer===t&&0===e.startOffset},tM=function(e){return R.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return eM(t,n)?R.none():R.from(e.selection.getStart(!0))})},nM=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=pp.getFontStyleValues(e),o=pp.getFontSizeClasses(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},rM=function(e,t){e.formatter.toggle("fontname",{value:nM(e,t)}),e.nodeChanged()},oM=function(e){return tM(e).fold(function(){return ZA(e).map(function(t){return QA.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return QA.getFontFamily(e.getBody(),t)})},aM=function(e,t){e.formatter.toggle("fontsize",{value:nM(e,t)}),e.nodeChanged()},iM=function(e){return tM(e).fold(function(){return ZA(e).map(function(t){return QA.getFontSize(e.getBody(),t)}).getOr("")},function(t){return QA.getFontSize(e.getBody(),t)})},sM=function(e){return fu(e,function(e){return Ei.isContentEditableTrue(e.dom())||Ei.isContentEditableFalse(e.dom())}).exists(function(e){return Ei.isContentEditableTrue(e.dom())})},uM=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},cM=function(e,t){var n=e||ei(t)?"margin":"padding",r="rtl"===zo(t,"direction")?"-right":"-left";return n+r},lM=function(e,t,n,r,o,a){var i=cM(n,mo.fromDom(a));if("outdent"===t){var s=Math.max(0,uM(a.style[i])-r);e.setStyle(a,i,s?s+o:"")}else{s=uM(a.style[i])+r+o;e.setStyle(a,i,s)}},dM=function(e,t){return re(t,function(t){var n=cM(pp.shouldIndentUseMargin(e),t),r=jo(t,n).map(uM).getOr(0),o=e.dom.getContentEditable(t.dom());return"false"!==o&&r>0})},fM=function(e){var t=hM(e);return!0!==e.readonly&&(t.length>1||dM(e,t))},mM=function(e){return oi(e)||ai(e)},pM=function(e){return ca(e).map(mM).getOr(!1)},hM=function(e){return Y(U(e.selection.getSelectedBlocks(),mo.fromDom),function(e){return!mM(e)&&!pM(e)&&sM(e)})},gM=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,a=pp.getIndentation(e),i=/[a-z%]+$/i.exec(a)[0],s=parseInt(a,10),u=pp.shouldIndentUseMargin(e),c=pp.getForcedRootBlock(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),q(hM(e),function(e){lM(n,t,u,s,i,e.dom())})},vM=zn.each,bM=zn.extend,yM=zn.map,wM=zn.inArray;function xM(e){var t,n,r,o,a={state:{},exec:{},value:{}};e.on("PreInit",function(){t=e.dom,n=e.selection,r=e.formatter});var i=function(t,n,r,o){var i,s,u=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?Kp.restore(e):e.focus(),o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r}),o.isDefaultPrevented())return!1;if(s=t.toLowerCase(),i=a.exec[s])return i(s,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(vM(e.plugins,function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),u=!0,!1}),u)return u;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{u=e.getDoc().execCommand(t,n,r)}catch(c){}return!!u&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=a.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(r){}return!1}},u=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=a.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(r){}}},c=function(e,t){t=t||"exec",vM(e,function(e,n){vM(n.toLowerCase().split(","),function(n){a[t][n]=e})})},l=function(t,n,r){t=t.toLowerCase(),a.exec[t]=function(t,o,a,i){return n.call(r||e,o,a,i)}},d=function(t){if(t=t.toLowerCase(),a.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(n){}return!1},f=function(t,n,r){t=t.toLowerCase(),a.state[t]=function(){return n.call(r||e)}},m=function(t,n,r){t=t.toLowerCase(),a.value[t]=function(){return n.call(r||e)}},p=function(e){return e=e.toLowerCase(),!!a.exec[e]};bM(this,{execCommand:i,queryCommandState:s,queryCommandValue:u,queryCommandSupported:d,addCommands:c,addCommand:l,addQueryStateHandler:f,addQueryValueHandler:m,hasCustomCommand:p});var h=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},g=function(e){return r.match(e)},v=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},b=function(e){o=n.getBookmark(e)},y=function(){n.moveToBookmark(o)};c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{h(t)}catch(a){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Oe.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),vM("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&v("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,o;h(e),r=t.getParent(n.getNode(),"ol,ul"),r&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(b(),t.split(o,r),y()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){v(e)},"ForeColor,HiliteColor":function(e,t,n){v(e,n)},FontName:function(t,n,r){rM(e,r)},FontSize:function(t,n,r){aM(e,r)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){v("blockquote")},FormatBlock:function(e,t,n){return v(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var a=o||n.getNode();a!==e.getBody()&&(b(),e.dom.remove(a,!0),y())},mceSelectNodeDepth:function(r,o,a){var i=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&i++===a)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){HA.insertAtCaret(e,r)},mceInsertRawHTML:function(t,r,o){n.setContent("tiny_mce_marker");var a=e.getContent();e.setContent(a.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(t,n,r){eN.insert(e,r)},mceToggleFormat:function(e,t,n){v(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){gM(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,a){var i;"string"===typeof a&&(a={href:a}),i=t.getParent(n.getNode(),"a"),a.href=a.href.replace(" ","%20"),i&&a.href||r.remove("link"),a.href&&r.apply("link",a,i)},selectAll:function(){var e=t.getParent(n.getStart(),Ei.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},delete:function(){qA.deleteCommand(e)},forwardDelete:function(){qA.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return MR.insert(e,r),!0}});var w=function(e){return function(){var o=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),a=yM(o,function(t){return!!r.matchNode(t,e)});return-1!==wM(a,!0)}};c({JustifyLeft:w("alignleft"),JustifyCenter:w("aligncenter"),JustifyRight:w("alignright"),JustifyFull:w("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return g(e)},mceBlockQuote:function(){return g("blockquote")},Outdent:function(){return fM(e)},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),c({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),m("FontName",function(){return oM(e)},this),m("FontSize",function(){return iM(e)},this)}var CM=zn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),SM=function(e){var t,n,r=this,o={},a=function(){return!1},i=function(){return!0};e=e||{},t=e.scope||r,n=e.toggleEvent||a;var s=function(n,r){var s,u,l,d;if(n=n.toLowerCase(),r=r||{},r.type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=a,r.isPropagationStopped=a,r.isImmediatePropagationStopped=a),e.beforeFire&&e.beforeFire(r),s=o[n],s)for(u=0,l=s.length;u<l;u++){if(d=s[u],d.once&&c(n,d.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===d.func.call(t,r))return r.preventDefault(),r}return r},u=function(e,t,i,s){var u,c,l;if(!1===t&&(t=a),t){t={func:t},s&&zn.extend(t,s),c=e.toLowerCase().split(" "),l=c.length;while(l--)e=c[l],u=o[e],u||(u=o[e]=[],n(e,!0)),i?u.unshift(t):u.push(t)}return r},c=function(e,t){var a,i,s,u,c;if(e){u=e.toLowerCase().split(" "),a=u.length;while(a--){if(e=u[a],i=o[e],!e){for(s in o)n(s,!1),delete o[s];return r}if(i){if(t){c=i.length;while(c--)i[c].func===t&&(i=i.slice(0,c).concat(i.slice(c+1)),o[e]=i)}else i.length=0;i.length||(n(e,!1),delete o[e])}}}else{for(e in o)n(e,!1);o={}}return r},l=function(e,t,n){return u(e,t,n,{once:!0})},d=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)};r.fire=s,r.on=u,r.off=c,r.once=l,r.has=d};SM.isNative=function(e){return!!CM[e.toLowerCase()]};var kM,_M=function(e){return e._eventDispatcher||(e._eventDispatcher=new SM({scope:e,toggleEvent:function(t,n){SM.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},TM={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;if(t=_M(r).fire(e,t,n),!1!==n&&r.parent){var o=r.parent();while(o&&!t.isPropagationStopped())o.fire(e,t,!1),o=o.parent()}return t},on:function(e,t,n){return _M(this).on(e,t,n)},off:function(e,t){return _M(this).off(e,t)},once:function(e,t){return _M(this).once(e,t)},hasEventListeners:function(e){return _M(this).has(e)}},OM=gs.DOM,EM=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=OM.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},DM=function(e){return!e.hidden&&!e.readonly},RM=function(e,t,n){DM(e)?e.fire(t,n):nA(e)&&n.preventDefault()},NM=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=EM(e,t),e.settings.event_root){if(kM||(kM={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&kM){for(t in kM)e.dom.unbind(EM(e,t));kM=null}})),kM[t])return;r=function(n){var r=n.target,o=e.editorManager.get(),a=o.length;while(a--){var i=o[a].getBody();(i===r||OM.isChildOf(r,i))&&RM(o[a],t,n)}},kM[t]=r,OM.bind(n,t,r)}else r=function(n){RM(e,t,n)},OM.bind(n,t,r),e.delegates[t]=r},IM={bindPendingEventDelegates:function(){var e=this;zn.each(e._pendingNativeEvents,function(t){NM(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?NM(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(EM(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(EM(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}};IM=zn.extend({},TM,IM);var AM=IM,MM=zn.each,BM=zn.explode,LM={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},PM=zn.makeMap("alt,ctrl,shift,meta,access");function zM(e){var t=this,n={},r=[],o=function(e){var t,n,r={};for(n in MM(BM(e,"+"),function(e){e in PM?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=LM[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],PM)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,Oe.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Oe.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},a=function(t,n,r,a){var i;return i=zn.map(BM(t,">"),o),i[i.length-1]=zn.extend(i[i.length-1],{func:r,scope:a||e}),zn.extend(i[0],{desc:e.translate(n),subpatterns:i.slice(1)})},i=function(e){return e.altKey||e.ctrlKey||e.metaKey},s=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},u=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},c=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!i(e)&&!s(e)||e.isDefaultPrevented()||(MM(n,function(t){if(u(e,t))return r=t.subpatterns.slice(0),"keydown"===e.type&&c(t),!0}),u(e,r[0])&&(1===r.length&&"keydown"===e.type&&c(r[0]),r.shift()))}),t.add=function(t,r,o,i){var s;return s=o,"string"===typeof o?o=function(){e.execCommand(s,!1,null)}:zn.isArray(s)&&(o=function(){e.execCommand(s[0],s[1],s[2])}),MM(BM(zn.trim(t.toLowerCase())),function(e){var t=a(e,r,o,i);n[t.id]=t}),!0},t.remove=function(e){var t=a(e);return!!n[t.id]&&(delete n[t.id],!0)}}var FM=zn.each,jM=zn.trim,HM="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),VM={ftp:21,http:80,https:443,mailto:25},$M=function(e,n){var r,o,a=this;if(e=jM(e),n=a.settings=n||{},r=n.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))a.source=e;else{var i=0===e.indexOf("//");0!==e.indexOf("/")||i||(e=(r&&r.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(o=n.base_uri?n.base_uri.path:new $M(t.document.location.href).directory,""==n.base_uri.protocol?e="//mce_host"+a.toAbsPath(o,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(o,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),FM(HM,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),a[t]=r}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),a.port||"mce_host"!==a.host||(a.port=r.port),a.host&&"mce_host"!==a.host||(a.host=r.host),a.source=""),i&&(a.protocol="")}};$M.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new $M(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),o=e.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new $M(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=VM[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,a=0,i="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){a=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){a=r+1;break}if(1===a)return t;for(r=0,o=e.length-(a-1);r<o;r++)i+="../";for(r=a-1,o=n.length;r<o;r++)i+=r!==a-1?"/"+n[r]:n[r];return i},toAbsPath:function(e,t){var n,r,o,a=0,i=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),FM(e,function(e){e&&i.push(e)}),e=i,n=t.length-1,i=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?a>0?a--:i.push(t[n]):a++);return n=e.length-a,o=n<=0?i.reverse().join("/"):e.slice(0,n).join("/")+"/"+i.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},$M.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},$M.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var UM=function(){var e={},t={},n={},r={},o={},a={},i={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=vC({type:t},r)}},u=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(a,"contexttoolbar"),addContextForm:s(a,"contextform"),addSidebar:s(i,"sidebar"),addIcon:u,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:a,sidebars:i}}}},qM=function(){var e=UM();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},WM=gs.DOM,KM=zn.extend,YM=zn.each,XM=zn.resolve,GM=Oe.ie,JM=function(e,t,n){var r=this,o=r.documentBaseUrl=n.documentBaseURL,a=n.baseURI;t=Wh(r,e,o,n.defaultSettings,t),r.settings=t,zs.languageLoad=t.language_load,zs.baseURL=n.baseURL,r.id=e,r.setDirty(!1),r.plugins={},r.documentBaseURI=new $M(t.document_base_url,{base_uri:a}),r.baseURI=a,r.contentCSS=[],r.contentStyles=[],r.shortcuts=new zM(r),r.loadedCSS={},r.editorCommands=new xM(r),r.suffix=n.suffix,r.editorManager=n,r.inline=t.inline,r.buttons={},r.menuItems={},t.cache_suffix&&(Oe.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(Oe.overrideViewPort=!1),r.ui={registry:qM()},n.fire("SetupEditor",{editor:r}),r.execCallback("setup",r),r.$=or.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})};JM.prototype={render:function(){GI.render(this)},focus:function(e){ih.focus(this,e)},hasFocus:function(){return ih.hasFocus(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,a=o.settings[e];if(a)return o.callbackLookup&&(r=o.callbackLookup[e])&&(a=r.func,r=r.scope),"string"===typeof a&&(r=a.replace(/\.\w+$/,""),r=r?XM(r):0,a=XM(a),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:a,scope:r}),a.apply(r||o,Array.prototype.slice.call(arguments,1))},translate:function(e){return Ls.translate(e)},getParam:function(e,t,n){return Jh(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},addSidebar:function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},addMenuItem:function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},addContextToolbar:function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(WM.show(e.getContainer()),WM.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(GM&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(WM.hide(e.getContainer()),WM.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();return n.removed?"":r?(e=e||{},e.load=!0,t=n.setContent(void 0!==r.value?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=WM.getParent(r.id,"form"))&&YM(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){return mh(this,e,t)},getContent:function(e){return bp(this,e)},insertContent:function(e,t){t&&(e=KM({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){eA(this,e)},getContainer:function(){var e=this;return e.container||(e.container=WM.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=WM.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,o.remove_script_host),e)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),YM(o.select("table,a",e),function(e){var a;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",a=o.getAttrib(e,"border"),void(a&&"0"!==a||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(a=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",a&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){Oh(this)},destroy:function(e){Eh(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},KM(JM.prototype,AM);var QM,ZM,eB,tB=function(e){return-1!==e.className.toString().indexOf("tox-")||-1!==e.className.toString().indexOf("mce-")},nB={isEditorUIElement:tB},rB=function(e){return"nodechange"===e.type&&e.selectionChange},oB=function(e,n){var r=function(){n.throttle()};gs.DOM.bind(t.document,"mouseup",r),e.on("remove",function(){gs.DOM.unbind(t.document,"mouseup",r)})},aB=function(e){e.on("focusout",function(){Kp.store(e)})},iB=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},sB=function(e,t){var n=io.detect().browser;n.isIE()?aB(e):iB(e,t),e.on("keyup nodechange",function(t){rB(t)||Kp.store(e)})},uB=function(e){var t=Xs(function(){Kp.store(e)},0);e.inline&&oB(e,t),e.on("init",function(){sB(e,t)}),e.on("remove",function(){t.cancel()})},cB={register:uB},lB=gs.DOM,dB=function(e){return nB.isEditorUIElement(e)},fB=function(e,t){var n=e?e.settings.custom_ui_selector:"",r=lB.getParent(t,function(t){return dB(t)||!!n&&e.dom.is(t,n)});return null!==r},mB=function(){try{return t.document.activeElement}catch(e){return t.document.body}},pB=function(e,n){var r=n.editor;cB.register(r),r.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),r.on("focusout",function(){var t=this;Le.setEditorTimeout(t,function(){var n=e.focusedEditor;fB(t,mB())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),QM||(QM=function(n){var r,o=e.activeEditor;r=n.target,o&&r.ownerDocument===t.document&&(r===t.document.body||fB(o,r)||e.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},lB.bind(t.document,"focusin",QM))},hB=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(lB.unbind(t.document,"focusin",QM),QM=null)},gB=function(e){e.on("AddEditor",i(pB,e)),e.on("RemoveEditor",i(hB,e))},vB={setup:gB,isEditorUIElement:dB,isUIElement:fB},bB=gs.DOM,yB=zn.explode,wB=zn.each,xB=zn.extend,CB=0,SB=!1,kB=[],_B=[],TB=function(e){return"length"!==e},OB=function(e){var t=e.type;wB(eB.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},EB=function(e){e!==SB&&(e?or(window).on("resize scroll",OB):or(window).off("resize scroll",OB),SB=e)},DB=function(e){var t=_B;delete kB[e.id];for(var n=0;n<kB.length;n++)if(kB[n]===e){kB.splice(n,1);break}return _B=Y(_B,function(t){return e!==t}),eB.activeEditor===e&&(eB.activeEditor=_B.length>0?_B[0]:null),eB.focusedEditor===e&&(eB.focusedEditor=null),t.length!==_B.length},RB=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(DB(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};eB={defaultSettings:{},$:or,majorVersion:"5",minorVersion:"0.3",releaseDate:"2019-03-19",editors:kB,i18n:Ls,activeEditor:null,settings:{},setup:function(){var e,n,r,o,a=this,i="";if(n=$M.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),r=window.tinymce||window.tinyMCEPreInit,r)e=r.base||r.baseURL,i=r.suffix;else{for(var s=t.document.getElementsByTagName("script"),u=0;u<s.length;u++){o=s[u].src;var c=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==c.indexOf(".min")&&(i=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&t.document.currentScript&&(o=t.document.currentScript.src,-1!==o.indexOf(".min")&&(i=".min"),e=o.substring(0,o.lastIndexOf("/")))}a.baseURL=new $M(n).toAbsolute(e),a.documentBaseURL=n,a.baseURI=new $M(a.baseURL),a.suffix=i,vB.setup(a)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new $M(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new $M(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)zs.PluginManager.urls[o]=r[o]},init:function(e){var n,r,o=this;r=zn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var a=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},i=function(e){var t=e.id;return t||(t=e.name,t=t&&!bB.get(t)?e.name:bB.uniqueId(),e.setAttribute("id",t)),t},s=function(t){var n=e[t];if(n)return n.apply(o,Array.prototype.slice.call(arguments,2))},u=function(e,t){return t.constructor===RegExp?t.test(e.className):bB.hasClass(e,t)},c=function(e){var n,r=[];if(Oe.ie&&Oe.ie<11)return kg.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return wB(e.types,function(e){r=r.concat(bB.select(e.selector))}),r;if(e.selector)return bB.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":n=e.elements||"",n.length>0&&wB(yB(n),function(e){var n;(n=bB.get(e))?r.push(n):wB(t.document.forms,function(t){wB(t.elements,function(t){t.name===e&&(e="mce_editor_"+CB++,bB.setAttrib(t,"id",e),r.push(t))})})});break;case"textareas":case"specific_textareas":wB(bB.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||r.push(t)});break}return r},l=function(e){n=e},d=function(){var t,n=0,r=[],u=function(e,a,i){var s=new JM(e,a,o);r.push(s),s.on("init",function(){++n===t.length&&l(r)}),s.targetElm=s.targetElm||i,s.render()};bB.unbind(window,"ready",d),s("onpageload"),t=or.unique(c(e)),e.types?wB(e.types,function(n){zn.each(t,function(t){return!bB.is(t,n.selector)||(u(i(t),xB({},e,n),t),!1)})}):(zn.each(t,function(e){RB(o.get(e.id))}),t=zn.grep(t,function(e){return!o.get(e.id)}),0===t.length?l([]):wB(t,function(t){a(e,t)?kg.initError("Could not initialize inline editor on invalid inline target element",t):u(i(t),e,t)}))};return o.settings=e,bB.bind(window,"ready",d),new De(function(e){n?e(n):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?_B.slice(0):A(e)?J(_B,function(t){return t.id===e}).getOr(null):F(e)&&_B[e]?_B[e]:null},add:function(e){var t,n=this;return t=kB[e.id],t===e?e:(null===n.get(e.id)&&(TB(e.id)&&(kB[e.id]=e),kB.push(e),_B.push(e)),EB(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),ZM||(ZM=function(){n.fire("BeforeUnload")},bB.bind(window,"beforeunload",ZM)),e)},createEditor:function(e,t){return this.add(new JM(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!A(e))return n=e,L(r.get(n.id))?null:(DB(n)&&r.fire("RemoveEditor",{editor:n}),0===_B.length&&bB.unbind(window,"beforeunload",ZM),n.remove(),EB(_B.length>0),n);wB(bB.select(e),function(e){n=r.get(e.id),n&&r.remove(n)})}else for(t=_B.length-1;t>=0;t--)r.remove(_B[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new JM(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){wB(_B,function(e){e.save()})},addI18n:function(e,t){Ls.add(e,t)},translate:function(e){return Ls.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},xB(eB,TM),eB.setup();var NB=eB;function IB(e){var t=function(t,n){return lm.walk(e,t,n)},n=Wy.split,r=function(t){return yk.normalize(e,t).fold(o(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})};return{walk:t,split:n,normalize:r}}(function(e){e.compareRanges=mv.isEq,e.getCaretRangeFromPoint=hS.fromPoint,e.getSelectedNode=Oc,e.getNode=Ec})(IB||(IB={}));var AB,MB,BB=IB,LB=Math.min,PB=Math.max,zB=Math.round,FB=function(e,t,n){var r,o,a,i,s,u;return r=t.x,o=t.y,a=e.w,i=e.h,s=t.w,u=t.h,n=(n||"").split(""),"b"===n[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=zB(u/2)),"c"===n[1]&&(r+=zB(s/2)),"b"===n[3]&&(o-=i),"r"===n[4]&&(r-=a),"c"===n[3]&&(o-=zB(i/2)),"c"===n[4]&&(r-=zB(a/2)),UB(r,o,a,i)},jB=function(e,t,n,r){var o,a;for(a=0;a<r.length;a++)if(o=FB(e,t,r[a]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[a];return null},HB=function(e,t,n){return UB(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},VB=function(e,t){var n,r,o,a;return n=PB(e.x,t.x),r=PB(e.y,t.y),o=LB(e.x+e.w,t.x+t.w),a=LB(e.y+e.h,t.y+t.h),o-n<0||a-r<0?null:UB(n,r,o-n,a-r)},$B=function(e,t,n){var r,o,a,i,s,u,c,l,d,f;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,d=t.x+t.w,f=t.y+t.h,r=PB(0,t.x-s),o=PB(0,t.y-u),a=PB(0,c-d),i=PB(0,l-f),s+=r,u+=o,n&&(c+=r,l+=o,s-=a,u-=i),c-=a,l-=i,UB(s,u,c-s,l-u)},UB=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},qB=function(e){return UB(e.left,e.top,e.width,e.height)},WB={inflate:HB,relativePosition:FB,findBestRelativePosition:jB,intersect:VB,clamp:$B,create:UB,fromClientRect:qB},KB=zn.each,YB=zn.extend,XB=function(){};XB.extend=AB=function(e){var t,n,r,o=this,a=o.prototype,i=function(){var e,t,n,r=this;if(!MB&&(r.init&&r.init.apply(r,arguments),t=r.Mixins,t)){e=t.length;while(e--)n=t[e],n.init&&n.init.apply(r,arguments)}},s=function(){return this},u=function(e,t){return function(){var n,r=this,o=r._super;return r._super=a[e],n=t.apply(r,arguments),r._super=o,n}};for(n in MB=!0,t=new o,MB=!1,e.Mixins&&(KB(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&KB(e.Methods.split(","),function(t){e[t]=s}),e.Properties&&KB(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&KB(e.Statics,function(e,t){i[t]=e}),e.Defaults&&a.Defaults&&(e.Defaults=YB({},a.Defaults,e.Defaults)),e)r=e[n],"function"===typeof r&&a[n]?t[n]=u(n,r):t[n]=r;return i.prototype=t,i.constructor=i,i.extend=AB,i};var GB=Math.min,JB=Math.max,QB=Math.round,ZB=function(e){var t={},n=0,r=0,o=0,a=function(e,t,n){var r,o,a,i,s,u;return r=0,o=0,a=0,e/=255,t/=255,n/=255,s=GB(e,GB(t,n)),u=JB(e,JB(t,n)),s===u?(a=s,{h:0,s:0,v:100*a}):(i=e===s?t-n:n===s?e-t:n-e,r=e===s?3:n===s?1:5,r=60*(r-i/(u-s)),o=(u-s)/u,a=u,{h:QB(r),s:QB(100*o),v:QB(100*a)})},i=function(e,t,a){var i,s,u,c;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,a=parseInt(a,10)/100,t=JB(0,GB(t,1)),a=JB(0,GB(a,1)),0!==t){switch(i=e/60,s=a*t,u=s*(1-Math.abs(i%2-1)),c=a-s,Math.floor(i)){case 0:n=s,r=u,o=0;break;case 1:n=u,r=s,o=0;break;case 2:n=0,r=s,o=u;break;case 3:n=0,r=u,o=s;break;case 4:n=u,r=0,o=s;break;case 5:n=s,r=0,o=u;break;default:n=r=o=0}n=QB(255*(n+c)),r=QB(255*(r+c)),o=QB(255*(o+c))}else n=r=o=QB(255*a)},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},u=function(){return{r:n,g:r,b:o}},c=function(){return a(n,r,o)},l=function(e){var a;return"object"===typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&i(e.h,e.s,e.v):(a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(a[1],10),r=parseInt(a[2],10),o=parseInt(a[3],10)):(a=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(a[1],16),r=parseInt(a[2],16),o=parseInt(a[3],16)):(a=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(a[1]+a[1],16),r=parseInt(a[2]+a[2],16),o=parseInt(a[3]+a[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=u,t.toHsv=c,t.toHex=s,t.parse=l,t},eL=function(e){var t=JSON.stringify(e);return A(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},tL={serialize:eL,parse:function(e){try{return JSON.parse(e)}catch(t){}}},nL={callbacks:{},count:0,send:function(e){var t=this,n=gs.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(a){n.remove(o),delete t.callbacks[r],e.callback(a)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},rL={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Le.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",rL.fire("beforeInitialize",{settings:e}),t=Dg(),t){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&zn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=rL.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();Le.setTimeout(r,10)}}};zn.extend(rL,TM);var oL=zn.extend,aL=function(e){this.settings=oL({},e),this.count=0};aL.sendRPC=function(e){return(new aL).send(e)},aL.prototype={send:function(e){var t=e.error,n=e.success;e=oL(this.settings,e),e.success=function(r,o){r=tL.parse(r),"undefined"===typeof r&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=tL.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",rL.send(e)}};var iL,sL=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{iL=t.window.localStorage}catch(pL){iL=sL()}var uL=iL,cL=NB,lL={geom:{Rect:WB},util:{Promise:De,Delay:Le,Tools:zn,VK:Ib,URI:$M,Class:XB,EventDispatcher:SM,Observable:TM,I18n:Ls,XHR:rL,JSON:tL,JSONRequest:aL,JSONP:nL,LocalStorage:uL,Color:ZB},dom:{EventUtils:Ye,Sizzle:Jt,DomQuery:or,TreeWalker:za,DOMUtils:gs,ScriptLoader:xs,RangeUtils:BB,Serializer:GC,ControlSelection:nS,BookmarkManager:QC,Selection:Fk,Event:Ye.Event},html:{Styles:is,Entities:Ki,Node:Tm,Schema:os,SaxParser:Am,DomParser:VC,Writer:wp,Serializer:xp},Env:Oe,AddOnManager:zs,Annotator:Cm,Formatter:mC,UndoManager:Ty,EditorCommands:xM,WindowManager:pg,NotificationManager:fg,EditorObservable:AM,Shortcuts:zM,Editor:JM,FocusManager:nB,EditorManager:NB,DOM:gs.DOM,ScriptLoader:xs.ScriptLoader,PluginManager:zs.PluginManager,ThemeManager:zs.ThemeManager,IconManager:Tg,trim:zn.trim,isArray:zn.isArray,is:zn.is,toArray:zn.toArray,makeMap:zn.makeMap,each:zn.each,map:zn.map,grep:zn.grep,inArray:zn.inArray,extend:zn.extend,create:zn.create,walk:zn.walk,createNS:zn.createNS,resolve:zn.resolve,explode:zn.explode,_addCacheSuffix:zn._addCacheSuffix,isOpera:Oe.opera,isWebKit:Oe.webkit,isIE:Oe.ie,isGecko:Oe.gecko,isMac:Oe.mac};cL=zn.extend(cL,lL);var dL=cL,fL=function(t){try{e.exports=t}catch(n){}},mL=function(e){window.tinymce=e,window.tinyMCE=e};mL(dL),fL(dL)})(window)})()},e5ab:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板CODE"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateCode",{}],expression:"['templateCode', {} ]"}],attrs:{disabled:e.disable}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateName",e.validatorRules.templateName],expression:"['templateName', validatorRules.templateName]"}],attrs:{placeholder:"请输入模板标题"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板内容"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateContent",e.validatorRules.templateContent],expression:"['templateContent', validatorRules.templateContent ]"}],attrs:{placeholder:"请输入模板内容",autosize:{minRows:8,maxRows:8}}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模板类型"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["templateType",e.validatorRules.templateType],expression:"['templateType', validatorRules.templateType ]"}],attrs:{triggerChange:!0,dictCode:"msgType",placeholder:"请选择模板类型"}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("0fea"),u=n("88bc"),c=n.n(u),l={name:"SysMessageTemplateModal",data:function(){return{title:"操作",visible:!1,disable:!0,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{templateName:{rules:[{required:!0,message:"请输入模板标题!"}]},templateContent:{rules:[{required:!0,message:"请输入模板内容!"}]},templateType:{rules:[{required:!0,message:"请输入模板类型!"}]}},url:{add:"/message/sysMessageTemplate/add",edit:"/message/sysMessageTemplate/edit"}}},created:function(){},methods:{add:function(){this.disable=!1,this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=i()({},e),this.visible=!0,this.$nextTick(function(){t.form.setFieldsValue(c()(t.model,"templateCode","templateContent","templateName","templateTestJson","templateType"))})},close:function(){this.$emit("close"),this.visible=!1,this.disable=!0},handleOk:function(){var e=this;this.model.templateType=this.templateType;var t=this;this.form.validateFields(function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var u=i()(e.model,r);console.log(u),Object(s["f"])(o,u,a).then(function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)}).finally(function(){t.confirmLoading=!1,t.close()})}})},handleCancel:function(){this.close()}}},d=l,f=n("2877"),m=Object(f["a"])(d,r,o,!1,null,"2e7e9f81",null);t["default"]=m.exports},e5e7:function(e,t,n){},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e6b8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},o=[],a=(n("b445"),n("501f"),{name:"IframePageContent",data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;this.id=t,console.log("------url------"+e),null!==e&&void 0!==e&&(this.url=e)}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,null,null);t["default"]=u.exports},e6ea:function(e,t,n){"use strict";var r=n("2f6b"),o=n.n(r);o.a},e814:function(e,t,n){e.exports=n("b9e9")},e824:function(e,t,n){},e8b0:function(e,t){(function(){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},o={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},a=[new RegExp(r.aletter),new RegExp(r.midnumlet),new RegExp(r.midletter),new RegExp(r.midnum),new RegExp(r.numeric),new RegExp(r.cr),new RegExp(r.lf),new RegExp(r.newline),new RegExp(r.extend),new RegExp(r.format),new RegExp(r.katakana),new RegExp(r.extendnumlet),new RegExp("@")],i="",s=new RegExp("^"+r.punctuation+"$"),u=/^\s+$/,c=function(e){return function(){return e}},l=function(e){return e},d=c(!1),f=c(!0),m=d,p=f,h=function(){return g},g=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},a=function(){},i={fold:function(e,t){return e()},is:m,isSome:m,isNone:p,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:a,or:n,orThunk:t,map:h,ap:h,each:r,bind:h,flatten:h,exists:m,forall:p,filter:h,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")};return Object.freeze&&Object.freeze(i),i}(),v=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},b=function(e){return function(t){return v(t)===e}},y=b("function"),w=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o,e)}return r},x=Array.prototype.slice,C=(y(Array.from)&&Array.from,a),S=o.OTHER,k=function(e){for(var t=S,n=C.length,r=0;r<n;++r){var o=C[r];if(o&&o.test(e)){t=r;break}}return t},_=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},T=function(e){var t=_(k);return w(e,t)},O=function(e,t){var n,r,a=e[t],i=e[t+1];return!(t<0||t>e.length-1&&0!==t)&&((a!==o.ALETTER||i!==o.ALETTER)&&(r=e[t+2],(a!==o.ALETTER||i!==o.MIDLETTER&&i!==o.MIDNUMLET&&i!==o.AT||r!==o.ALETTER)&&(n=e[t-1],(a!==o.MIDLETTER&&a!==o.MIDNUMLET&&i!==o.AT||i!==o.ALETTER||n!==o.ALETTER)&&((a!==o.NUMERIC&&a!==o.ALETTER||i!==o.NUMERIC&&i!==o.ALETTER)&&((a!==o.MIDNUM&&a!==o.MIDNUMLET||i!==o.NUMERIC||n!==o.NUMERIC)&&((a!==o.NUMERIC||i!==o.MIDNUM&&i!==o.MIDNUMLET||r!==o.NUMERIC)&&(a!==o.EXTEND&&a!==o.FORMAT&&n!==o.EXTEND&&n!==o.FORMAT&&i!==o.EXTEND&&i!==o.FORMAT&&((a!==o.CR||i!==o.LF)&&(a===o.NEWLINE||a===o.CR||a===o.LF||(i===o.NEWLINE||i===o.CR||i===o.LF||(a!==o.KATAKANA||i!==o.KATAKANA)&&((i!==o.EXTENDNUMLET||a!==o.ALETTER&&a!==o.NUMERIC&&a!==o.KATAKANA&&a!==o.EXTENDNUMLET)&&((a!==o.EXTENDNUMLET||i!==o.ALETTER&&i!==o.NUMERIC&&i!==o.KATAKANA)&&a!==o.AT))))))))))))},E=i,D=u,R=s,N=function(e){return"http"===e||"https"===e},I=function(e,t){var n;for(n=t;n<e.length;n++)if(D.test(e[n]))break;return n},A=function(e,t){var n=I(e,t+1),r=e.slice(t+1,n).join(E);return"://"===r.substr(0,3)?n:t},M=function(e,t,n,r){for(var o=[],a=[],i=0;i<n.length;++i)if(a.push(e[i]),O(n,i)){var s=t[i];if((r.includeWhitespace||!D.test(s))&&(r.includePunctuation||!R.test(s))){var u=i-a.length+1,c=i+1,l=t.slice(u,c).join(E);if(N(l)){var d=A(t,i),f=e.slice(c,d);Array.prototype.push.apply(a,f),i=d}o.push(a)}a=[]}return o},B=function(){return{includeWhitespace:!1,includePunctuation:!1}},L=function(e,t,r){r=n({},B(),r);for(var o=[],a=[],i=0;i<e.length;i++){var s=t(e[i]);"\ufeff"!==s&&(o.push(e[i]),a.push(s))}var u=T(a);return M(o,a,u,r)},P=L,z=function(e,n){var r=n.getBlockElements(),o=n.getShortEndedElements(),a=n.getWhiteSpaceElements(),i=function(e){return r[e.nodeName]||o[e.nodeName]||a[e.nodeName]},s="",u=new t(e,e);while(e=u.next())3===e.nodeType?s+=e.data:0!==s.length&&i(e)&&(s+=" ");return s},F=function(e){return e.removed?"":z(e.getBody(),e.schema)},j=function(e){return{words:P(e.split(""),l).length,characters:e.length,charactersNoSpace:e.replace(/\s/g,"").length}},H=function(e){return j(F(e))},V=function(e){var t=z(e.selection.getRng().cloneContents(),e.schema);return e.selection.isCollapsed()?j(""):j(t)},$=function(e){var t=function(){return H(e).words};return{getCount:t}},U=tinymce.util.Tools.resolve("tinymce.util.Delay"),q=function(e,t){e.fire("wordCountUpdate",{wordCount:t})},W=function(e){var t=H(e);q(e,t)},K=function(e){var t=U.debounce(function(){return W(e)},300);e.on("init",function(){W(e),U.setEditorTimeout(e,function(){e.on("setcontent beforeaddundo undo redo keyup",t)},0)})},Y=function(e){var t=H(e),n=V(e);e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.words),String(n.words)],["Characters (no spaces)",String(t.charactersNoSpace),String(n.charactersNoSpace)],["Characters",String(t.characters),String(n.characters)]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},X=function(e){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return Y(e)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return Y(e)}})};function G(){}e.add("wordcount",function(e){return X(e),K(e),$(e)})})()})()},edd9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.dataSource,padding:e.padding}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],a=(n("c5f6"),n("ca00")),i={name:"Bar",props:{dataSource:{type:Array,required:!0},title:{type:String,default:""},height:{type:Number,default:254}},data:function(){return{padding:["auto","auto","40","50"]}},mounted:function(){Object(a["i"])()}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,null,null);t["default"]=c.exports},ee18:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-form",[n("a-form-item",{attrs:{label:"所拥有的权限"}},[n("a-tree",{attrs:{checkable:"",checkedKeys:e.checkedKeys,treeData:e.treeData,expandedKeys:e.expandedKeysss,checkStrictly:e.checkStrictly},on:{check:e.onCheck,expand:e.onExpand,select:e.onTreeNodeSelect},scopedSlots:e._u([{key:"hasDatarule",fn:function(t){var r=t.slotTitle,o=t.icon;return n("span",{},[e._v("\n          "+e._s(r)),o?n("a-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{type:"align-left"}}):e._e()],1)}}])})],1)],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.switchCheckStrictly(1)}}},[e._v("父子关联")]),n("a-menu-item",{key:"2",on:{click:function(t){return e.switchCheckStrictly(2)}}},[e._v("取消关联")]),n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n        树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.close}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1),n("role-datarule-modal",{ref:"datarule"})],1)},o=[],a=n("75fc"),i=n("4ec3"),s=n("2285"),u={name:"RoleModal",components:{RoleDataruleModal:s["default"]},data:function(){return{roleId:"",treeData:[],defaultCheckedKeys:[],checkedKeys:[],expandedKeysss:[],allTreeKeys:[],autoExpandParent:!0,checkStrictly:!0,title:"角色权限配置",visible:!1,loading:!1}},methods:{onTreeNodeSelect:function(e){this.$refs.datarule.show(e[0],this.roleId)},onCheck:function(e){this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},show:function(e){this.roleId=e,this.visible=!0},close:function(){this.reset(),this.$emit("close"),this.visible=!1},onExpand:function(e){this.expandedKeysss=e,this.autoExpandParent=!1},reset:function(){this.expandedKeysss=[],this.checkedKeys=[],this.defaultCheckedKeys=[],this.loading=!1},expandAll:function(){this.expandedKeysss=this.allTreeKeys},closeAll:function(){this.expandedKeysss=[]},checkALL:function(){this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},switchCheckStrictly:function(e){1==e?this.checkStrictly=!1:2==e&&(this.checkStrictly=!0)},handleCancel:function(){this.close()},handleSubmit:function(){var e=this,t={permissionIds:e.checkedKeys.join(","),roleId:e.roleId};e.loading=!0,console.log("请求参数：",t),Object(i["K"])(t).then(function(t){t.success?(e.$message.success(t.message),e.loading=!1,e.close()):(e.$message.error(t.message),e.loading=!1,e.close())})}},watch:{visible:function(){var e=this;this.visible&&Object(i["F"])().then(function(t){e.treeData=t.result.treeList,e.allTreeKeys=t.result.ids,Object(i["D"])({roleId:e.roleId}).then(function(t){e.checkedKeys=Object(a["a"])(t.result),e.defaultCheckedKeys=Object(a["a"])(t.result),e.expandedKeysss=e.allTreeKeys})})}}},c=u,l=(n("bf0e"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"ed2913e0",null);t["default"]=d.exports},ee3b:function(e,t,n){"use strict";var r=n("d6a6"),o=n.n(r);o.a},ef28:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:"",size:"large"},on:{search:e.onSearch},model:{value:this.selectedUserNames,callback:function(t){e.$set(this,"selectedUserNames",t)},expression:"this.selectedUserNames"}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v("选择用户")])],1),n("j-search-user-by-dep",{ref:"JSearchUserByDep",on:{ok:e.modalFormOk}})],1)},o=[],a=n("77fc"),i={name:"SearchUserByDepList",components:{JSearchUserByDep:a["default"]},data:function(){return{selectedUserNames:""}},methods:{onSearch:function(){this.$refs.JSearchUserByDep.showModal(),this.selectedUserNames="",this.$refs.JSearchUserByDep.title="根据部门查询用户"},modalFormOk:function(e){this.selectedUserNames=e}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"34b93cd3",null);t["default"]=c.exports},f153:function(e,t,n){},f2f0:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide page-header-wrapper-grid-content-main"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:24,lg:7}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"account-center-avatarHolder"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.getAvatar()}})]),n("div",{staticClass:"username"},[e._v(e._s(e.nickname()))]),n("div",{staticClass:"bio"},[e._v("海纳百川，有容乃大")])]),n("div",{staticClass:"account-center-detail"},[n("p",[n("i",{staticClass:"title"}),e._v("交互专家\n          ")]),n("p",[n("i",{staticClass:"group"}),e._v("蚂蚁金服－某某某事业群－某某平台部－某某技术部－UED\n          ")]),n("p",[n("i",{staticClass:"address"}),n("span",[e._v("浙江省")]),n("span",[e._v("杭州市")])])]),n("a-divider"),n("div",{staticClass:"account-center-tags"},[n("div",{staticClass:"tagsTitle"},[e._v("标签")]),n("div",[e._l(e.tags,function(t,r){return[t.length>20?n("a-tooltip",{key:t,attrs:{title:t}},[n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v("\n                  "+e._s(t.slice(0,20)+"...")+"\n                ")])],1):n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v(e._s(t))])]}),e.tagInputVisible?n("a-input",{ref:"tagInput",style:{width:"78px"},attrs:{type:"text",size:"small",value:e.tagInputValue},on:{change:e.handleInputChange,blur:e.handleTagInputConfirm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleTagInputConfirm(t)}}}):n("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},on:{click:e.showTagInput}},[n("a-icon",{attrs:{type:"plus"}}),e._v(" New Tag\n            ")],1)],2)]),n("a-divider",{attrs:{dashed:!0}}),n("div",{staticClass:"account-center-team"},[n("div",{staticClass:"teamTitle"},[e._v("团队")]),n("a-spin",{attrs:{spinning:e.teamSpinning}},[n("div",{staticClass:"members"},[n("a-row",e._l(e.teams,function(t,r){return n("a-col",{key:r,attrs:{span:12}},[n("a",[n("a-avatar",{attrs:{size:"small",src:t.avatar}}),n("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])}),1)],1)])],1)],1)],1),n("a-col",{attrs:{md:24,lg:17}},[n("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["article"===e.noTitleKey?n("article-page"):"app"===e.noTitleKey?n("app-page"):"project"===e.noTitleKey?n("project-page"):e._e()],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("75fc"),u=n("cebc"),c=n("b445"),l=n("501f"),d=n("2f5e"),f=n("b8ea"),m=n("b8c5"),p=n("2f62"),h={components:{RouteView:l["default"],PageLayout:c["default"],AppPage:d["default"],ArticlePage:f["default"],ProjectPage:m["default"]},data:function(){return{tags:["很有想法的","专注设计","辣~","大长腿","川妹子","海纳百川"],tagInputVisible:!1,tagInputValue:"",teams:[],teamSpinning:!0,tabListNoTitle:[{key:"article",tab:"文章(8)"},{key:"app",tab:"应用(8)"},{key:"project",tab:"项目(8)"}],noTitleKey:"app"}},mounted:function(){this.getTeams()},methods:Object(u["a"])({},Object(p["c"])(["nickname","avatar"]),{getAvatar:function(){return window._CONFIG["imgDomainURL"]+"/"+this.avatar()},getTeams:function(){var e=this;this.$http.get("/api/workplace/teams").then(function(t){e.teams=t.result,e.teamSpinning=!1})},handleTabChange:function(e,t){this[t]=e},handleTagClose:function(e){var t=this.tags.filter(function(t){return t!=e});this.tags=t},showTagInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick(function(){e.$refs.tagInput.focus()})},handleInputChange:function(e){this.tagInputValue=e.target.value},handleTagInputConfirm:function(){var e=this.tagInputValue,t=this.tags;e&&-1===t.indexOf(e)&&(t=Object(s["a"])(t).concat([e])),i()(this,{tags:t,tagInputVisible:!1,tagInputValue:""})}})},g=h,v=(n("5968"),n("2877")),b=Object(v["a"])(g,r,o,!1,null,"7f521c8c",null);t["default"]=b.exports},f311:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-steps",{staticClass:"steps",attrs:{current:e.currentTab}},[n("a-step",{attrs:{title:"填写转账信息"}}),n("a-step",{attrs:{title:"确认转账信息"}}),n("a-step",{attrs:{title:"完成"}})],1),n("div",{staticClass:"content"},[0===e.currentTab?n("step1",{on:{nextStep:e.nextStep}}):e._e(),1===e.currentTab?n("step2",{on:{nextStep:e.nextStep,prevStep:e.prevStep}}):e._e(),2===e.currentTab?n("step3",{on:{prevStep:e.prevStep,finish:e.finish}}):e._e()],1)],1)},o=[],a=n("82ef"),i=n("f4a3"),s=n("a462"),u={name:"StepForm",components:{Step1:a["default"],Step2:i["default"],Step3:s["default"]},data:function(){return{description:"将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。",currentTab:0,form:null}},methods:{nextStep:function(){this.currentTab<2&&(this.currentTab+=1)},prevStep:function(){this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.currentTab=0}}},c=u,l=(n("2d96"),n("2877")),d=Object(l["a"])(c,r,o,!1,null,"cb3a4db8",null);t["default"]=d.exports},f32b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!1,title:e.title,description:e.description}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回修改")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"16px"}},[e._v("\n        您提交的内容有如下错误：\n      ")]),n("div",{staticStyle:{"margin-bottom":"16px"}},[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户已被冻结\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即解冻 "),n("a-icon",{attrs:{type:"right"}})],1)],1),n("div",[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户还不具备申请资格\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即升级 "),n("a-icon",{attrs:{type:"right"}})],1)],1)])],2)],1)},o=[],a=n("9a3d"),i={name:"Error",components:{Result:a["default"]},data:function(){return{title:"提交失败",description:"请核对并修改以下信息后，再重新提交。"}}},s=i,u=n("2877"),c=Object(u["a"])(s,r,o,!1,null,"3b816936",null);t["default"]=c.exports},f4a3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{closable:!0,message:"确认转账后，资金将直接打入对方账户，无法退回。"}}),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ant-design@alipay.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      test@example.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      Alex\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ￥ 5,000.00\n    ")]),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.nextStep}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prevStep}},[e._v("上一步")])],1)],1)],1)},o=[],a={name:"Step2",data:function(){return{loading:!1}},methods:{nextStep:function(){var e=this;e.loading=!0,setTimeout(function(){e.$emit("nextStep")},1500)},prevStep:function(){this.$emit("prevStep")}}},i=a,s=(n("14db"),n("2877")),u=Object(s["a"])(i,r,o,!1,null,"58be0970",null);t["default"]=u.exports},f534:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"高级查询构造器",width:800,visible:e.visible,confirmLoading:e.confirmLoading,mask:!1,okText:"查询",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("div",e._l(e.queryParamsModel,function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择查询字段"},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}},[n("a-select-option",{attrs:{value:"name"}},[e._v("用户名")]),n("a-select-option",{attrs:{value:"key_word"}},[e._v("关键词")]),n("a-select-option",{attrs:{value:"birthday"}},[e._v("生日")]),n("a-select-option",{attrs:{value:"age"}},[e._v("年龄")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择匹配规则"},model:{value:t.rule,callback:function(n){e.$set(t,"rule",n)},expression:"item.rule"}},[n("a-select-option",{attrs:{value:"="}},[e._v("等于")]),n("a-select-option",{attrs:{value:"!="}},[e._v("不等于")]),n("a-select-option",{attrs:{value:">"}},[e._v("大于")]),n("a-select-option",{attrs:{value:">="}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"<"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"<="}},[e._v("小于等于")]),n("a-select-option",{attrs:{value:"LEFT_LIKE"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"RIGHT_LIKE"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"LIKE"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"IN"}},[e._v("在...中")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],1),n("a-col",{attrs:{span:6}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \n            "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)}),1)])],1)],1)},o=[],a=(n("0fea"),{name:"SuperQueryModal",data:function(){return{visible:!1,queryParamsModel:[{},{}],confirmLoading:!1}},created:function(){},methods:{show:function(){this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){console.log(this.queryParamsModel),this.$emit("handleSuperQuery",this.queryParamsModel)},handleCancel:function(){this.close()},handleAdd:function(){this.queryParamsModel.push({})},handleDel:function(e){console.log(e),this.queryParamsModel.splice(e,1)}}}),i=a,s=n("2877"),u=Object(s["a"])(i,r,o,!1,null,"7800fec9",null);t["default"]=u.exports},f552:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{ref:"chart",attrs:{forceFit:!0,height:e.height,data:e.dataSource,scale:e.scale}},[n("v-tooltip"),n("v-axis"),n("v-line",{attrs:{position:"x*y",size:e.lineSize}}),n("v-area",{attrs:{position:"x*y"}})],1)],1)},o=[],a=(n("c5f6"),n("ca00")),i={name:"AreaChartTy",props:{dataSource:{type:Array,required:!0},title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},height:{type:Number,default:254},lineSize:{type:Number,default:2}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},mounted:function(){Object(a["i"])()}},s=i,u=(n("d29d"),n("2877")),c=Object(u["a"])(s,r,o,!1,null,"04f73b98",null);t["default"]=c.exports},f557:function(e,t,n){n("5e4c")},f5eb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"规则编号"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t.advanced?[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"调用次数"}},[r("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.callNo,callback:function(e){t.$set(t.queryParam,"callNo",e)},expression:"queryParam.callNo"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"更新日期"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"},model:{value:t.queryParam.date,callback:function(e){t.$set(t.queryParam,"date",e)},expression:"queryParam.date"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.useStatus,callback:function(e){t.$set(t.queryParam,"useStatus",e)},expression:"queryParam.useStatus"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1)]:t._e(),r("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.resetSearchForm}},[t._v("重置")]),r("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),r("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),r("div",{staticClass:"table-operator"},[r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.handleModalVisible(!0)}}},[t._v("新建")]),t.selectedRowKeys.length>0?r("a-dropdown",[r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",{key:"1"},[r("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1),r("a-menu-item",{key:"2"},[r("a-icon",{attrs:{type:"lock"}}),t._v("锁定")],1)],1),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("\n        批量操作 "),r("a-icon",{attrs:{type:"down"}})],1)],1):t._e()],1),r("s-table",{ref:"table",attrs:{size:"default",columns:t.columns,data:t.loadData,showAlertInfo:!0},on:{onSelect:t.onChange},scopedSlots:t._u([{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"规则编号",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"规则编号",id:"no"},model:{value:t.mdl.no,callback:function(e){t.$set(t.mdl,"no",e)},expression:"mdl.no"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"服务调用次数",hasFeedback:"",validateStatus:"success"}},[r("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,id:"callNo"},model:{value:t.mdl.callNo,callback:function(e){t.$set(t.mdl,"callNo",e)},expression:"mdl.callNo"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{attrs:{defaultValue:"1"},model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("Option 1")]),r("a-select-option",{attrs:{value:"2"}},[t._v("Option 2")]),r("a-select-option",{attrs:{value:"3"}},[t._v("Option 3")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:"",help:"请填写一段描述"}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"description"},model:{value:t.mdl.description,callback:function(e){t.$set(t.mdl,"description",e)},expression:"mdl.description"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"更新时间",hasFeedback:"",validateStatus:"error"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss",placeholder:"Select Time"}})],1)],1)],1),r("a-modal",{attrs:{title:"新建规则",destroyOnClose:"",visible:t.visibleCreateModal},on:{ok:t.handleCreateModalOk,cancel:t.handleCreateModalCancel}},[r("a-form",{staticStyle:{"margin-top":"8px"},attrs:{autoFormCreate:function(t){e.createForm=t}}},[r("a-form-item",{attrs:{labelCol:{span:5},wrapperCol:{span:15},label:"描述",fieldDecoratorId:"description",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入至少五个字符的规则描述！",min:5}]}}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1)],1)],1)},o=[],a=n("5176"),i=n.n(a),s=n("e8c4"),u=n("261e"),c=n("27e3"),l=n("c1df"),d=n.n(l),f=n("bc3a"),m=n.n(f),p=n("0fea"),h={name:"TableList",components:{AInput:c["a"],ATextarea:u["a"],STable:s["a"]},data:function(){var e=this;return{visibleCreateModal:!1,visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}},form:null,mdl:{},advanced:!0,queryParam:{},columns:[{title:"规则编号",dataIndex:"no"},{title:"描述",dataIndex:"description"},{title:"服务调用次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(e){return e+" 次"}},{title:"状态",dataIndex:"status",needTotal:!0},{title:"更新时间",dataIndex:"updatedAt",sorter:!0},{table:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(p["e"])(i()(t,e.queryParam)).then(function(e){return e.result})},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(p["d"])({t:new Date})},methods:{handleEdit:function(e){this.mdl=i()({},e),console.log(this.mdl),this.visible=!0},handleOk:function(){},handleModalVisible:function(e){this.visibleCreateModal=e},handleCreateModalOk:function(){var e=this;this.createForm.validateFields(function(t,n){if(!t){var r=e.createForm.getFieldValue("description");m.a.post("/saveRule",{desc:r}).then(function(t){e.createForm.resetFields(),e.visibleCreateModal=!1,e.loadRuleData()})}})},handleCreateModalCancel:function(){this.visibleCreateModal=!1},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows,console.log(this.$refs.table)},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:d()(new Date)}}},watch:{}},g=h,v=n("2877"),b=Object(v["a"])(g,r,o,!1,null,null,null);t["default"]=b.exports},f635:function(e,t,n){"use strict";var r=n("04b3"),o=n.n(r);o.a},f7de:function(e,t,n){},f8e7:function(e,t,n){"use strict";var r=n("f7de"),o=n.n(r);o.a},f9cc:function(e,t,n){"use strict";var r=n("c2a5"),o=n.n(r);o.a},fb72:function(e,t,n){"use strict";var r=n("1f6a"),o=n.n(r);o.a},fc40:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:this.onSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入用户名搜索"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:e.searchReset}},[e._v("重置")]),n("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)],1)],1)],1)},o=[],a=(n("6b54"),n("a4bb")),i=n.n(a),s=n("5176"),u=n.n(s),c=n("ca00"),l=n("4ec3"),d={name:"JSearchUserByDepModal",components:{},data:function(){return{queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"}],scrollTrigger:{},dataSource:[],userDataSource:[],selectedKeys:[],userNameArr:[],departName:"",userRolesMap:{},title:"",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectedRows:[],modalWidth:1250,departTree:[],visible:!1,form:this.$form.createForm(this)}},created:function(){this.resetScreenSize(),this.queryUserRoleMap()},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["y"])(n).then(function(e){e.success&&(t.dataSource=e.result.records,t.userDataSource=e.result.records,t.assignRoleName(t.dataSource),t.ipagination.total=e.result.total)})},queryUserRoleMap:function(){var e=this;Object(l["I"])().then(function(t){t.success&&(e.userRolesMap=t.result,e.loadData())})},resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.assignRoleName(this.dataSource),this.queryDepartTree(),this.form.resetFields()},getQueryParams:function(){var e=u()({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.dataSource=t.userDataSource),t.selectedRowKeys=[],t.userNameArr=[],t.queryParam={},t.selectedKeys=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){i()(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){for(var e=this,t=0,n=this.selectedRowKeys.length;t<n;t++)this.getUserNames(this.selectedRowKeys[t]);e.$emit("ok",e.userNameArr.join(",")),e.close()},getUserNames:function(e){for(var t=this.dataSource,n=0,r=t.length;n<r;n++)e===t[n].id&&this.userNameArr.push(t[n].realname)},onSelect:function(e){null!=e[0]&&(this.queryUserByDepId(e),this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},queryUserByDepId:function(e){var t=this;Object(l["G"])({id:e.toString()}).then(function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length,t.assignRoleName(t.dataSource))})},queryUserRole:function(e){var t=this.userRolesMap,n=[];for(var r in t)e===r&&n.push(t[r]);return n.join(",")},queryDepartTree:function(){var e=this;Object(l["z"])().then(function(t){t.success&&(e.departTree=t.result)})},assignRoleName:function(e){for(var t="",n="",r=0,o=e.length;r<o;r++)t=this.dataSource[r].id,n=this.queryUserRole(t),this.dataSource[r].roleName=n},modalFormOk:function(){this.loadData()}}},f=d,m=(n("c06c"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"279e3c44",null);t["default"]=p.exports},fcbb:function(e,t,n){},fcbc:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("div",{staticClass:"marginCss"},[n("a-table",{ref:"table",attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,rowClassName:e.setdataCss,loading:e.loading,scroll:{y:700},pagination:!1},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r){return[n("div",{staticClass:"anty-img-wrap"},[n("img",{attrs:{src:e.getAvatarView(r)}})])]}}])},[n("span",{attrs:{slot:"dataVersionTitle1"},slot:"dataVersionTitle1"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion1Num))],1),n("span",{attrs:{slot:"dataVersionTitle2"},slot:"dataVersionTitle2"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion2Num))],1)])],1)])},o=[],a=n("0fea"),i={name:"DataLogCompareModal",data:function(){return{modalWidth:1e3,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},dataVersion1Num:"",dataVersion2Num:"",columns:[{title:"字段名",align:"left",dataIndex:"code",width:"30%"},{align:"left",dataIndex:"dataVersion1",width:"30%",slots:{title:"dataVersionTitle1"}},{title:"",dataIndex:"imgshow",align:"center",scopedSlots:{customRender:"avatarslot"},width:"10%"},{align:"left",dataIndex:"dataVersion2",width:"30%",slots:{title:"dataVersionTitle2"}}],dataSource:[],loading:!1,url:{queryCompareUrl:"/sys/dataLog/queryCompareList"}}},created:function(){},methods:{loadData:function(e,t){var n=this;this.dataSource=[];var r=this;Object(a["b"])(r.url.queryCompareUrl,{dataId1:e,dataId2:t}).then(function(e){if(e.success){r.dataVersion1Num=e.result[0].dataVersion,r.dataVersion2Num=e.result[1].dataVersion;var t=JSON.parse(e.result[0].dataContent),o=JSON.parse(e.result[1].dataContent);for(var a in t)for(var i in o)a==i&&n.dataSource.push({code:a,imgshow:"",dataVersion1:t[a],dataVersion2:o[i]})}else console.log(e.message)})},compareModal:function(e,t){this.visible=!0,this.loadData(e,t)},handleCancel:function(){this.close()},modalFormOk:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},setdataCss:function(e){var t="trcolor",n=e.dataVersion1,r=e.dataVersion2;if(n!=r)return t},getAvatarView:function(e){return e.dataVersion1!=e.dataVersion2?"/goright.png":""}}},s=i,u=(n("4a1c"),n("2877")),c=Object(u["a"])(s,r,o,!1,null,"6f34d1e7",null);t["default"]=c.exports},fd15:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板CODE"}},[n("a-input",{attrs:{placeholder:"请输入模板CODE"},model:{value:e.queryParam.templateCode,callback:function(t){e.$set(e.queryParam,"templateCode",t)},expression:"queryParam.templateCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板内容"}},[n("a-input",{attrs:{placeholder:"请输入模板内容"},model:{value:e.queryParam.templateContent,callback:function(t){e.$set(e.queryParam,"templateContent",t)},expression:"queryParam.templateContent"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板标题"}},[n("a-input",{attrs:{placeholder:"请输入模板标题"},model:{value:e.queryParam.templateName,callback:function(t){e.$set(e.queryParam,"templateName",t)},expression:"queryParam.templateName"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模板类型"}},[n("a-input",{attrs:{placeholder:"请输入模板类型"},model:{value:e.queryParam.templateType,callback:function(t){e.$set(e.queryParam,"templateType",t)},expression:"queryParam.templateType"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"templateContent",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),n("a-menu-item",[n("a",{on:{click:function(t){return e.handleTest(r)}}},[e._v("发送测试")])])],1)],1)],1)}}])})],1),n("sysMessageTemplate-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("sysMessageTest-modal",{ref:"testModal"})],1)},o=[],a=n("e814"),i=n.n(a),s=n("e5ab"),u=n("86a6"),c=n("b65a"),l=n("d579"),d={name:"SysMessageTemplateList",mixins:[c["a"]],components:{JEllipsis:l["default"],SysMessageTemplateModal:s["default"],SysMessageTestModal:u["default"]},data:function(){return{description:"消息模板管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return i()(n)+1}},{title:"模板CODE",align:"center",dataIndex:"templateCode"},{title:"模板标题",align:"center",dataIndex:"templateName"},{title:"模板内容",align:"center",dataIndex:"templateContent",scopedSlots:{customRender:"templateContent"}},{title:"模板类型",align:"center",dataIndex:"templateType",customRender:function(e){return"1"==e?"短信":"2"==e?"邮件":"3"==e?"微信":void 0}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/sysMessageTemplate/list",delete:"/message/sysMessageTemplate/delete",deleteBatch:"/message/sysMessageTemplate/deleteBatch",exportXlsUrl:"message/sysMessageTemplate/exportXls",importExcelUrl:"message/sysMessageTemplate/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTest:function(e){this.$refs.testModal.open(e),this.$refs.testModal.title="发送测试"}}},f=d,m=(n("c338"),n("2877")),p=Object(m["a"])(f,r,o,!1,null,"7e0795b6",null);t["default"]=p.exports},fd2f:function(e,t,n){"use strict";var r=n("0039"),o=n.n(r);o.a},ff2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{md:2,sm:4}},[n("a-select",{staticStyle:{width:"90px"},attrs:{defaultValue:"POST",size:"large"},on:{change:e.handleChange}},[n("a-select-option",{attrs:{value:"POST"}},[e._v("POST")])],1)],1),n("a-col",{attrs:{md:22,sm:20}},[n("a-input-search",{attrs:{placeholder:"input send url",enterButton:"Send",size:"large"},on:{search:e.onSearch},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"2"}},[n("a-tab-pane",{key:"2",attrs:{tab:"params"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:13},on:{input:e.changeVal}})])],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"response"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:10,readonly:""},domProps:{innerHTML:e._s(e.resultJson)}})])],1)],1)},o=[],a=(n("a481"),n("0fea")),i=n("9fb0"),s=n("2b0e"),u={name:"FlowTest",data:function(){return{url:"",paramJson:"",resultJson:{},requestMethod:"POST"}},methods:{onSearch:function(e){var t=this,n=this;this.resultJson={},"POST"===this.requestMethod.toUpperCase()?Object(a["g"])(e,this.paramJson).then(function(e){console.log(e),t.resultJson=e}).catch(function(e){n.$message.error("请求异常："+e)}):Object(a["b"])(e,this.paramJson).then(function(e){console.log(e),t.resultJson=e}).catch(function(e){n.$message.error("请求异常："+e)})},changeVal:function(e){try{var t=e.target.value;t=t.replace(/\n/g,""),t=t.replace(/\s*/g,""),t.indexOf(",}")>0&&(t=t.replace(",}","}")),this.paramJson=JSON.parse(t)}catch(e){console.log(e),this.$message.error("非法的JSON字符串")}},handleChange:function(e){this.requestMethod=e},created:function(){var e=s["a"].ls.get(i["a"]);this.headers={"X-Access-Token":e}}}},c=u,l=n("2877"),d=Object(l["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports}}]);